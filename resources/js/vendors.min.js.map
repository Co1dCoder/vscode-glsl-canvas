{"version":3,"sources":["node_modules/stats.js/build/stats.min.js","node_modules/dat.gui/build/dat.gui.min.js","node_modules/glsl-canvas-js/dist/umd/src/glsl.ts","../../node_modules/promise-polyfill/src/index.js","../../node_modules/promise-polyfill/src/finally.js","../../src/logger/logger.ts","../../src/core/common.ts","../../src/context/context.ts","../../src/buffers/buffers.ts","../../src/core/iterable.ts","../../src/textures/textures.ts","../../src/core/subscriber.ts","../../src/uniforms/uniforms.ts","../../src/canvas/canvas-timer.ts","../../src/canvas/canvas.ts"],"names":["f","e","exports","module","define","amd","Stats","this","a","c","appendChild","dom","u","d","children","length","style","display","l","document","createElement","cssText","addEventListener","preventDefault","k","performance","Date","now","g","r","Panel","h","self","memory","t","REVISION","addPanel","showPanel","begin","end","update","usedJSHeapSize","jsHeapSizeLimit","domElement","setMode","Infinity","Math","round","window","devicePixelRatio","v","m","n","p","q","width","height","b","getContext","font","textBaseline","fillStyle","fillRect","fillText","globalAlpha","w","min","max","drawImage","dat","__state","conversionName","toString","o","i","s","toFixed","hex","Object","defineProperty","get","space","I","recalculateRGB","set","recalculateHSV","S","isUndefined","match","U","isNull","parseFloat","indexOf","background","each","ee","__ul","insertBefore","onResize","X","unbind","__resizeHandler","saveToLocalStorageIfPossible","_","__preset_select","selectedIndex","innerHTML","value","getRoot","__rememberedObjects","object","__rememberedObjectIndecesToControllers","property","load","remembered","preset","se","initialValue","setValue","Error","color","$","concat","factoryArgs","ne","apply","before","z","__li","addClass","he","CLASS_CONTROLLER_ROW","H","getValue","__gui","extend","options","arguments","nextElementSibling","remove","toArray","isArray","isObject","name","firstElementChild","listen","Q","__min","__max","step","__step","Array","prototype","slice","call","isNumber","__listening","compose","K","bind","fakeEvent","__checkbox","stopPropagation","Z","__button","removeClass","updateDisplay","borderLeftColor","__color","isModified","__controllers","push","location","href","useLocalStorage","__save_row","firstChild","ae","getElementById","localStorage","getItem","setAttribute","metaKey","which","keyCode","le","hide","JSON","stringify","getSaveObject","show","focus","select","save","prompt","saveAs","revert","autoPlace","__closeButton","x","A","forEach","BREAK","keys","defaults","defer","setTimeout","debounce","clearTimeout","isNaN","constructor","isString","isBoolean","isFunction","O","litmus","conversions","THREE_CHAR_HEX","read","parseInt","write","SIX_CHAR_HEX","CSS_RGB","CSS_RGBA","HEX","RGB_ARRAY","RGBA_ARRAY","RGBA_OBJ","RGB_OBJ","HSVA_OBJ","HSV_OBJ","T","L","R","conversion","B","N","hsv_to_rgb","floor","rgb_to_hsv","NaN","rgb_to_hex","hex_with_component","component_from_hex","Symbol","iterator","F","TypeError","P","enumerable","configurable","writable","key","j","Function","getOwnPropertyDescriptor","getPrototypeOf","D","create","setPrototypeOf","__proto__","V","ReferenceError","COMPONENTS","__onChange","__onFinishChange","G","HTMLEvents","MouseEvents","KeyboardEvents","makeSelectable","onselectstart","MozUserSelect","KhtmlUserSelect","unselectable","makeFullscreen","position","left","right","top","bottom","createEvent","clientX","y","clientY","initMouseEvent","bubbles","cancelable","clickCount","initKeyboardEvent","initKeyEvent","ctrlKey","altKey","shiftKey","charCode","initEvent","dispatchEvent","attachEvent","removeEventListener","detachEvent","className","split","join","replace","removeAttribute","splice","hasClass","RegExp","test","getWidth","getComputedStyle","getHeight","getOffset","offsetParent","offsetLeft","offsetTop","isActive","activeElement","type","__prev","checked","Y","__select","J","__input","blur","W","__impliedStep","pow","log","abs","LN10","__precision","__truncationSuspended","__background","getBoundingClientRect","touches","__foreground","fire","toOriginal","__saturation_field","__hue_field","__temp","__selector","__field_knob","__field_knob_border","__hue_knob","__input_textShadow","padding","backgroundColor","boxShadow","border","borderRadius","zIndex","borderRight","marginRight","cursor","outline","textAlign","fontWeight","textShadow","marginLeft","marginTop","toHexString","te","getElementsByTagName","oe","requestAnimationFrame","webkitRequestAnimationFrame","mozRequestAnimationFrame","oRequestAnimationFrame","msRequestAnimationFrame","ie","backgroundElement","opacity","WebkitTransition","transition","body","webkitTransform","layout","innerWidth","innerHeight","head","de","ce","ue","_e","__folders","closeOnTop","DEFAULT_WIDTH","resizable","hideable","parent","scrollable","defineProperties","E","closed","CLASS_CLOSED","TEXT_OPEN","TEXT_CLOSED","setItem","CLASS_MAIN","parse","CLASS_CLOSE_BUTTON","CLASS_CLOSE_TOP","childNodes","CLASS_CLOSE_BOTTOM","createTextNode","CLASS_AUTO_PLACE_CONTAINER","CLASS_AUTO_PLACE","onResizeDebounced","CLASS_DRAG","__resize_handle","toggleHide","CLASS_TOO_TALL","_keydownHandler","add","addColor","removeChild","destroy","removeFolder","addFolder","folders","parentElement","open","close","offsetHeight","remember","C","pe","Color","math","interpret","fe","Controller","BooleanController","OptionController","StringController","NumberController","NumberControllerBox","NumberControllerSlider","FunctionController","ColorController","me","ge","GUI","be","ve","controllers","gui","default","global","factory","glsl","_defineProperties","target","props","descriptor","_inheritsLoose","subClass","superClass","_assertThisInitialized","setTimeoutFunc","Boolean","noop","Promise","fn","_state","_handled","_value","_deferreds","doResolve","handle","deferred","_immediateFn","cb","onFulfilled","onRejected","ret","reject","promise","resolve","newValue","then","finale","thisArg","_unhandledRejectionFn","len","Handler","done","reason","ex","catch","prom","finally","callback","all","arr","args","remaining","res","val","race","setImmediate","err","console","warn","LoggerLevel","Common","fetch","url","xhr","XMLHttpRequest","onload","response","responseText","onerror","error","ontimeout","onabort","send","Logger","_console","enabled","level","Log","_console2","Warn","_console3","ContextVersion","ContextError","ContextDefaultVertex","ContextDefaultFragment","ContextDefaultVertex2","ContextDefaultFragment2","ContextVertexBuffers","Context","getContext_","canvas","names","context","getContext2_","getIncludes","input","regex","promises","exec","index","chunks","isWebGl","WebGLRenderingContext","isWebGl2","WebGL2RenderingContext","inferVersion","vertexString","fragmentString","source","WebGl2","WebGl","versionDiffers","gl","currentVersion","getVertex","getFragment","tryInferContext","attributes","extensions","errorCallback","handleError","errorCode","html","container","parentNode","BrowserSupport","inferContext","supportedExtensions","getSupportedExtensions","getExtension","Other","tryGetContext","createShader","offset","shader","shaderSource","compileShader","getShaderParameter","COMPILE_STATUS","lastError","getShaderInfoLog","deleteShader","createProgram","shaders","locations","program","attachShader","bindAttribLocation","linkProgram","getProgramParameter","LINK_STATUS","getProgramInfoLog","deleteProgram","createVertexBuffers","vertexBuffers","texcoordIndex","getAttribLocation","texcoord","createBuffer","bindBuffer","ARRAY_BUFFER","bufferData","Float32Array","STATIC_DRAW","enableVertexAttribArray","vertexAttribPointer","FLOAT","positionIndex","BufferFloatType","StringMap","IterableStringMap","values","_proto","has","hasOwnProperty","item","callbackfn","reduce","previous","BuffersDefaultFragment2","Buffer","BW","BH","buffer","createFramebuffer","texture","getTexture","texParameteri","TEXTURE_2D","TEXTURE_MIN_FILTER","NEAREST","TEXTURE_MAG_FILTER","TEXTURE_WRAP_S","CLAMP_TO_EDGE","TEXTURE_WRAP_T","getFloatType","floatType","extension","extensionName","HALF_FLOAT","HALF_FLOAT_OES","createTexture","activeTexture","TEXTURE0","bindTexture","texImage2D","RGBA16F","RGBA","checkFramebufferStatus","FRAMEBUFFER","FRAMEBUFFER_COMPLETE","resize","bindFramebuffer","pixels","status","minW","minH","readPixels","newIndex","newTexture","texSubImage2D","newBuffer","deleteTexture","TextureSourceType","TextureFilteringType","IOBuffer","isValid","_proto2","vertexShader","VERTEX_SHADER","fragmentShader","FRAGMENT_SHADER","output","render","useProgram","viewport","framebufferTexture2D","COLOR_ATTACHMENT0","drawArrays","TRIANGLES","Buffers","_IterableStringMap","Constructor","protoProps","getBuffers","buffers","count","matches","regexp","bufferFragmentString","drawingBufferWidth","drawingBufferHeight","Listener","event","Subscriber","listeners","Set","logListeners","subscribe","listener","unsubscribe","delete","unsubscribeAll","clear","on","off","_this","trigger","_len","data","TextureImageExtensions","TextureVideoExtensions","TextureExtensions","isTextureData","UniformMethod","UniformType","Texture","_Subscriber","workpath","filtering","Linear","valid","dirty","animated","powerOf2","isPowerOf2","isSafari","navigator","userAgent","isTextureUrl","text","isTexture","urlElementOrData","getTextureOptions","getMaxTextureSize","getParameter","MAX_TEXTURE_SIZE","prev","curr","params","decodeURIComponent","Number","querySelector","HTMLCanvasElement","HTMLImageElement","HTMLVideoElement","element","setData","Uint8Array","setUrl","setElement","sourceType","Url","assign","src","String","ext","pop","toLowerCase","loop","muted","play","crossOrigin","_this2","originalElement","Element","video","setFiltering","message","Data","pixelStorei","UNPACK_FLIP_Y_WEBGL","UNPACK_PREMULTIPLY_ALPHA_WEBGL","naturalWidth","naturalHeight","UNSIGNED_BYTE","videoWidth","videoHeight","imageBuffer","tryUpdate","MipMap","wrapS","repeat","REPEAT","wrapT","LINEAR_MIPMAP_LINEAR","LINEAR","generateMipmap","Nearest","Textures","_this3","clean","createOrUpdate","_this4","textureOptions","flag","METHODS_INT","Uniform1i","Uniform2i","Uniform3i","Uniform4i","METHODS_FLOAT","Uniform1f","Uniform2f","Uniform3f","Uniform4f","METHODS_INTV","Uniform1iv","Uniform2iv","Uniform3iv","Uniform4iv","METHODS_FLOATV","Uniform1fv","Uniform2fv","Uniform3fv","Uniform4fv","Uniform","getUniformLocation","method","UniformTexture","_Uniform","Uniforms","isDifferent","isArrayOfInteger","array","isInteger","isArrayOfNumber","isArrayOfBoolean","isArrayOfTexture","isArrayOfSampler2D","Sampler2D","getType_","Unknown","subject","Float","Bool","getMethod_","isVector","Int","parseUniform","uniform","map","CanvasTimer","delay","current","delta","paused","start","pause","next","Canvas","mouse","uniforms","textures","textureList","visible","rect","getShaders_","success","addListeners_","onLoop","items","version","of","find","loadAll","getElementsByClassName","filter","urls","hasAttribute","vertex","getAttribute","fragment","onScroll","onClick","onMove","onMousemove","onMouseover","onMouseout","onTouchmove","onTouchend","onTouchstart","addCanvasListeners_","removeCanvasListeners_","removeListeners_","cancelAnimationFrame","rafId","toggle","mx","my","pageX","pageY","touch","time","checkRender","setUniform_","loadTexture","parseTextures_","createUniforms_","_this5","timer","hasDelta","hasTime","hasDate","hasMouse","hasTextures","classList","date","getFullYear","getMonth","getDate","getHours","getMinutes","getSeconds","getMilliseconds","setTexture","updateUniforms_","isVisible_","documentElement","clientHeight","isAnimated_","isDirty_","sizeDidChanged_","ceil","clientWidth","_this6","createContext_","destroyContext_","swapCanvas_","onError","_this7","query","createQueryEXT","wasValid","beginQueryEXT","TIME_ELAPSED_EXT","endQueryEXT","waitForTest","available","getQueryObjectEXT","QUERY_RESULT_AVAILABLE_EXT","disjoint","GPU_DISJOINT_EXT","result","timeElapsedMs","QUERY_RESULT_EXT","canvas_","cloneNode","replaceChild","_this8","keyResolution","path","setUniform","setUniformOfInt","setUniforms","BuffersDefaultFragment"],"mappings":"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","file":"resources/js/vendors.min.js","sourcesContent":["// stats.js - http://github.com/mrdoob/stats.js\n(function(f,e){\"object\"===typeof exports&&\"undefined\"!==typeof module?module.exports=e():\"function\"===typeof define&&define.amd?define(e):f.Stats=e()})(this,function(){var f=function(){function e(a){c.appendChild(a.dom);return a}function u(a){for(var d=0;d<c.children.length;d++)c.children[d].style.display=d===a?\"block\":\"none\";l=a}var l=0,c=document.createElement(\"div\");c.style.cssText=\"position:fixed;top:0;left:0;cursor:pointer;opacity:0.9;z-index:10000\";c.addEventListener(\"click\",function(a){a.preventDefault();\nu(++l%c.children.length)},!1);var k=(performance||Date).now(),g=k,a=0,r=e(new f.Panel(\"FPS\",\"#0ff\",\"#002\")),h=e(new f.Panel(\"MS\",\"#0f0\",\"#020\"));if(self.performance&&self.performance.memory)var t=e(new f.Panel(\"MB\",\"#f08\",\"#201\"));u(0);return{REVISION:16,dom:c,addPanel:e,showPanel:u,begin:function(){k=(performance||Date).now()},end:function(){a++;var c=(performance||Date).now();h.update(c-k,200);if(c>g+1E3&&(r.update(1E3*a/(c-g),100),g=c,a=0,t)){var d=performance.memory;t.update(d.usedJSHeapSize/\n1048576,d.jsHeapSizeLimit/1048576)}return c},update:function(){k=this.end()},domElement:c,setMode:u}};f.Panel=function(e,f,l){var c=Infinity,k=0,g=Math.round,a=g(window.devicePixelRatio||1),r=80*a,h=48*a,t=3*a,v=2*a,d=3*a,m=15*a,n=74*a,p=30*a,q=document.createElement(\"canvas\");q.width=r;q.height=h;q.style.cssText=\"width:80px;height:48px\";var b=q.getContext(\"2d\");b.font=\"bold \"+9*a+\"px Helvetica,Arial,sans-serif\";b.textBaseline=\"top\";b.fillStyle=l;b.fillRect(0,0,r,h);b.fillStyle=f;b.fillText(e,t,v);\nb.fillRect(d,m,n,p);b.fillStyle=l;b.globalAlpha=.9;b.fillRect(d,m,n,p);return{dom:q,update:function(h,w){c=Math.min(c,h);k=Math.max(k,h);b.fillStyle=l;b.globalAlpha=1;b.fillRect(0,0,r,m);b.fillStyle=f;b.fillText(g(h)+\" \"+e+\" (\"+g(c)+\"-\"+g(k)+\")\",t,v);b.drawImage(q,d+a,m,n-a,p,d,m,n-a,p);b.fillRect(d+n-a,m,a,p);b.fillStyle=l;b.globalAlpha=.9;b.fillRect(d+n-a,m,a,g((1-h/w)*p))}}};return f});\n","/**\n * dat-gui JavaScript Controller Library\n * http://code.google.com/p/dat-gui\n *\n * Copyright 2011 Data Arts Team, Google Creative Lab\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n */\n!function(e,t){\"object\"==typeof exports&&\"undefined\"!=typeof module?t(exports):\"function\"==typeof define&&define.amd?define([\"exports\"],t):t(e.dat={})}(this,function(e){\"use strict\";function t(e,t){var n=e.__state.conversionName.toString(),o=Math.round(e.r),i=Math.round(e.g),r=Math.round(e.b),s=e.a,a=Math.round(e.h),l=e.s.toFixed(1),d=e.v.toFixed(1);if(t||\"THREE_CHAR_HEX\"===n||\"SIX_CHAR_HEX\"===n){for(var c=e.hex.toString(16);c.length<6;)c=\"0\"+c;return\"#\"+c}return\"CSS_RGB\"===n?\"rgb(\"+o+\",\"+i+\",\"+r+\")\":\"CSS_RGBA\"===n?\"rgba(\"+o+\",\"+i+\",\"+r+\",\"+s+\")\":\"HEX\"===n?\"0x\"+e.hex.toString(16):\"RGB_ARRAY\"===n?\"[\"+o+\",\"+i+\",\"+r+\"]\":\"RGBA_ARRAY\"===n?\"[\"+o+\",\"+i+\",\"+r+\",\"+s+\"]\":\"RGB_OBJ\"===n?\"{r:\"+o+\",g:\"+i+\",b:\"+r+\"}\":\"RGBA_OBJ\"===n?\"{r:\"+o+\",g:\"+i+\",b:\"+r+\",a:\"+s+\"}\":\"HSV_OBJ\"===n?\"{h:\"+a+\",s:\"+l+\",v:\"+d+\"}\":\"HSVA_OBJ\"===n?\"{h:\"+a+\",s:\"+l+\",v:\"+d+\",a:\"+s+\"}\":\"unknown format\"}function n(e,t,n){Object.defineProperty(e,t,{get:function(){return\"RGB\"===this.__state.space?this.__state[t]:(I.recalculateRGB(this,t,n),this.__state[t])},set:function(e){\"RGB\"!==this.__state.space&&(I.recalculateRGB(this,t,n),this.__state.space=\"RGB\"),this.__state[t]=e}})}function o(e,t){Object.defineProperty(e,t,{get:function(){return\"HSV\"===this.__state.space?this.__state[t]:(I.recalculateHSV(this),this.__state[t])},set:function(e){\"HSV\"!==this.__state.space&&(I.recalculateHSV(this),this.__state.space=\"HSV\"),this.__state[t]=e}})}function i(e){if(\"0\"===e||S.isUndefined(e))return 0;var t=e.match(U);return S.isNull(t)?0:parseFloat(t[1])}function r(e){var t=e.toString();return t.indexOf(\".\")>-1?t.length-t.indexOf(\".\")-1:0}function s(e,t){var n=Math.pow(10,t);return Math.round(e*n)/n}function a(e,t,n,o,i){return o+(e-t)/(n-t)*(i-o)}function l(e,t,n,o){e.style.background=\"\",S.each(ee,function(i){e.style.cssText+=\"background: \"+i+\"linear-gradient(\"+t+\", \"+n+\" 0%, \"+o+\" 100%); \"})}function d(e){e.style.background=\"\",e.style.cssText+=\"background: -moz-linear-gradient(top,  #ff0000 0%, #ff00ff 17%, #0000ff 34%, #00ffff 50%, #00ff00 67%, #ffff00 84%, #ff0000 100%);\",e.style.cssText+=\"background: -webkit-linear-gradient(top,  #ff0000 0%,#ff00ff 17%,#0000ff 34%,#00ffff 50%,#00ff00 67%,#ffff00 84%,#ff0000 100%);\",e.style.cssText+=\"background: -o-linear-gradient(top,  #ff0000 0%,#ff00ff 17%,#0000ff 34%,#00ffff 50%,#00ff00 67%,#ffff00 84%,#ff0000 100%);\",e.style.cssText+=\"background: -ms-linear-gradient(top,  #ff0000 0%,#ff00ff 17%,#0000ff 34%,#00ffff 50%,#00ff00 67%,#ffff00 84%,#ff0000 100%);\",e.style.cssText+=\"background: linear-gradient(top,  #ff0000 0%,#ff00ff 17%,#0000ff 34%,#00ffff 50%,#00ff00 67%,#ffff00 84%,#ff0000 100%);\"}function c(e,t,n){var o=document.createElement(\"li\");return t&&o.appendChild(t),n?e.__ul.insertBefore(o,n):e.__ul.appendChild(o),e.onResize(),o}function u(e){X.unbind(window,\"resize\",e.__resizeHandler),e.saveToLocalStorageIfPossible&&X.unbind(window,\"unload\",e.saveToLocalStorageIfPossible)}function _(e,t){var n=e.__preset_select[e.__preset_select.selectedIndex];n.innerHTML=t?n.value+\"*\":n.value}function h(e,t,n){if(n.__li=t,n.__gui=e,S.extend(n,{options:function(t){if(arguments.length>1){var o=n.__li.nextElementSibling;return n.remove(),f(e,n.object,n.property,{before:o,factoryArgs:[S.toArray(arguments)]})}if(S.isArray(t)||S.isObject(t)){var i=n.__li.nextElementSibling;return n.remove(),f(e,n.object,n.property,{before:i,factoryArgs:[t]})}},name:function(e){return n.__li.firstElementChild.firstElementChild.innerHTML=e,n},listen:function(){return n.__gui.listen(n),n},remove:function(){return n.__gui.remove(n),n}}),n instanceof q){var o=new Q(n.object,n.property,{min:n.__min,max:n.__max,step:n.__step});S.each([\"updateDisplay\",\"onChange\",\"onFinishChange\",\"step\",\"min\",\"max\"],function(e){var t=n[e],i=o[e];n[e]=o[e]=function(){var e=Array.prototype.slice.call(arguments);return i.apply(o,e),t.apply(n,e)}}),X.addClass(t,\"has-slider\"),n.domElement.insertBefore(o.domElement,n.domElement.firstElementChild)}else if(n instanceof Q){var i=function(t){if(S.isNumber(n.__min)&&S.isNumber(n.__max)){var o=n.__li.firstElementChild.firstElementChild.innerHTML,i=n.__gui.__listening.indexOf(n)>-1;n.remove();var r=f(e,n.object,n.property,{before:n.__li.nextElementSibling,factoryArgs:[n.__min,n.__max,n.__step]});return r.name(o),i&&r.listen(),r}return t};n.min=S.compose(i,n.min),n.max=S.compose(i,n.max)}else n instanceof K?(X.bind(t,\"click\",function(){X.fakeEvent(n.__checkbox,\"click\")}),X.bind(n.__checkbox,\"click\",function(e){e.stopPropagation()})):n instanceof Z?(X.bind(t,\"click\",function(){X.fakeEvent(n.__button,\"click\")}),X.bind(t,\"mouseover\",function(){X.addClass(n.__button,\"hover\")}),X.bind(t,\"mouseout\",function(){X.removeClass(n.__button,\"hover\")})):n instanceof $&&(X.addClass(t,\"color\"),n.updateDisplay=S.compose(function(e){return t.style.borderLeftColor=n.__color.toString(),e},n.updateDisplay),n.updateDisplay());n.setValue=S.compose(function(t){return e.getRoot().__preset_select&&n.isModified()&&_(e.getRoot(),!0),t},n.setValue)}function p(e,t){var n=e.getRoot(),o=n.__rememberedObjects.indexOf(t.object);if(-1!==o){var i=n.__rememberedObjectIndecesToControllers[o];if(void 0===i&&(i={},n.__rememberedObjectIndecesToControllers[o]=i),i[t.property]=t,n.load&&n.load.remembered){var r=n.load.remembered,s=void 0;if(r[e.preset])s=r[e.preset];else{if(!r[se])return;s=r[se]}if(s[o]&&void 0!==s[o][t.property]){var a=s[o][t.property];t.initialValue=a,t.setValue(a)}}}}function f(e,t,n,o){if(void 0===t[n])throw new Error('Object \"'+t+'\" has no property \"'+n+'\"');var i=void 0;if(o.color)i=new $(t,n);else{var r=[t,n].concat(o.factoryArgs);i=ne.apply(e,r)}o.before instanceof z&&(o.before=o.before.__li),p(e,i),X.addClass(i.domElement,\"c\");var s=document.createElement(\"span\");X.addClass(s,\"property-name\"),s.innerHTML=i.property;var a=document.createElement(\"div\");a.appendChild(s),a.appendChild(i.domElement);var l=c(e,a,o.before);return X.addClass(l,he.CLASS_CONTROLLER_ROW),i instanceof $?X.addClass(l,\"color\"):X.addClass(l,H(i.getValue())),h(e,l,i),e.__controllers.push(i),i}function m(e,t){return document.location.href+\".\"+t}function g(e,t,n){var o=document.createElement(\"option\");o.innerHTML=t,o.value=t,e.__preset_select.appendChild(o),n&&(e.__preset_select.selectedIndex=e.__preset_select.length-1)}function b(e,t){t.style.display=e.useLocalStorage?\"block\":\"none\"}function v(e){var t=e.__save_row=document.createElement(\"li\");X.addClass(e.domElement,\"has-save\"),e.__ul.insertBefore(t,e.__ul.firstChild),X.addClass(t,\"save-row\");var n=document.createElement(\"span\");n.innerHTML=\"&nbsp;\",X.addClass(n,\"button gears\");var o=document.createElement(\"span\");o.innerHTML=\"Save\",X.addClass(o,\"button\"),X.addClass(o,\"save\");var i=document.createElement(\"span\");i.innerHTML=\"New\",X.addClass(i,\"button\"),X.addClass(i,\"save-as\");var r=document.createElement(\"span\");r.innerHTML=\"Revert\",X.addClass(r,\"button\"),X.addClass(r,\"revert\");var s=e.__preset_select=document.createElement(\"select\");if(e.load&&e.load.remembered?S.each(e.load.remembered,function(t,n){g(e,n,n===e.preset)}):g(e,se,!1),X.bind(s,\"change\",function(){for(var t=0;t<e.__preset_select.length;t++)e.__preset_select[t].innerHTML=e.__preset_select[t].value;e.preset=this.value}),t.appendChild(s),t.appendChild(n),t.appendChild(o),t.appendChild(i),t.appendChild(r),ae){var a=document.getElementById(\"dg-local-explain\"),l=document.getElementById(\"dg-local-storage\");document.getElementById(\"dg-save-locally\").style.display=\"block\",\"true\"===localStorage.getItem(m(e,\"isLocal\"))&&l.setAttribute(\"checked\",\"checked\"),b(e,a),X.bind(l,\"change\",function(){e.useLocalStorage=!e.useLocalStorage,b(e,a)})}var d=document.getElementById(\"dg-new-constructor\");X.bind(d,\"keydown\",function(e){!e.metaKey||67!==e.which&&67!==e.keyCode||le.hide()}),X.bind(n,\"click\",function(){d.innerHTML=JSON.stringify(e.getSaveObject(),void 0,2),le.show(),d.focus(),d.select()}),X.bind(o,\"click\",function(){e.save()}),X.bind(i,\"click\",function(){var t=prompt(\"Enter a new preset name.\");t&&e.saveAs(t)}),X.bind(r,\"click\",function(){e.revert()})}function y(e){function t(t){return t.preventDefault(),e.width+=i-t.clientX,e.onResize(),i=t.clientX,!1}function n(){X.removeClass(e.__closeButton,he.CLASS_DRAG),X.unbind(window,\"mousemove\",t),X.unbind(window,\"mouseup\",n)}function o(o){return o.preventDefault(),i=o.clientX,X.addClass(e.__closeButton,he.CLASS_DRAG),X.bind(window,\"mousemove\",t),X.bind(window,\"mouseup\",n),!1}var i=void 0;e.__resize_handle=document.createElement(\"div\"),S.extend(e.__resize_handle.style,{width:\"6px\",marginLeft:\"-3px\",height:\"200px\",cursor:\"ew-resize\",position:\"absolute\"}),X.bind(e.__resize_handle,\"mousedown\",o),X.bind(e.__closeButton,\"mousedown\",o),e.domElement.insertBefore(e.__resize_handle,e.domElement.firstElementChild)}function w(e,t){e.domElement.style.width=t+\"px\",e.__save_row&&e.autoPlace&&(e.__save_row.style.width=t+\"px\"),e.__closeButton&&(e.__closeButton.style.width=t+\"px\")}function x(e,t){var n={};return S.each(e.__rememberedObjects,function(o,i){var r={},s=e.__rememberedObjectIndecesToControllers[i];S.each(s,function(e,n){r[n]=t?e.initialValue:e.getValue()}),n[i]=r}),n}function E(e){for(var t=0;t<e.__preset_select.length;t++)e.__preset_select[t].value===e.preset&&(e.__preset_select.selectedIndex=t)}function C(e){0!==e.length&&oe.call(window,function(){C(e)}),S.each(e,function(e){e.updateDisplay()})}var A=Array.prototype.forEach,k=Array.prototype.slice,S={BREAK:{},extend:function(e){return this.each(k.call(arguments,1),function(t){(this.isObject(t)?Object.keys(t):[]).forEach(function(n){this.isUndefined(t[n])||(e[n]=t[n])}.bind(this))},this),e},defaults:function(e){return this.each(k.call(arguments,1),function(t){(this.isObject(t)?Object.keys(t):[]).forEach(function(n){this.isUndefined(e[n])&&(e[n]=t[n])}.bind(this))},this),e},compose:function(){var e=k.call(arguments);return function(){for(var t=k.call(arguments),n=e.length-1;n>=0;n--)t=[e[n].apply(this,t)];return t[0]}},each:function(e,t,n){if(e)if(A&&e.forEach&&e.forEach===A)e.forEach(t,n);else if(e.length===e.length+0){var o=void 0,i=void 0;for(o=0,i=e.length;o<i;o++)if(o in e&&t.call(n,e[o],o)===this.BREAK)return}else for(var r in e)if(t.call(n,e[r],r)===this.BREAK)return},defer:function(e){setTimeout(e,0)},debounce:function(e,t,n){var o=void 0;return function(){var i=this,r=arguments,s=n||!o;clearTimeout(o),o=setTimeout(function(){o=null,n||e.apply(i,r)},t),s&&e.apply(i,r)}},toArray:function(e){return e.toArray?e.toArray():k.call(e)},isUndefined:function(e){return void 0===e},isNull:function(e){return null===e},isNaN:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(e){return isNaN(e)}),isArray:Array.isArray||function(e){return e.constructor===Array},isObject:function(e){return e===Object(e)},isNumber:function(e){return e===e+0},isString:function(e){return e===e+\"\"},isBoolean:function(e){return!1===e||!0===e},isFunction:function(e){return\"[object Function]\"===Object.prototype.toString.call(e)}},O=[{litmus:S.isString,conversions:{THREE_CHAR_HEX:{read:function(e){var t=e.match(/^#([A-F0-9])([A-F0-9])([A-F0-9])$/i);return null!==t&&{space:\"HEX\",hex:parseInt(\"0x\"+t[1].toString()+t[1].toString()+t[2].toString()+t[2].toString()+t[3].toString()+t[3].toString(),0)}},write:t},SIX_CHAR_HEX:{read:function(e){var t=e.match(/^#([A-F0-9]{6})$/i);return null!==t&&{space:\"HEX\",hex:parseInt(\"0x\"+t[1].toString(),0)}},write:t},CSS_RGB:{read:function(e){var t=e.match(/^rgb\\(\\s*(.+)\\s*,\\s*(.+)\\s*,\\s*(.+)\\s*\\)/);return null!==t&&{space:\"RGB\",r:parseFloat(t[1]),g:parseFloat(t[2]),b:parseFloat(t[3])}},write:t},CSS_RGBA:{read:function(e){var t=e.match(/^rgba\\(\\s*(.+)\\s*,\\s*(.+)\\s*,\\s*(.+)\\s*,\\s*(.+)\\s*\\)/);return null!==t&&{space:\"RGB\",r:parseFloat(t[1]),g:parseFloat(t[2]),b:parseFloat(t[3]),a:parseFloat(t[4])}},write:t}}},{litmus:S.isNumber,conversions:{HEX:{read:function(e){return{space:\"HEX\",hex:e,conversionName:\"HEX\"}},write:function(e){return e.hex}}}},{litmus:S.isArray,conversions:{RGB_ARRAY:{read:function(e){return 3===e.length&&{space:\"RGB\",r:e[0],g:e[1],b:e[2]}},write:function(e){return[e.r,e.g,e.b]}},RGBA_ARRAY:{read:function(e){return 4===e.length&&{space:\"RGB\",r:e[0],g:e[1],b:e[2],a:e[3]}},write:function(e){return[e.r,e.g,e.b,e.a]}}}},{litmus:S.isObject,conversions:{RGBA_OBJ:{read:function(e){return!!(S.isNumber(e.r)&&S.isNumber(e.g)&&S.isNumber(e.b)&&S.isNumber(e.a))&&{space:\"RGB\",r:e.r,g:e.g,b:e.b,a:e.a}},write:function(e){return{r:e.r,g:e.g,b:e.b,a:e.a}}},RGB_OBJ:{read:function(e){return!!(S.isNumber(e.r)&&S.isNumber(e.g)&&S.isNumber(e.b))&&{space:\"RGB\",r:e.r,g:e.g,b:e.b}},write:function(e){return{r:e.r,g:e.g,b:e.b}}},HSVA_OBJ:{read:function(e){return!!(S.isNumber(e.h)&&S.isNumber(e.s)&&S.isNumber(e.v)&&S.isNumber(e.a))&&{space:\"HSV\",h:e.h,s:e.s,v:e.v,a:e.a}},write:function(e){return{h:e.h,s:e.s,v:e.v,a:e.a}}},HSV_OBJ:{read:function(e){return!!(S.isNumber(e.h)&&S.isNumber(e.s)&&S.isNumber(e.v))&&{space:\"HSV\",h:e.h,s:e.s,v:e.v}},write:function(e){return{h:e.h,s:e.s,v:e.v}}}}}],T=void 0,L=void 0,R=function(){L=!1;var e=arguments.length>1?S.toArray(arguments):arguments[0];return S.each(O,function(t){if(t.litmus(e))return S.each(t.conversions,function(t,n){if(T=t.read(e),!1===L&&!1!==T)return L=T,T.conversionName=n,T.conversion=t,S.BREAK}),S.BREAK}),L},B=void 0,N={hsv_to_rgb:function(e,t,n){var o=Math.floor(e/60)%6,i=e/60-Math.floor(e/60),r=n*(1-t),s=n*(1-i*t),a=n*(1-(1-i)*t),l=[[n,a,r],[s,n,r],[r,n,a],[r,s,n],[a,r,n],[n,r,s]][o];return{r:255*l[0],g:255*l[1],b:255*l[2]}},rgb_to_hsv:function(e,t,n){var o=Math.min(e,t,n),i=Math.max(e,t,n),r=i-o,s=void 0,a=void 0;return 0===i?{h:NaN,s:0,v:0}:(a=r/i,s=e===i?(t-n)/r:t===i?2+(n-e)/r:4+(e-t)/r,(s/=6)<0&&(s+=1),{h:360*s,s:a,v:i/255})},rgb_to_hex:function(e,t,n){var o=this.hex_with_component(0,2,e);return o=this.hex_with_component(o,1,t),o=this.hex_with_component(o,0,n)},component_from_hex:function(e,t){return e>>8*t&255},hex_with_component:function(e,t,n){return n<<(B=8*t)|e&~(255<<B)}},H=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e},F=function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")},P=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,\"value\"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),j=function e(t,n,o){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var r=Object.getPrototypeOf(t);return null===r?void 0:e(r,n,o)}if(\"value\"in i)return i.value;var s=i.get;if(void 0!==s)return s.call(o)},D=function(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)},V=function(e,t){if(!e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!t||\"object\"!=typeof t&&\"function\"!=typeof t?e:t},I=function(){function e(){if(F(this,e),this.__state=R.apply(this,arguments),!1===this.__state)throw new Error(\"Failed to interpret color arguments\");this.__state.a=this.__state.a||1}return P(e,[{key:\"toString\",value:function(){return t(this)}},{key:\"toHexString\",value:function(){return t(this,!0)}},{key:\"toOriginal\",value:function(){return this.__state.conversion.write(this)}}]),e}();I.recalculateRGB=function(e,t,n){if(\"HEX\"===e.__state.space)e.__state[t]=N.component_from_hex(e.__state.hex,n);else{if(\"HSV\"!==e.__state.space)throw new Error(\"Corrupted color state\");S.extend(e.__state,N.hsv_to_rgb(e.__state.h,e.__state.s,e.__state.v))}},I.recalculateHSV=function(e){var t=N.rgb_to_hsv(e.r,e.g,e.b);S.extend(e.__state,{s:t.s,v:t.v}),S.isNaN(t.h)?S.isUndefined(e.__state.h)&&(e.__state.h=0):e.__state.h=t.h},I.COMPONENTS=[\"r\",\"g\",\"b\",\"h\",\"s\",\"v\",\"hex\",\"a\"],n(I.prototype,\"r\",2),n(I.prototype,\"g\",1),n(I.prototype,\"b\",0),o(I.prototype,\"h\"),o(I.prototype,\"s\"),o(I.prototype,\"v\"),Object.defineProperty(I.prototype,\"a\",{get:function(){return this.__state.a},set:function(e){this.__state.a=e}}),Object.defineProperty(I.prototype,\"hex\",{get:function(){return\"HEX\"!==!this.__state.space&&(this.__state.hex=N.rgb_to_hex(this.r,this.g,this.b)),this.__state.hex},set:function(e){this.__state.space=\"HEX\",this.__state.hex=e}});var z=function(){function e(t,n){F(this,e),this.initialValue=t[n],this.domElement=document.createElement(\"div\"),this.object=t,this.property=n,this.__onChange=void 0,this.__onFinishChange=void 0}return P(e,[{key:\"onChange\",value:function(e){return this.__onChange=e,this}},{key:\"onFinishChange\",value:function(e){return this.__onFinishChange=e,this}},{key:\"setValue\",value:function(e){return this.object[this.property]=e,this.__onChange&&this.__onChange.call(this,e),this.updateDisplay(),this}},{key:\"getValue\",value:function(){return this.object[this.property]}},{key:\"updateDisplay\",value:function(){return this}},{key:\"isModified\",value:function(){return this.initialValue!==this.getValue()}}]),e}(),M={HTMLEvents:[\"change\"],MouseEvents:[\"click\",\"mousemove\",\"mousedown\",\"mouseup\",\"mouseover\"],KeyboardEvents:[\"keydown\"]},G={};S.each(M,function(e,t){S.each(e,function(e){G[e]=t})});var U=/(\\d+(\\.\\d+)?)px/,X={makeSelectable:function(e,t){void 0!==e&&void 0!==e.style&&(e.onselectstart=t?function(){return!1}:function(){},e.style.MozUserSelect=t?\"auto\":\"none\",e.style.KhtmlUserSelect=t?\"auto\":\"none\",e.unselectable=t?\"on\":\"off\")},makeFullscreen:function(e,t,n){var o=n,i=t;S.isUndefined(i)&&(i=!0),S.isUndefined(o)&&(o=!0),e.style.position=\"absolute\",i&&(e.style.left=0,e.style.right=0),o&&(e.style.top=0,e.style.bottom=0)},fakeEvent:function(e,t,n,o){var i=n||{},r=G[t];if(!r)throw new Error(\"Event type \"+t+\" not supported.\");var s=document.createEvent(r);switch(r){case\"MouseEvents\":var a=i.x||i.clientX||0,l=i.y||i.clientY||0;s.initMouseEvent(t,i.bubbles||!1,i.cancelable||!0,window,i.clickCount||1,0,0,a,l,!1,!1,!1,!1,0,null);break;case\"KeyboardEvents\":var d=s.initKeyboardEvent||s.initKeyEvent;S.defaults(i,{cancelable:!0,ctrlKey:!1,altKey:!1,shiftKey:!1,metaKey:!1,keyCode:void 0,charCode:void 0}),d(t,i.bubbles||!1,i.cancelable,window,i.ctrlKey,i.altKey,i.shiftKey,i.metaKey,i.keyCode,i.charCode);break;default:s.initEvent(t,i.bubbles||!1,i.cancelable||!0)}S.defaults(s,o),e.dispatchEvent(s)},bind:function(e,t,n,o){var i=o||!1;return e.addEventListener?e.addEventListener(t,n,i):e.attachEvent&&e.attachEvent(\"on\"+t,n),X},unbind:function(e,t,n,o){var i=o||!1;return e.removeEventListener?e.removeEventListener(t,n,i):e.detachEvent&&e.detachEvent(\"on\"+t,n),X},addClass:function(e,t){if(void 0===e.className)e.className=t;else if(e.className!==t){var n=e.className.split(/ +/);-1===n.indexOf(t)&&(n.push(t),e.className=n.join(\" \").replace(/^\\s+/,\"\").replace(/\\s+$/,\"\"))}return X},removeClass:function(e,t){if(t)if(e.className===t)e.removeAttribute(\"class\");else{var n=e.className.split(/ +/),o=n.indexOf(t);-1!==o&&(n.splice(o,1),e.className=n.join(\" \"))}else e.className=void 0;return X},hasClass:function(e,t){return new RegExp(\"(?:^|\\\\s+)\"+t+\"(?:\\\\s+|$)\").test(e.className)||!1},getWidth:function(e){var t=getComputedStyle(e);return i(t[\"border-left-width\"])+i(t[\"border-right-width\"])+i(t[\"padding-left\"])+i(t[\"padding-right\"])+i(t.width)},getHeight:function(e){var t=getComputedStyle(e);return i(t[\"border-top-width\"])+i(t[\"border-bottom-width\"])+i(t[\"padding-top\"])+i(t[\"padding-bottom\"])+i(t.height)},getOffset:function(e){var t=e,n={left:0,top:0};if(t.offsetParent)do{n.left+=t.offsetLeft,n.top+=t.offsetTop,t=t.offsetParent}while(t);return n},isActive:function(e){return e===document.activeElement&&(e.type||e.href)}},K=function(e){function t(e,n){F(this,t);var o=V(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n)),i=o;return o.__prev=o.getValue(),o.__checkbox=document.createElement(\"input\"),o.__checkbox.setAttribute(\"type\",\"checkbox\"),X.bind(o.__checkbox,\"change\",function(){i.setValue(!i.__prev)},!1),o.domElement.appendChild(o.__checkbox),o.updateDisplay(),o}return D(t,z),P(t,[{key:\"setValue\",value:function(e){var n=j(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),\"setValue\",this).call(this,e);return this.__onFinishChange&&this.__onFinishChange.call(this,this.getValue()),this.__prev=this.getValue(),n}},{key:\"updateDisplay\",value:function(){return!0===this.getValue()?(this.__checkbox.setAttribute(\"checked\",\"checked\"),this.__checkbox.checked=!0,this.__prev=!0):(this.__checkbox.checked=!1,this.__prev=!1),j(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),\"updateDisplay\",this).call(this)}}]),t}(),Y=function(e){function t(e,n,o){F(this,t);var i=V(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n)),r=o,s=i;if(i.__select=document.createElement(\"select\"),S.isArray(r)){var a={};S.each(r,function(e){a[e]=e}),r=a}return S.each(r,function(e,t){var n=document.createElement(\"option\");n.innerHTML=t,n.setAttribute(\"value\",e),s.__select.appendChild(n)}),i.updateDisplay(),X.bind(i.__select,\"change\",function(){var e=this.options[this.selectedIndex].value;s.setValue(e)}),i.domElement.appendChild(i.__select),i}return D(t,z),P(t,[{key:\"setValue\",value:function(e){var n=j(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),\"setValue\",this).call(this,e);return this.__onFinishChange&&this.__onFinishChange.call(this,this.getValue()),n}},{key:\"updateDisplay\",value:function(){return X.isActive(this.__select)?this:(this.__select.value=this.getValue(),j(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),\"updateDisplay\",this).call(this))}}]),t}(),J=function(e){function t(e,n){function o(){r.setValue(r.__input.value)}F(this,t);var i=V(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n)),r=i;return i.__input=document.createElement(\"input\"),i.__input.setAttribute(\"type\",\"text\"),X.bind(i.__input,\"keyup\",o),X.bind(i.__input,\"change\",o),X.bind(i.__input,\"blur\",function(){r.__onFinishChange&&r.__onFinishChange.call(r,r.getValue())}),X.bind(i.__input,\"keydown\",function(e){13===e.keyCode&&this.blur()}),i.updateDisplay(),i.domElement.appendChild(i.__input),i}return D(t,z),P(t,[{key:\"updateDisplay\",value:function(){return X.isActive(this.__input)||(this.__input.value=this.getValue()),j(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),\"updateDisplay\",this).call(this)}}]),t}(),W=function(e){function t(e,n,o){F(this,t);var i=V(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n)),s=o||{};return i.__min=s.min,i.__max=s.max,i.__step=s.step,S.isUndefined(i.__step)?0===i.initialValue?i.__impliedStep=1:i.__impliedStep=Math.pow(10,Math.floor(Math.log(Math.abs(i.initialValue))/Math.LN10))/10:i.__impliedStep=i.__step,i.__precision=r(i.__impliedStep),i}return D(t,z),P(t,[{key:\"setValue\",value:function(e){var n=e;return void 0!==this.__min&&n<this.__min?n=this.__min:void 0!==this.__max&&n>this.__max&&(n=this.__max),void 0!==this.__step&&n%this.__step!=0&&(n=Math.round(n/this.__step)*this.__step),j(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),\"setValue\",this).call(this,n)}},{key:\"min\",value:function(e){return this.__min=e,this}},{key:\"max\",value:function(e){return this.__max=e,this}},{key:\"step\",value:function(e){return this.__step=e,this.__impliedStep=e,this.__precision=r(e),this}}]),t}(),Q=function(e){function t(e,n,o){function i(){l.__onFinishChange&&l.__onFinishChange.call(l,l.getValue())}function r(e){var t=d-e.clientY;l.setValue(l.getValue()+t*l.__impliedStep),d=e.clientY}function s(){X.unbind(window,\"mousemove\",r),X.unbind(window,\"mouseup\",s),i()}F(this,t);var a=V(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n,o));a.__truncationSuspended=!1;var l=a,d=void 0;return a.__input=document.createElement(\"input\"),a.__input.setAttribute(\"type\",\"text\"),X.bind(a.__input,\"change\",function(){var e=parseFloat(l.__input.value);S.isNaN(e)||l.setValue(e)}),X.bind(a.__input,\"blur\",function(){i()}),X.bind(a.__input,\"mousedown\",function(e){X.bind(window,\"mousemove\",r),X.bind(window,\"mouseup\",s),d=e.clientY}),X.bind(a.__input,\"keydown\",function(e){13===e.keyCode&&(l.__truncationSuspended=!0,this.blur(),l.__truncationSuspended=!1,i())}),a.updateDisplay(),a.domElement.appendChild(a.__input),a}return D(t,W),P(t,[{key:\"updateDisplay\",value:function(){return this.__input.value=this.__truncationSuspended?this.getValue():s(this.getValue(),this.__precision),j(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),\"updateDisplay\",this).call(this)}}]),t}(),q=function(e){function t(e,n,o,i,r){function s(e){e.preventDefault();var t=_.__background.getBoundingClientRect();return _.setValue(a(e.clientX,t.left,t.right,_.__min,_.__max)),!1}function l(){X.unbind(window,\"mousemove\",s),X.unbind(window,\"mouseup\",l),_.__onFinishChange&&_.__onFinishChange.call(_,_.getValue())}function d(e){var t=e.touches[0].clientX,n=_.__background.getBoundingClientRect();_.setValue(a(t,n.left,n.right,_.__min,_.__max))}function c(){X.unbind(window,\"touchmove\",d),X.unbind(window,\"touchend\",c),_.__onFinishChange&&_.__onFinishChange.call(_,_.getValue())}F(this,t);var u=V(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n,{min:o,max:i,step:r})),_=u;return u.__background=document.createElement(\"div\"),u.__foreground=document.createElement(\"div\"),X.bind(u.__background,\"mousedown\",function(e){document.activeElement.blur(),X.bind(window,\"mousemove\",s),X.bind(window,\"mouseup\",l),s(e)}),X.bind(u.__background,\"touchstart\",function(e){1===e.touches.length&&(X.bind(window,\"touchmove\",d),X.bind(window,\"touchend\",c),d(e))}),X.addClass(u.__background,\"slider\"),X.addClass(u.__foreground,\"slider-fg\"),u.updateDisplay(),u.__background.appendChild(u.__foreground),u.domElement.appendChild(u.__background),u}return D(t,W),P(t,[{key:\"updateDisplay\",value:function(){var e=(this.getValue()-this.__min)/(this.__max-this.__min);return this.__foreground.style.width=100*e+\"%\",j(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),\"updateDisplay\",this).call(this)}}]),t}(),Z=function(e){function t(e,n,o){F(this,t);var i=V(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n)),r=i;return i.__button=document.createElement(\"div\"),i.__button.innerHTML=void 0===o?\"Fire\":o,X.bind(i.__button,\"click\",function(e){return e.preventDefault(),r.fire(),!1}),X.addClass(i.__button,\"button\"),i.domElement.appendChild(i.__button),i}return D(t,z),P(t,[{key:\"fire\",value:function(){this.__onChange&&this.__onChange.call(this),this.getValue().call(this.object),this.__onFinishChange&&this.__onFinishChange.call(this,this.getValue())}}]),t}(),$=function(e){function t(e,n){function o(e){u(e),X.bind(window,\"mousemove\",u),X.bind(window,\"touchmove\",u),X.bind(window,\"mouseup\",r),X.bind(window,\"touchend\",r)}function i(e){_(e),X.bind(window,\"mousemove\",_),X.bind(window,\"touchmove\",_),X.bind(window,\"mouseup\",s),X.bind(window,\"touchend\",s)}function r(){X.unbind(window,\"mousemove\",u),X.unbind(window,\"touchmove\",u),X.unbind(window,\"mouseup\",r),X.unbind(window,\"touchend\",r),c()}function s(){X.unbind(window,\"mousemove\",_),X.unbind(window,\"touchmove\",_),X.unbind(window,\"mouseup\",s),X.unbind(window,\"touchend\",s),c()}function a(){var e=R(this.value);!1!==e?(p.__color.__state=e,p.setValue(p.__color.toOriginal())):this.value=p.__color.toString()}function c(){p.__onFinishChange&&p.__onFinishChange.call(p,p.__color.toOriginal())}function u(e){-1===e.type.indexOf(\"touch\")&&e.preventDefault();var t=p.__saturation_field.getBoundingClientRect(),n=e.touches&&e.touches[0]||e,o=n.clientX,i=n.clientY,r=(o-t.left)/(t.right-t.left),s=1-(i-t.top)/(t.bottom-t.top);return s>1?s=1:s<0&&(s=0),r>1?r=1:r<0&&(r=0),p.__color.v=s,p.__color.s=r,p.setValue(p.__color.toOriginal()),!1}function _(e){-1===e.type.indexOf(\"touch\")&&e.preventDefault();var t=p.__hue_field.getBoundingClientRect(),n=1-((e.touches&&e.touches[0]||e).clientY-t.top)/(t.bottom-t.top);return n>1?n=1:n<0&&(n=0),p.__color.h=360*n,p.setValue(p.__color.toOriginal()),!1}F(this,t);var h=V(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));h.__color=new I(h.getValue()),h.__temp=new I(0);var p=h;h.domElement=document.createElement(\"div\"),X.makeSelectable(h.domElement,!1),h.__selector=document.createElement(\"div\"),h.__selector.className=\"selector\",h.__saturation_field=document.createElement(\"div\"),h.__saturation_field.className=\"saturation-field\",h.__field_knob=document.createElement(\"div\"),h.__field_knob.className=\"field-knob\",h.__field_knob_border=\"2px solid \",h.__hue_knob=document.createElement(\"div\"),h.__hue_knob.className=\"hue-knob\",h.__hue_field=document.createElement(\"div\"),h.__hue_field.className=\"hue-field\",h.__input=document.createElement(\"input\"),h.__input.type=\"text\",h.__input_textShadow=\"0 1px 1px \",X.bind(h.__input,\"keydown\",function(e){13===e.keyCode&&a.call(this)}),X.bind(h.__input,\"blur\",a),X.bind(h.__selector,\"mousedown\",function(){X.addClass(this,\"drag\").bind(window,\"mouseup\",function(){X.removeClass(p.__selector,\"drag\")})}),X.bind(h.__selector,\"touchstart\",function(){X.addClass(this,\"drag\").bind(window,\"touchend\",function(){X.removeClass(p.__selector,\"drag\")})});var f=document.createElement(\"div\");return S.extend(h.__selector.style,{width:\"122px\",height:\"102px\",padding:\"3px\",backgroundColor:\"#222\",boxShadow:\"0px 1px 3px rgba(0,0,0,0.3)\"}),S.extend(h.__field_knob.style,{position:\"absolute\",width:\"12px\",height:\"12px\",border:h.__field_knob_border+(h.__color.v<.5?\"#fff\":\"#000\"),boxShadow:\"0px 1px 3px rgba(0,0,0,0.5)\",borderRadius:\"12px\",zIndex:1}),S.extend(h.__hue_knob.style,{position:\"absolute\",width:\"15px\",height:\"2px\",borderRight:\"4px solid #fff\",zIndex:1}),S.extend(h.__saturation_field.style,{width:\"100px\",height:\"100px\",border:\"1px solid #555\",marginRight:\"3px\",display:\"inline-block\",cursor:\"pointer\"}),S.extend(f.style,{width:\"100%\",height:\"100%\",background:\"none\"}),l(f,\"top\",\"rgba(0,0,0,0)\",\"#000\"),S.extend(h.__hue_field.style,{width:\"15px\",height:\"100px\",border:\"1px solid #555\",cursor:\"ns-resize\",position:\"absolute\",top:\"3px\",right:\"3px\"}),d(h.__hue_field),S.extend(h.__input.style,{outline:\"none\",textAlign:\"center\",color:\"#fff\",border:0,fontWeight:\"bold\",textShadow:h.__input_textShadow+\"rgba(0,0,0,0.7)\"}),X.bind(h.__saturation_field,\"mousedown\",o),X.bind(h.__saturation_field,\"touchstart\",o),X.bind(h.__field_knob,\"mousedown\",o),X.bind(h.__field_knob,\"touchstart\",o),X.bind(h.__hue_field,\"mousedown\",i),X.bind(h.__hue_field,\"touchstart\",i),h.__saturation_field.appendChild(f),h.__selector.appendChild(h.__field_knob),h.__selector.appendChild(h.__saturation_field),h.__selector.appendChild(h.__hue_field),h.__hue_field.appendChild(h.__hue_knob),h.domElement.appendChild(h.__input),h.domElement.appendChild(h.__selector),h.updateDisplay(),h}return D(t,z),P(t,[{key:\"updateDisplay\",value:function(){var e=R(this.getValue());if(!1!==e){var t=!1;S.each(I.COMPONENTS,function(n){if(!S.isUndefined(e[n])&&!S.isUndefined(this.__color.__state[n])&&e[n]!==this.__color.__state[n])return t=!0,{}},this),t&&S.extend(this.__color.__state,e)}S.extend(this.__temp.__state,this.__color.__state),this.__temp.a=1;var n=this.__color.v<.5||this.__color.s>.5?255:0,o=255-n;S.extend(this.__field_knob.style,{marginLeft:100*this.__color.s-7+\"px\",marginTop:100*(1-this.__color.v)-7+\"px\",backgroundColor:this.__temp.toHexString(),border:this.__field_knob_border+\"rgb(\"+n+\",\"+n+\",\"+n+\")\"}),this.__hue_knob.style.marginTop=100*(1-this.__color.h/360)+\"px\",this.__temp.s=1,this.__temp.v=1,l(this.__saturation_field,\"left\",\"#fff\",this.__temp.toHexString()),this.__input.value=this.__color.toString(),S.extend(this.__input.style,{backgroundColor:this.__color.toHexString(),color:\"rgb(\"+n+\",\"+n+\",\"+n+\")\",textShadow:this.__input_textShadow+\"rgba(\"+o+\",\"+o+\",\"+o+\",.7)\"})}}]),t}(),ee=[\"-moz-\",\"-o-\",\"-webkit-\",\"-ms-\",\"\"],te={load:function(e,t){var n=t||document,o=n.createElement(\"link\");o.type=\"text/css\",o.rel=\"stylesheet\",o.href=e,n.getElementsByTagName(\"head\")[0].appendChild(o)},inject:function(e,t){var n=t||document,o=document.createElement(\"style\");o.type=\"text/css\",o.innerHTML=e;var i=n.getElementsByTagName(\"head\")[0];try{i.appendChild(o)}catch(e){}}},ne=function(e,t){var n=e[t];return S.isArray(arguments[2])||S.isObject(arguments[2])?new Y(e,t,arguments[2]):S.isNumber(n)?S.isNumber(arguments[2])&&S.isNumber(arguments[3])?S.isNumber(arguments[4])?new q(e,t,arguments[2],arguments[3],arguments[4]):new q(e,t,arguments[2],arguments[3]):S.isNumber(arguments[4])?new Q(e,t,{min:arguments[2],max:arguments[3],step:arguments[4]}):new Q(e,t,{min:arguments[2],max:arguments[3]}):S.isString(n)?new J(e,t):S.isFunction(n)?new Z(e,t,\"\"):S.isBoolean(n)?new K(e,t):null},oe=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(e){setTimeout(e,1e3/60)},ie=function(){function e(){F(this,e),this.backgroundElement=document.createElement(\"div\"),S.extend(this.backgroundElement.style,{backgroundColor:\"rgba(0,0,0,0.8)\",top:0,left:0,display:\"none\",zIndex:\"1000\",opacity:0,WebkitTransition:\"opacity 0.2s linear\",transition:\"opacity 0.2s linear\"}),X.makeFullscreen(this.backgroundElement),this.backgroundElement.style.position=\"fixed\",this.domElement=document.createElement(\"div\"),S.extend(this.domElement.style,{position:\"fixed\",display:\"none\",zIndex:\"1001\",opacity:0,WebkitTransition:\"-webkit-transform 0.2s ease-out, opacity 0.2s linear\",transition:\"transform 0.2s ease-out, opacity 0.2s linear\"}),document.body.appendChild(this.backgroundElement),document.body.appendChild(this.domElement);var t=this;X.bind(this.backgroundElement,\"click\",function(){t.hide()})}return P(e,[{key:\"show\",value:function(){var e=this;this.backgroundElement.style.display=\"block\",this.domElement.style.display=\"block\",this.domElement.style.opacity=0,this.domElement.style.webkitTransform=\"scale(1.1)\",this.layout(),S.defer(function(){e.backgroundElement.style.opacity=1,e.domElement.style.opacity=1,e.domElement.style.webkitTransform=\"scale(1)\"})}},{key:\"hide\",value:function(){var e=this,t=function t(){e.domElement.style.display=\"none\",e.backgroundElement.style.display=\"none\",X.unbind(e.domElement,\"webkitTransitionEnd\",t),X.unbind(e.domElement,\"transitionend\",t),X.unbind(e.domElement,\"oTransitionEnd\",t)};X.bind(this.domElement,\"webkitTransitionEnd\",t),X.bind(this.domElement,\"transitionend\",t),X.bind(this.domElement,\"oTransitionEnd\",t),this.backgroundElement.style.opacity=0,this.domElement.style.opacity=0,this.domElement.style.webkitTransform=\"scale(1.1)\"}},{key:\"layout\",value:function(){this.domElement.style.left=window.innerWidth/2-X.getWidth(this.domElement)/2+\"px\",this.domElement.style.top=window.innerHeight/2-X.getHeight(this.domElement)/2+\"px\"}}]),e}(),re=function(e){if(e&&\"undefined\"!=typeof window){var t=document.createElement(\"style\");return t.setAttribute(\"type\",\"text/css\"),t.innerHTML=e,document.head.appendChild(t),e}}(\".dg ul{list-style:none;margin:0;padding:0;width:100%;clear:both}.dg.ac{position:fixed;top:0;left:0;right:0;height:0;z-index:0}.dg:not(.ac) .main{overflow:hidden}.dg.main{-webkit-transition:opacity .1s linear;-o-transition:opacity .1s linear;-moz-transition:opacity .1s linear;transition:opacity .1s linear}.dg.main.taller-than-window{overflow-y:auto}.dg.main.taller-than-window .close-button{opacity:1;margin-top:-1px;border-top:1px solid #2c2c2c}.dg.main ul.closed .close-button{opacity:1 !important}.dg.main:hover .close-button,.dg.main .close-button.drag{opacity:1}.dg.main .close-button{-webkit-transition:opacity .1s linear;-o-transition:opacity .1s linear;-moz-transition:opacity .1s linear;transition:opacity .1s linear;border:0;line-height:19px;height:20px;cursor:pointer;text-align:center;background-color:#000}.dg.main .close-button.close-top{position:relative}.dg.main .close-button.close-bottom{position:absolute}.dg.main .close-button:hover{background-color:#111}.dg.a{float:right;margin-right:15px;overflow-y:visible}.dg.a.has-save>ul.close-top{margin-top:0}.dg.a.has-save>ul.close-bottom{margin-top:27px}.dg.a.has-save>ul.closed{margin-top:0}.dg.a .save-row{top:0;z-index:1002}.dg.a .save-row.close-top{position:relative}.dg.a .save-row.close-bottom{position:fixed}.dg li{-webkit-transition:height .1s ease-out;-o-transition:height .1s ease-out;-moz-transition:height .1s ease-out;transition:height .1s ease-out;-webkit-transition:overflow .1s linear;-o-transition:overflow .1s linear;-moz-transition:overflow .1s linear;transition:overflow .1s linear}.dg li:not(.folder){cursor:auto;height:27px;line-height:27px;padding:0 4px 0 5px}.dg li.folder{padding:0;border-left:4px solid rgba(0,0,0,0)}.dg li.title{cursor:pointer;margin-left:-4px}.dg .closed li:not(.title),.dg .closed ul li,.dg .closed ul li>*{height:0;overflow:hidden;border:0}.dg .cr{clear:both;padding-left:3px;height:27px;overflow:hidden}.dg .property-name{cursor:default;float:left;clear:left;width:40%;overflow:hidden;text-overflow:ellipsis}.dg .c{float:left;width:60%;position:relative}.dg .c input[type=text]{border:0;margin-top:4px;padding:3px;width:100%;float:right}.dg .has-slider input[type=text]{width:30%;margin-left:0}.dg .slider{float:left;width:66%;margin-left:-5px;margin-right:0;height:19px;margin-top:4px}.dg .slider-fg{height:100%}.dg .c input[type=checkbox]{margin-top:7px}.dg .c select{margin-top:5px}.dg .cr.function,.dg .cr.function .property-name,.dg .cr.function *,.dg .cr.boolean,.dg .cr.boolean *{cursor:pointer}.dg .cr.color{overflow:visible}.dg .selector{display:none;position:absolute;margin-left:-9px;margin-top:23px;z-index:10}.dg .c:hover .selector,.dg .selector.drag{display:block}.dg li.save-row{padding:0}.dg li.save-row .button{display:inline-block;padding:0px 6px}.dg.dialogue{background-color:#222;width:460px;padding:15px;font-size:13px;line-height:15px}#dg-new-constructor{padding:10px;color:#222;font-family:Monaco, monospace;font-size:10px;border:0;resize:none;box-shadow:inset 1px 1px 1px #888;word-wrap:break-word;margin:12px 0;display:block;width:440px;overflow-y:scroll;height:100px;position:relative}#dg-local-explain{display:none;font-size:11px;line-height:17px;border-radius:3px;background-color:#333;padding:8px;margin-top:10px}#dg-local-explain code{font-size:10px}#dat-gui-save-locally{display:none}.dg{color:#eee;font:11px 'Lucida Grande', sans-serif;text-shadow:0 -1px 0 #111}.dg.main::-webkit-scrollbar{width:5px;background:#1a1a1a}.dg.main::-webkit-scrollbar-corner{height:0;display:none}.dg.main::-webkit-scrollbar-thumb{border-radius:5px;background:#676767}.dg li:not(.folder){background:#1a1a1a;border-bottom:1px solid #2c2c2c}.dg li.save-row{line-height:25px;background:#dad5cb;border:0}.dg li.save-row select{margin-left:5px;width:108px}.dg li.save-row .button{margin-left:5px;margin-top:1px;border-radius:2px;font-size:9px;line-height:7px;padding:4px 4px 5px 4px;background:#c5bdad;color:#fff;text-shadow:0 1px 0 #b0a58f;box-shadow:0 -1px 0 #b0a58f;cursor:pointer}.dg li.save-row .button.gears{background:#c5bdad url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAsAAAANCAYAAAB/9ZQ7AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAQJJREFUeNpiYKAU/P//PwGIC/ApCABiBSAW+I8AClAcgKxQ4T9hoMAEUrxx2QSGN6+egDX+/vWT4e7N82AMYoPAx/evwWoYoSYbACX2s7KxCxzcsezDh3evFoDEBYTEEqycggWAzA9AuUSQQgeYPa9fPv6/YWm/Acx5IPb7ty/fw+QZblw67vDs8R0YHyQhgObx+yAJkBqmG5dPPDh1aPOGR/eugW0G4vlIoTIfyFcA+QekhhHJhPdQxbiAIguMBTQZrPD7108M6roWYDFQiIAAv6Aow/1bFwXgis+f2LUAynwoIaNcz8XNx3Dl7MEJUDGQpx9gtQ8YCueB+D26OECAAQDadt7e46D42QAAAABJRU5ErkJggg==) 2px 1px no-repeat;height:7px;width:8px}.dg li.save-row .button:hover{background-color:#bab19e;box-shadow:0 -1px 0 #b0a58f}.dg li.folder{border-bottom:0}.dg li.title{padding-left:16px;background:#000 url(data:image/gif;base64,R0lGODlhBQAFAJEAAP////Pz8////////yH5BAEAAAIALAAAAAAFAAUAAAIIlI+hKgFxoCgAOw==) 6px 10px no-repeat;cursor:pointer;border-bottom:1px solid rgba(255,255,255,0.2)}.dg .closed li.title{background-image:url(data:image/gif;base64,R0lGODlhBQAFAJEAAP////Pz8////////yH5BAEAAAIALAAAAAAFAAUAAAIIlGIWqMCbWAEAOw==)}.dg .cr.boolean{border-left:3px solid #806787}.dg .cr.color{border-left:3px solid}.dg .cr.function{border-left:3px solid #e61d5f}.dg .cr.number{border-left:3px solid #2FA1D6}.dg .cr.number input[type=text]{color:#2FA1D6}.dg .cr.string{border-left:3px solid #1ed36f}.dg .cr.string input[type=text]{color:#1ed36f}.dg .cr.function:hover,.dg .cr.boolean:hover{background:#111}.dg .c input[type=text]{background:#303030;outline:none}.dg .c input[type=text]:hover{background:#3c3c3c}.dg .c input[type=text]:focus{background:#494949;color:#fff}.dg .c .slider{background:#303030;cursor:ew-resize}.dg .c .slider-fg{background:#2FA1D6;max-width:100%}.dg .c .slider:hover{background:#3c3c3c}.dg .c .slider:hover .slider-fg{background:#44abda}\\n\");te.inject(re);var se=\"Default\",ae=function(){try{return!!window.localStorage}catch(e){return!1}}(),le=void 0,de=!0,ce=void 0,ue=!1,_e=[],he=function e(t){var n=this,o=t||{};this.domElement=document.createElement(\"div\"),this.__ul=document.createElement(\"ul\"),this.domElement.appendChild(this.__ul),X.addClass(this.domElement,\"dg\"),this.__folders={},this.__controllers=[],this.__rememberedObjects=[],this.__rememberedObjectIndecesToControllers=[],this.__listening=[],o=S.defaults(o,{closeOnTop:!1,autoPlace:!0,width:e.DEFAULT_WIDTH}),o=S.defaults(o,{resizable:o.autoPlace,hideable:o.autoPlace}),S.isUndefined(o.load)?o.load={preset:se}:o.preset&&(o.load.preset=o.preset),S.isUndefined(o.parent)&&o.hideable&&_e.push(this),o.resizable=S.isUndefined(o.parent)&&o.resizable,o.autoPlace&&S.isUndefined(o.scrollable)&&(o.scrollable=!0);var i=ae&&\"true\"===localStorage.getItem(m(this,\"isLocal\")),r=void 0,s=void 0;if(Object.defineProperties(this,{parent:{get:function(){return o.parent}},scrollable:{get:function(){return o.scrollable}},autoPlace:{get:function(){return o.autoPlace}},closeOnTop:{get:function(){return o.closeOnTop}},preset:{get:function(){return n.parent?n.getRoot().preset:o.load.preset},set:function(e){n.parent?n.getRoot().preset=e:o.load.preset=e,E(this),n.revert()}},width:{get:function(){return o.width},set:function(e){o.width=e,w(n,e)}},name:{get:function(){return o.name},set:function(e){o.name=e,s&&(s.innerHTML=o.name)}},closed:{get:function(){return o.closed},set:function(t){o.closed=t,o.closed?X.addClass(n.__ul,e.CLASS_CLOSED):X.removeClass(n.__ul,e.CLASS_CLOSED),this.onResize(),n.__closeButton&&(n.__closeButton.innerHTML=t?e.TEXT_OPEN:e.TEXT_CLOSED)}},load:{get:function(){return o.load}},useLocalStorage:{get:function(){return i},set:function(e){ae&&(i=e,e?X.bind(window,\"unload\",r):X.unbind(window,\"unload\",r),localStorage.setItem(m(n,\"isLocal\"),e))}}}),S.isUndefined(o.parent)){if(this.closed=o.closed||!1,X.addClass(this.domElement,e.CLASS_MAIN),X.makeSelectable(this.domElement,!1),ae&&i){n.useLocalStorage=!0;var a=localStorage.getItem(m(this,\"gui\"));a&&(o.load=JSON.parse(a))}this.__closeButton=document.createElement(\"div\"),this.__closeButton.innerHTML=e.TEXT_CLOSED,X.addClass(this.__closeButton,e.CLASS_CLOSE_BUTTON),o.closeOnTop?(X.addClass(this.__closeButton,e.CLASS_CLOSE_TOP),this.domElement.insertBefore(this.__closeButton,this.domElement.childNodes[0])):(X.addClass(this.__closeButton,e.CLASS_CLOSE_BOTTOM),this.domElement.appendChild(this.__closeButton)),X.bind(this.__closeButton,\"click\",function(){n.closed=!n.closed})}else{void 0===o.closed&&(o.closed=!0);var l=document.createTextNode(o.name);X.addClass(l,\"controller-name\"),s=c(n,l);X.addClass(this.__ul,e.CLASS_CLOSED),X.addClass(s,\"title\"),X.bind(s,\"click\",function(e){return e.preventDefault(),n.closed=!n.closed,!1}),o.closed||(this.closed=!1)}o.autoPlace&&(S.isUndefined(o.parent)&&(de&&(ce=document.createElement(\"div\"),X.addClass(ce,\"dg\"),X.addClass(ce,e.CLASS_AUTO_PLACE_CONTAINER),document.body.appendChild(ce),de=!1),ce.appendChild(this.domElement),X.addClass(this.domElement,e.CLASS_AUTO_PLACE)),this.parent||w(n,o.width)),this.__resizeHandler=function(){n.onResizeDebounced()},X.bind(window,\"resize\",this.__resizeHandler),X.bind(this.__ul,\"webkitTransitionEnd\",this.__resizeHandler),X.bind(this.__ul,\"transitionend\",this.__resizeHandler),X.bind(this.__ul,\"oTransitionEnd\",this.__resizeHandler),this.onResize(),o.resizable&&y(this),r=function(){ae&&\"true\"===localStorage.getItem(m(n,\"isLocal\"))&&localStorage.setItem(m(n,\"gui\"),JSON.stringify(n.getSaveObject()))},this.saveToLocalStorageIfPossible=r,o.parent||function(){var e=n.getRoot();e.width+=1,S.defer(function(){e.width-=1})}()};he.toggleHide=function(){ue=!ue,S.each(_e,function(e){e.domElement.style.display=ue?\"none\":\"\"})},he.CLASS_AUTO_PLACE=\"a\",he.CLASS_AUTO_PLACE_CONTAINER=\"ac\",he.CLASS_MAIN=\"main\",he.CLASS_CONTROLLER_ROW=\"cr\",he.CLASS_TOO_TALL=\"taller-than-window\",he.CLASS_CLOSED=\"closed\",he.CLASS_CLOSE_BUTTON=\"close-button\",he.CLASS_CLOSE_TOP=\"close-top\",he.CLASS_CLOSE_BOTTOM=\"close-bottom\",he.CLASS_DRAG=\"drag\",he.DEFAULT_WIDTH=245,he.TEXT_CLOSED=\"Close Controls\",he.TEXT_OPEN=\"Open Controls\",he._keydownHandler=function(e){\"text\"===document.activeElement.type||72!==e.which&&72!==e.keyCode||he.toggleHide()},X.bind(window,\"keydown\",he._keydownHandler,!1),S.extend(he.prototype,{add:function(e,t){return f(this,e,t,{factoryArgs:Array.prototype.slice.call(arguments,2)})},addColor:function(e,t){return f(this,e,t,{color:!0})},remove:function(e){this.__ul.removeChild(e.__li),this.__controllers.splice(this.__controllers.indexOf(e),1);var t=this;S.defer(function(){t.onResize()})},destroy:function(){if(this.parent)throw new Error(\"Only the root GUI should be removed with .destroy(). For subfolders, use gui.removeFolder(folder) instead.\");this.autoPlace&&ce.removeChild(this.domElement);var e=this;S.each(this.__folders,function(t){e.removeFolder(t)}),X.unbind(window,\"keydown\",he._keydownHandler,!1),u(this)},addFolder:function(e){if(void 0!==this.__folders[e])throw new Error('You already have a folder in this GUI by the name \"'+e+'\"');var t={name:e,parent:this};t.autoPlace=this.autoPlace,this.load&&this.load.folders&&this.load.folders[e]&&(t.closed=this.load.folders[e].closed,t.load=this.load.folders[e]);var n=new he(t);this.__folders[e]=n;var o=c(this,n.domElement);return X.addClass(o,\"folder\"),n},removeFolder:function(e){this.__ul.removeChild(e.domElement.parentElement),delete this.__folders[e.name],this.load&&this.load.folders&&this.load.folders[e.name]&&delete this.load.folders[e.name],u(e);var t=this;S.each(e.__folders,function(t){e.removeFolder(t)}),S.defer(function(){t.onResize()})},open:function(){this.closed=!1},close:function(){this.closed=!0},hide:function(){this.domElement.style.display=\"none\"},show:function(){this.domElement.style.display=\"\"},onResize:function(){var e=this.getRoot();if(e.scrollable){var t=X.getOffset(e.__ul).top,n=0;S.each(e.__ul.childNodes,function(t){e.autoPlace&&t===e.__save_row||(n+=X.getHeight(t))}),window.innerHeight-t-20<n?(X.addClass(e.domElement,he.CLASS_TOO_TALL),e.__ul.style.height=window.innerHeight-t-20+\"px\"):(X.removeClass(e.domElement,he.CLASS_TOO_TALL),e.__ul.style.height=\"auto\")}e.__resize_handle&&S.defer(function(){e.__resize_handle.style.height=e.__ul.offsetHeight+\"px\"}),e.__closeButton&&(e.__closeButton.style.width=e.width+\"px\")},onResizeDebounced:S.debounce(function(){this.onResize()},50),remember:function(){if(S.isUndefined(le)&&((le=new ie).domElement.innerHTML='<div id=\"dg-save\" class=\"dg dialogue\">\\n\\n  Here\\'s the new load parameter for your <code>GUI</code>\\'s constructor:\\n\\n  <textarea id=\"dg-new-constructor\"></textarea>\\n\\n  <div id=\"dg-save-locally\">\\n\\n    <input id=\"dg-local-storage\" type=\"checkbox\"/> Automatically save\\n    values to <code>localStorage</code> on exit.\\n\\n    <div id=\"dg-local-explain\">The values saved to <code>localStorage</code> will\\n      override those passed to <code>dat.GUI</code>\\'s constructor. This makes it\\n      easier to work incrementally, but <code>localStorage</code> is fragile,\\n      and your friends may not see the same values you do.\\n\\n    </div>\\n\\n  </div>\\n\\n</div>'),this.parent)throw new Error(\"You can only call remember on a top level GUI.\");var e=this;S.each(Array.prototype.slice.call(arguments),function(t){0===e.__rememberedObjects.length&&v(e),-1===e.__rememberedObjects.indexOf(t)&&e.__rememberedObjects.push(t)}),this.autoPlace&&w(this,this.width)},getRoot:function(){for(var e=this;e.parent;)e=e.parent;return e},getSaveObject:function(){var e=this.load;return e.closed=this.closed,this.__rememberedObjects.length>0&&(e.preset=this.preset,e.remembered||(e.remembered={}),e.remembered[this.preset]=x(this)),e.folders={},S.each(this.__folders,function(t,n){e.folders[n]=t.getSaveObject()}),e},save:function(){this.load.remembered||(this.load.remembered={}),this.load.remembered[this.preset]=x(this),_(this,!1),this.saveToLocalStorageIfPossible()},saveAs:function(e){this.load.remembered||(this.load.remembered={},this.load.remembered[se]=x(this,!0)),this.load.remembered[e]=x(this),this.preset=e,g(this,e,!0),this.saveToLocalStorageIfPossible()},revert:function(e){S.each(this.__controllers,function(t){this.getRoot().load.remembered?p(e||this.getRoot(),t):t.setValue(t.initialValue),t.__onFinishChange&&t.__onFinishChange.call(t,t.getValue())},this),S.each(this.__folders,function(e){e.revert(e)}),e||_(this.getRoot(),!1)},listen:function(e){var t=0===this.__listening.length;this.__listening.push(e),t&&C(this.__listening)},updateDisplay:function(){S.each(this.__controllers,function(e){e.updateDisplay()}),S.each(this.__folders,function(e){e.updateDisplay()})}});var pe={Color:I,math:N,interpret:R},fe={Controller:z,BooleanController:K,OptionController:Y,StringController:J,NumberController:W,NumberControllerBox:Q,NumberControllerSlider:q,FunctionController:Z,ColorController:$},me={dom:X},ge={GUI:he},be=he,ve={color:pe,controllers:fe,dom:me,gui:ge,GUI:be};e.color=pe,e.controllers=fe,e.dom=me,e.gui=ge,e.GUI=be,e.default=ve,Object.defineProperty(e,\"__esModule\",{value:!0})});\n",null,"import promiseFinally from './finally';\n\n// Store setTimeout reference so promise-polyfill will be unaffected by\n// other code modifying setTimeout (like sinon.useFakeTimers())\nvar setTimeoutFunc = setTimeout;\n\nfunction isArray(x) {\n  return Boolean(x && typeof x.length !== 'undefined');\n}\n\nfunction noop() {}\n\n// Polyfill for Function.prototype.bind\nfunction bind(fn, thisArg) {\n  return function() {\n    fn.apply(thisArg, arguments);\n  };\n}\n\n/**\n * @constructor\n * @param {Function} fn\n */\nfunction Promise(fn) {\n  if (!(this instanceof Promise))\n    throw new TypeError('Promises must be constructed via new');\n  if (typeof fn !== 'function') throw new TypeError('not a function');\n  /** @type {!number} */\n  this._state = 0;\n  /** @type {!boolean} */\n  this._handled = false;\n  /** @type {Promise|undefined} */\n  this._value = undefined;\n  /** @type {!Array<!Function>} */\n  this._deferreds = [];\n\n  doResolve(fn, this);\n}\n\nfunction handle(self, deferred) {\n  while (self._state === 3) {\n    self = self._value;\n  }\n  if (self._state === 0) {\n    self._deferreds.push(deferred);\n    return;\n  }\n  self._handled = true;\n  Promise._immediateFn(function() {\n    var cb = self._state === 1 ? deferred.onFulfilled : deferred.onRejected;\n    if (cb === null) {\n      (self._state === 1 ? resolve : reject)(deferred.promise, self._value);\n      return;\n    }\n    var ret;\n    try {\n      ret = cb(self._value);\n    } catch (e) {\n      reject(deferred.promise, e);\n      return;\n    }\n    resolve(deferred.promise, ret);\n  });\n}\n\nfunction resolve(self, newValue) {\n  try {\n    // Promise Resolution Procedure: https://github.com/promises-aplus/promises-spec#the-promise-resolution-procedure\n    if (newValue === self)\n      throw new TypeError('A promise cannot be resolved with itself.');\n    if (\n      newValue &&\n      (typeof newValue === 'object' || typeof newValue === 'function')\n    ) {\n      var then = newValue.then;\n      if (newValue instanceof Promise) {\n        self._state = 3;\n        self._value = newValue;\n        finale(self);\n        return;\n      } else if (typeof then === 'function') {\n        doResolve(bind(then, newValue), self);\n        return;\n      }\n    }\n    self._state = 1;\n    self._value = newValue;\n    finale(self);\n  } catch (e) {\n    reject(self, e);\n  }\n}\n\nfunction reject(self, newValue) {\n  self._state = 2;\n  self._value = newValue;\n  finale(self);\n}\n\nfunction finale(self) {\n  if (self._state === 2 && self._deferreds.length === 0) {\n    Promise._immediateFn(function() {\n      if (!self._handled) {\n        Promise._unhandledRejectionFn(self._value);\n      }\n    });\n  }\n\n  for (var i = 0, len = self._deferreds.length; i < len; i++) {\n    handle(self, self._deferreds[i]);\n  }\n  self._deferreds = null;\n}\n\n/**\n * @constructor\n */\nfunction Handler(onFulfilled, onRejected, promise) {\n  this.onFulfilled = typeof onFulfilled === 'function' ? onFulfilled : null;\n  this.onRejected = typeof onRejected === 'function' ? onRejected : null;\n  this.promise = promise;\n}\n\n/**\n * Take a potentially misbehaving resolver function and make sure\n * onFulfilled and onRejected are only called once.\n *\n * Makes no guarantees about asynchrony.\n */\nfunction doResolve(fn, self) {\n  var done = false;\n  try {\n    fn(\n      function(value) {\n        if (done) return;\n        done = true;\n        resolve(self, value);\n      },\n      function(reason) {\n        if (done) return;\n        done = true;\n        reject(self, reason);\n      }\n    );\n  } catch (ex) {\n    if (done) return;\n    done = true;\n    reject(self, ex);\n  }\n}\n\nPromise.prototype['catch'] = function(onRejected) {\n  return this.then(null, onRejected);\n};\n\nPromise.prototype.then = function(onFulfilled, onRejected) {\n  // @ts-ignore\n  var prom = new this.constructor(noop);\n\n  handle(this, new Handler(onFulfilled, onRejected, prom));\n  return prom;\n};\n\nPromise.prototype['finally'] = promiseFinally;\n\nPromise.all = function(arr) {\n  return new Promise(function(resolve, reject) {\n    if (!isArray(arr)) {\n      return reject(new TypeError('Promise.all accepts an array'));\n    }\n\n    var args = Array.prototype.slice.call(arr);\n    if (args.length === 0) return resolve([]);\n    var remaining = args.length;\n\n    function res(i, val) {\n      try {\n        if (val && (typeof val === 'object' || typeof val === 'function')) {\n          var then = val.then;\n          if (typeof then === 'function') {\n            then.call(\n              val,\n              function(val) {\n                res(i, val);\n              },\n              reject\n            );\n            return;\n          }\n        }\n        args[i] = val;\n        if (--remaining === 0) {\n          resolve(args);\n        }\n      } catch (ex) {\n        reject(ex);\n      }\n    }\n\n    for (var i = 0; i < args.length; i++) {\n      res(i, args[i]);\n    }\n  });\n};\n\nPromise.resolve = function(value) {\n  if (value && typeof value === 'object' && value.constructor === Promise) {\n    return value;\n  }\n\n  return new Promise(function(resolve) {\n    resolve(value);\n  });\n};\n\nPromise.reject = function(value) {\n  return new Promise(function(resolve, reject) {\n    reject(value);\n  });\n};\n\nPromise.race = function(arr) {\n  return new Promise(function(resolve, reject) {\n    if (!isArray(arr)) {\n      return reject(new TypeError('Promise.race accepts an array'));\n    }\n\n    for (var i = 0, len = arr.length; i < len; i++) {\n      Promise.resolve(arr[i]).then(resolve, reject);\n    }\n  });\n};\n\n// Use polyfill for setImmediate for performance gains\nPromise._immediateFn =\n  // @ts-ignore\n  (typeof setImmediate === 'function' &&\n    function(fn) {\n      // @ts-ignore\n      setImmediate(fn);\n    }) ||\n  function(fn) {\n    setTimeoutFunc(fn, 0);\n  };\n\nPromise._unhandledRejectionFn = function _unhandledRejectionFn(err) {\n  if (typeof console !== 'undefined' && console) {\n    console.warn('Possible Unhandled Promise Rejection:', err); // eslint-disable-line no-console\n  }\n};\n\nexport default Promise;\n","/**\n * @this {Promise}\n */\nfunction finallyConstructor(callback) {\n  var constructor = this.constructor;\n  return this.then(\n    function(value) {\n      // @ts-ignore\n      return constructor.resolve(callback()).then(function() {\n        return value;\n      });\n    },\n    function(reason) {\n      // @ts-ignore\n      return constructor.resolve(callback()).then(function() {\n        // @ts-ignore\n        return constructor.reject(reason);\n      });\n    }\n  );\n}\n\nexport default finallyConstructor;\n","export enum LoggerLevel {\n\tNone = 0,\n\tError = 1,\n\tWarn = 2,\n\tLog = 3,\n}\n\nexport default class Logger {\n\n\tstatic level: LoggerLevel = LoggerLevel.Warn;\n\n\tstatic enabled: boolean = true;\n\n\tstatic log(...datas: any[]) {\n\t\tif (Logger.enabled && Logger.level >= LoggerLevel.Log) {\n\t\t\tconsole.log(...datas);\n\t\t}\n\t}\n\n\tstatic warn(...datas: any[]) {\n\t\tif (Logger.enabled && Logger.level >= LoggerLevel.Warn) {\n\t\t\tconsole.warn(...datas);\n\t\t}\n\t}\n\n\tstatic error(...datas: any[]) {\n\t\tif (Logger.enabled && Logger.level >= LoggerLevel.Error) {\n\t\t\tconsole.error(...datas);\n\t\t}\n\t}\n\n}\n","import 'promise-polyfill';\n\nexport default class Common {\n\tstatic fetch(url: string): Promise<string> {\n\t\t// console.log('fetch', url);\n\t\treturn new Promise(function (resolve, reject) {\n\t\t\tconst xhr: XMLHttpRequest = new XMLHttpRequest();\n\t\t\txhr.onload = function () {\n\t\t\t\tresolve(xhr.response || xhr.responseText);\n\t\t\t};\n\t\t\txhr.onerror = function (error) {\n\t\t\t\t// console.log(error);\n\t\t\t\treject(new Error(`Network request failed for url ${url}`));\n\t\t\t};\n\t\t\txhr.ontimeout = function (error) {\n\t\t\t\t// console.log(error);\n\t\t\t\treject(new Error(`Network request failed for url ${url}`));\n\t\t\t};\n\t\t\txhr.onabort = function () {\n\t\t\t\treject(new Error('Aborted'));\n\t\t\t};\n\t\t\txhr.open('GET', url, true);\n\t\t\txhr.send(null);\n\t\t})\n\t}\n}\n","import Common from '../core/common';\nimport Logger from '../logger/logger';\n\nexport const ContextDefaultVertex = `\n#ifdef GL_ES\nprecision mediump float;\n#endif\n\nattribute vec2 a_position;\nattribute vec2 a_texcoord;\n\nvarying vec2 v_texcoord;\n\nvoid main(){\n\tgl_Position = vec4(a_position, 0.0, 1.0);\n\tv_texcoord = a_texcoord;\n}\n`;\n\nexport const ContextDefaultFragment = `\n#ifdef GL_ES\nprecision mediump float;\n#endif\n\nvoid main(){\n\tgl_FragColor = vec4(0.0);\n}\n`;\n\nexport const ContextDefaultVertex2 = `#version 300 es\n\nin vec2 a_position;\nin vec2 a_texcoord;\n\nout vec2 v_texcoord;\n\nvoid main() {\n\tgl_Position = vec4(a_position, 0.0, 1.0);\n\tv_texcoord = a_texcoord;\n}\n`;\n\nexport const ContextDefaultFragment2 = `#version 300 es\n\nprecision mediump float;\n\nout vec4 outColor;\n\nvoid main() {\n\toutColor = vec4(0.0);\n}\n`;\n\nexport enum ContextVersion {\n\tWebGl = 1,\n\tWebGl2 = 2,\n}\n\nexport enum ContextError {\n\tBrowserSupport = 1,\n\tOther = 2,\n}\n\nexport interface IContextOptions {\n\talpha?: GLboolean;\n\tantialias?: GLboolean;\n\tdepth?: GLboolean;\n\tfailIfMajorPerformanceCaveat?: boolean;\n\t// powerPreference?: WebGLPowerPreference;\n\tpremultipliedAlpha?: GLboolean;\n\tpreserveDrawingBuffer?: GLboolean;\n\tstencil?: GLboolean;\n}\n\nexport class ContextVertexBuffers {\n\ttexcoord: WebGLBuffer;\n\tposition: WebGLBuffer;\n}\n\nexport default class Context {\n\n\tstatic lastError: string = '';\n\n\tstatic getContext_(canvas: HTMLCanvasElement, options?: WebGLContextAttributes): WebGLRenderingContext {\n\t\tconst names = ['webgl', 'experimental-webgl'];\n\t\tlet context = null;\n\t\tfor (let i = 0; i < names.length; ++i) {\n\t\t\ttry {\n\t\t\t\tcontext = canvas.getContext(names[i], options) as WebGLRenderingContext;\n\t\t\t} catch (e) {\n\t\t\t\tif (context) {\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn context;\n\t}\n\n\tstatic getContext2_(canvas: HTMLCanvasElement, options?: WebGLContextAttributes): WebGL2RenderingContext {\n\t\tlet context = null;\n\t\ttry {\n\t\t\tcontext = canvas.getContext('webgl2', options) as WebGL2RenderingContext;\n\t\t} catch (e) {\n\t\t\t// console.error('GlslCanvas.Context.getContext2_.error', e);\n\t\t}\n\t\treturn context;\n\t}\n\n\tstatic getIncludes(input: string | undefined): Promise<string | undefined> {\n\t\tif (input === undefined) {\n\t\t\treturn Promise.resolve(input);\n\t\t}\n\t\tconst regex = /#include\\s*['|\"](.*.glsl)['|\"]/gm;\n\t\tconst promises = [];\n\t\tlet i = 0;\n\t\tlet match;\n\t\twhile ((match = regex.exec(input)) !== null) {\n\t\t\tpromises.push(Promise.resolve(input.slice(i, match.index)));\n\t\t\ti = match.index + match[0].length;\n\t\t\tpromises.push(Common.fetch(match[1]));\n\t\t}\n\t\tpromises.push(Promise.resolve(input.slice(i)));\n\t\treturn Promise.all(promises).then(chunks => {\n\t\t\treturn chunks.join('');\n\t\t});\n\t}\n\n\tstatic isWebGl(context: WebGLRenderingContext | WebGL2RenderingContext): boolean {\n\t\treturn context instanceof WebGLRenderingContext;\n\t}\n\n\tstatic isWebGl2(context: WebGLRenderingContext | WebGL2RenderingContext): boolean {\n\t\t// console.log(context);\n\t\t// return context !== undefined && typeof (context as any).bindBufferRange === 'function';\n\t\treturn (window as any).WebGL2RenderingContext && context instanceof WebGL2RenderingContext;\n\t}\n\n\tstatic inferVersion(vertexString?: string, fragmentString?: string): ContextVersion {\n\t\tconst source: string = vertexString || fragmentString;\n\t\tif (source) {\n\t\t\treturn source.indexOf('#version 300 es') === 0 ? ContextVersion.WebGl2 : ContextVersion.WebGl;\n\t\t} else {\n\t\t\treturn ContextVersion.WebGl;\n\t\t}\n\t}\n\n\tstatic versionDiffers(gl: WebGLRenderingContext | WebGL2RenderingContext, vertexString?: string, fragmentString?: string): boolean {\n\t\tif (gl) {\n\t\t\tconst currentVersion = this.isWebGl2(gl) ? ContextVersion.WebGl2 : ContextVersion.WebGl;\n\t\t\tconst newVersion = Context.inferVersion(vertexString, fragmentString);\n\t\t\treturn newVersion !== currentVersion;\n\t\t} else {\n\t\t\treturn false;\n\t\t}\n\t}\n\n\tstatic getVertex(vertexString?: string, fragmentString?: string): string {\n\t\tif (vertexString) {\n\t\t\treturn vertexString;\n\t\t} else {\n\t\t\tconst version: ContextVersion = this.inferVersion(vertexString, fragmentString);\n\t\t\treturn version === ContextVersion.WebGl2 ? ContextDefaultVertex2 : ContextDefaultVertex;\n\t\t}\n\t}\n\n\tstatic getFragment(vertexString?: string, fragmentString?: string): string {\n\t\tif (fragmentString) {\n\t\t\treturn fragmentString;\n\t\t} else {\n\t\t\tconst version: ContextVersion = this.inferVersion(vertexString, fragmentString);\n\t\t\treturn version === ContextVersion.WebGl2 ? ContextDefaultFragment2 : ContextDefaultFragment;\n\t\t}\n\t}\n\n\tstatic tryInferContext(vertexString: string, fragmentString: string, canvas: HTMLCanvasElement, attributes: WebGLContextAttributes, extensions: string[] = [], errorCallback: Function): WebGLRenderingContext | WebGL2RenderingContext {\n\t\tfunction handleError(errorCode: number, html: string) {\n\t\t\tif (typeof errorCallback === 'function') {\n\t\t\t\terrorCallback(errorCode);\n\t\t\t} else {\n\t\t\t\tconst container = canvas.parentNode;\n\t\t\t\tif (container) {\n\t\t\t\t\t(container as HTMLElement).innerHTML = `<div class=\"glsl-canvas--error\">${html}</div>`;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tif (!WebGLRenderingContext) {\n\t\t\thandleError(ContextError.BrowserSupport, `This page requires a browser that supports WebGL.<br/>\n\t\t\t<a href=\"http://get.webgl.org\">Click here to upgrade your browser.</a>`);\n\t\t\treturn null;\n\t\t}\n\t\tconst context: WebGLRenderingContext | WebGL2RenderingContext = Context.inferContext(vertexString, fragmentString, canvas, attributes);\n\t\tif (!context) {\n\t\t\thandleError(ContextError.Other, `It does not appear your computer can support WebGL.<br/>\n\t\t\t<a href=\"http://get.webgl.org/troubleshooting/\">Click here for more information.</a>`);\n\t\t} else {\n\t\t\tif (!(this.isWebGl2(context)) && extensions.indexOf('OES_standard_derivatives') === -1) {\n\t\t\t\textensions.push('OES_standard_derivatives');\n\t\t\t}\n\t\t\tconst supportedExtensions = context.getSupportedExtensions();\n\t\t\textensions.forEach(key => {\n\t\t\t\tif (supportedExtensions.indexOf(key) !== -1) {\n\t\t\t\t\tcontext.getExtension(key);\n\t\t\t\t} else {\n\t\t\t\t\tLogger.warn(`GlslCanvas ${key} not supported`);\n\t\t\t\t}\n\t\t\t});\n\t\t\t// context.getExtension('OES_standard_derivatives');\n\t\t}\n\t\treturn context;\n\t}\n\n\tstatic tryGetContext(canvas: HTMLCanvasElement, attributes: WebGLContextAttributes, errorCallback: Function): WebGLRenderingContext {\n\t\tfunction handleError(errorCode: number, html: string) {\n\t\t\tif (typeof errorCallback === 'function') {\n\t\t\t\terrorCallback(errorCode);\n\t\t\t} else {\n\t\t\t\tconst container = canvas.parentNode;\n\t\t\t\tif (container) {\n\t\t\t\t\t(container as HTMLElement).innerHTML = `<div class=\"glsl-canvas--error\">${html}</div>`;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tif (!WebGLRenderingContext) {\n\t\t\thandleError(ContextError.BrowserSupport, `This page requires a browser that supports WebGL.<br/>\n\t\t\t<a href=\"http://get.webgl.org\">Click here to upgrade your browser.</a>`);\n\t\t\treturn null;\n\t\t}\n\t\tconst context: WebGLRenderingContext = Context.getContext_(canvas, attributes);\n\t\tif (!context) {\n\t\t\thandleError(ContextError.Other, `It does not appear your computer can support WebGL.<br/>\n\t\t\t<a href=\"http://get.webgl.org/troubleshooting/\">Click here for more information.</a>`);\n\t\t} else {\n\t\t\tcontext.getExtension('OES_standard_derivatives');\n\t\t}\n\t\treturn context;\n\t}\n\n\tstatic inferContext(vertexString: string, fragmentString: string, canvas: HTMLCanvasElement, options?: WebGLContextAttributes): WebGLRenderingContext | WebGL2RenderingContext {\n\t\tconst version: ContextVersion = this.inferVersion(vertexString, fragmentString);\n\t\treturn version === ContextVersion.WebGl2 ? this.getContext2_(canvas, options) : this.getContext_(canvas, options);\n\t}\n\n\tstatic createShader(gl: WebGLRenderingContext | WebGL2RenderingContext, source: string, type: number, offset: number = 0): WebGLShader {\n\t\tconst shader = gl.createShader(type);\n\t\tgl.shaderSource(shader, source);\n\t\tgl.compileShader(shader);\n\t\tconst compiled = gl.getShaderParameter(shader, gl.COMPILE_STATUS);\n\t\tif (!compiled) {\n\t\t\t// Something went wrong during compilation; get the error\n\t\t\tContext.lastError = gl.getShaderInfoLog(shader);\n\t\t\t// console.log('lastError', Context.lastError);\n\t\t\tLogger.error(`*** Error compiling shader ${shader}: ${Context.lastError}`);\n\t\t\t// main.trigger('error', {\n\t\t\tgl.deleteShader(shader);\n\t\t\tthrow ({\n\t\t\t\tshader: shader,\n\t\t\t\tsource: source,\n\t\t\t\ttype: type,\n\t\t\t\terror: Context.lastError,\n\t\t\t\toffset: offset\n\t\t\t});\n\t\t}\n\t\treturn shader;\n\t}\n\n\tstatic createProgram(gl: WebGLRenderingContext | WebGL2RenderingContext, shaders: WebGLShader[], attributes?: any[], locations?: number[]): WebGLProgram {\n\t\tconst program = gl.createProgram();\n\t\tfor (let i = 0; i < shaders.length; ++i) {\n\t\t\tgl.attachShader(program, shaders[i]);\n\t\t}\n\t\tif (attributes && locations) {\n\t\t\tfor (let i = 0; i < attributes.length; ++i) {\n\t\t\t\tgl.bindAttribLocation(program, locations ? locations[i] : i, attributes[i]);\n\t\t\t}\n\t\t}\n\t\tgl.linkProgram(program);\n\t\t// Check the link status\n\t\tconst linked = gl.getProgramParameter(program, gl.LINK_STATUS);\n\t\tif (!linked) {\n\t\t\t// something went wrong with the link\n\t\t\tContext.lastError = gl.getProgramInfoLog(program);\n\t\t\tLogger.log(`Error in program linking: ${Context.lastError}`);\n\t\t\tgl.deleteProgram(program);\n\t\t\treturn null;\n\t\t}\n\t\treturn program;\n\t}\n\n\tstatic createVertexBuffers(gl: WebGLRenderingContext | WebGL2RenderingContext, program: WebGLProgram): ContextVertexBuffers {\n\t\tconst vertexBuffers: ContextVertexBuffers = new ContextVertexBuffers();\n\t\tconst texcoordIndex: number = gl.getAttribLocation(program, 'a_texcoord');\n\t\tvertexBuffers.texcoord = gl.createBuffer();\n\t\tgl.bindBuffer(gl.ARRAY_BUFFER, vertexBuffers.texcoord);\n\t\tgl.bufferData(gl.ARRAY_BUFFER, new Float32Array([0.0, 0.0, 1.0, 0.0, 0.0, 1.0, 0.0, 1.0, 1.0, 0.0, 1.0, 1.0]), gl.STATIC_DRAW);\n\t\tgl.enableVertexAttribArray(texcoordIndex);\n\t\tgl.vertexAttribPointer(texcoordIndex, 2, gl.FLOAT, false, 0, 0);\n\t\tconst positionIndex: number = gl.getAttribLocation(program, 'a_position');\n\t\tvertexBuffers.position = gl.createBuffer();\n\t\tgl.bindBuffer(gl.ARRAY_BUFFER, vertexBuffers.position);\n\t\tgl.bufferData(gl.ARRAY_BUFFER, new Float32Array([-1.0, -1.0, 1.0, -1.0, -1.0, 1.0, -1.0, 1.0, 1.0, -1.0, 1.0, 1.0]), gl.STATIC_DRAW);\n\t\tgl.enableVertexAttribArray(positionIndex);\n\t\tgl.vertexAttribPointer(positionIndex, 2, gl.FLOAT, false, 0, 0);\n\t\treturn vertexBuffers;\n\t}\n\n}\n","import Context from '../context/context';\nimport IterableStringMap from '../core/iterable';\n\nexport const BuffersDefaultFragment = `\nvoid main(){\n\tgl_FragColor = vec4(1.0);\n}`;\n\nexport const BuffersDefaultFragment2 = `#version 300 es\n\nprecision mediump float;\n\nout vec4 outColor;\n\nvoid main() {\n\toutColor = vec4(1.0);\n}\n`;\n\nexport enum BufferFloatType {\n\tFLOAT = 0,\n\tHALF_FLOAT,\n}\n\nexport class Buffer {\n\n\tstatic floatType: BufferFloatType = BufferFloatType.HALF_FLOAT;\n\ttexture: WebGLTexture;\n\tbuffer: WebGLFramebuffer;\n\tBW: number;\n\tBH: number;\n\tindex: number;\n\n\tconstructor(gl: WebGLRenderingContext | WebGL2RenderingContext, BW: number, BH: number, index: number) {\n\t\tconst buffer = gl.createFramebuffer();\n\t\tconst texture = this.getTexture(gl, BW, BH, index);\n\t\tgl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MIN_FILTER, gl.NEAREST);\n\t\tgl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MAG_FILTER, gl.NEAREST);\n\t\tgl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_S, gl.CLAMP_TO_EDGE);\n\t\tgl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_T, gl.CLAMP_TO_EDGE);\n\t\tthis.texture = texture;\n\t\tthis.buffer = buffer;\n\t\tthis.BW = BW;\n\t\tthis.BH = BH;\n\t\tthis.index = index;\n\t}\n\n\tgetFloatType(gl: WebGLRenderingContext | WebGL2RenderingContext): number {\n\t\tlet floatType: number, extension;\n\t\tif (Buffer.floatType === BufferFloatType.FLOAT) {\n\t\t\tconst extensionName = Context.isWebGl2(gl) ? 'EXT_color_buffer_float' : 'OES_texture_float';\n\t\t\textension = gl.getExtension(extensionName);\n\t\t\tif (extension) {\n\t\t\t\tfloatType = gl.FLOAT;\n\t\t\t} else {\n\t\t\t\tBuffer.floatType = BufferFloatType.HALF_FLOAT;\n\t\t\t\treturn this.getFloatType(gl);\n\t\t\t}\n\t\t} else {\n\t\t\tconst extensionName = Context.isWebGl2(gl) ? 'EXT_color_buffer_half_float' : 'OES_texture_half_float';\n\t\t\textension = gl.getExtension(extensionName);\n\t\t\tif (extension) {\n\t\t\t\tfloatType = extension.HALF_FLOAT_OES;\n\t\t\t} else {\n\t\t\t\tBuffer.floatType = BufferFloatType.FLOAT;\n\t\t\t\treturn this.getFloatType(gl);\n\t\t\t}\n\t\t}\n\t\treturn floatType;\n\t}\n\n\tgetTexture(gl: WebGLRenderingContext | WebGL2RenderingContext, BW: number, BH: number, index: number): WebGLTexture {\n\t\tconst floatType = this.getFloatType(gl);\n\t\tconst texture = gl.createTexture();\n\t\tgl.activeTexture(gl.TEXTURE0 + index);\n\t\tgl.bindTexture(gl.TEXTURE_2D, texture);\n\t\tgl.texImage2D(gl.TEXTURE_2D, 0, (Context.isWebGl2(gl) ? (gl as WebGL2RenderingContext).RGBA16F : gl.RGBA), BW, BH, 0, gl.RGBA, floatType, null);\n\t\tconst status = gl.checkFramebufferStatus(gl.FRAMEBUFFER);\n\t\tif (status !== gl.FRAMEBUFFER_COMPLETE) {\n\t\t\tif (Buffer.floatType === BufferFloatType.FLOAT) {\n\t\t\t\tBuffer.floatType = BufferFloatType.HALF_FLOAT;\n\t\t\t} else {\n\t\t\t\tBuffer.floatType = BufferFloatType.FLOAT;\n\t\t\t}\n\t\t\treturn this.getTexture(gl, BW, BH, index);\n\t\t}\n\t\treturn texture;\n\t}\n\n\tresize(gl: WebGLRenderingContext | WebGL2RenderingContext, BW: number, BH: number) {\n\t\tif (BW !== this.BW || BH !== this.BH) {\n\t\t\tconst buffer = this.buffer;\n\t\t\tconst texture = this.texture;\n\t\t\tconst index = this.index;\n\t\t\tgl.bindFramebuffer(gl.FRAMEBUFFER, buffer);\n\t\t\tconst status = gl.checkFramebufferStatus(gl.FRAMEBUFFER);\n\t\t\tconst minW = Math.min(BW, this.BW);\n\t\t\tconst minH = Math.min(BH, this.BH);\n\t\t\tlet pixels: Float32Array;\n\t\t\tlet floatType = this.getFloatType(gl);\n\t\t\tif (status === gl.FRAMEBUFFER_COMPLETE) {\n\t\t\t\tpixels = new Float32Array(minW * minH * 4);\n\t\t\t\tgl.readPixels(0, 0, minW, minH, gl.RGBA, floatType, pixels);\n\t\t\t}\n\t\t\tgl.bindFramebuffer(gl.FRAMEBUFFER, null);\n\t\t\tconst newIndex = index + 1; // temporary index\n\t\t\tconst newTexture = this.getTexture(gl, BW, BH, newIndex);\n\t\t\tfloatType = this.getFloatType(gl);\n\t\t\tgl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MIN_FILTER, gl.NEAREST);\n\t\t\tgl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MAG_FILTER, gl.NEAREST);\n\t\t\tgl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_S, gl.CLAMP_TO_EDGE);\n\t\t\tgl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_T, gl.CLAMP_TO_EDGE);\n\t\t\tif (pixels) {\n\t\t\t\tgl.texSubImage2D(gl.TEXTURE_2D, 0, 0, 0, minW, minH, gl.RGBA, floatType, pixels);\n\t\t\t}\n\t\t\tconst newBuffer = gl.createFramebuffer();\n\t\t\tgl.bindFramebuffer(gl.FRAMEBUFFER, null);\n\t\t\tgl.deleteTexture(texture);\n\t\t\tgl.activeTexture(gl.TEXTURE0 + index);\n\t\t\tgl.bindTexture(gl.TEXTURE_2D, newTexture);\n\t\t\tthis.index = index;\n\t\t\tthis.texture = newTexture;\n\t\t\tthis.buffer = newBuffer;\n\t\t\tthis.BW = BW;\n\t\t\tthis.BH = BH;\n\t\t}\n\t}\n\n}\n\nexport class IOBuffer {\n\n\tprogram: WebGLProgram;\n\tinput: Buffer;\n\toutput: Buffer;\n\tindex: number;\n\tkey: string;\n\tvertexString: string;\n\tfragmentString: string;\n\tBW: number;\n\tBH: number;\n\tisValid: boolean = false;\n\n\tconstructor(index: number, key: string, vertexString: string, fragmentString: string) {\n\t\tthis.index = index;\n\t\tthis.key = key;\n\t\tthis.vertexString = vertexString;\n\t\tthis.fragmentString = fragmentString;\n\t}\n\n\tcreate(gl: WebGLRenderingContext | WebGL2RenderingContext, BW: number, BH: number) {\n\t\t// console.log('create', this.vertexString, this.fragmentString);\n\t\tconst vertexShader = Context.createShader(gl, this.vertexString, gl.VERTEX_SHADER);\n\t\tlet fragmentShader = Context.createShader(gl, this.fragmentString, gl.FRAGMENT_SHADER, 1);\n\t\tif (!fragmentShader) {\n\t\t\tfragmentShader = Context.createShader(gl, Context.isWebGl2(gl) ?\n\t\t\t\tBuffersDefaultFragment2 : BuffersDefaultFragment, gl.FRAGMENT_SHADER);\n\t\t\tthis.isValid = false;\n\t\t} else {\n\t\t\tthis.isValid = true;\n\t\t}\n\t\tconst program = Context.createProgram(gl, [vertexShader, fragmentShader]);\n\t\tgl.linkProgram(program);\n\t\tconst input = new Buffer(gl, BW, BH, this.index + 0);\n\t\tconst output = new Buffer(gl, BW, BH, this.index + 2);\n\t\tthis.program = program;\n\t\tthis.input = input;\n\t\tthis.output = output;\n\t\tgl.deleteShader(vertexShader);\n\t\tgl.deleteShader(fragmentShader);\n\t}\n\n\trender(gl: WebGLRenderingContext | WebGL2RenderingContext, BW: number, BH: number) {\n\t\tgl.useProgram(this.program);\n\t\tgl.viewport(0, 0, BW, BH);\n\t\tgl.bindFramebuffer(gl.FRAMEBUFFER, this.output.buffer);\n\t\tgl.framebufferTexture2D(gl.FRAMEBUFFER, gl.COLOR_ATTACHMENT0, gl.TEXTURE_2D, this.output.texture, 0);\n\t\tgl.drawArrays(gl.TRIANGLES, 0, 6);\n\t\t// swap\n\t\tconst input = this.input;\n\t\tconst output = this.output;\n\t\tthis.input = output;\n\t\tthis.output = input;\n\t}\n\n\tresize(gl: WebGLRenderingContext | WebGL2RenderingContext, BW: number, BH: number) {\n\t\tgl.useProgram(this.program);\n\t\tgl.viewport(0, 0, BW, BH);\n\t\tthis.input.resize(gl, BW, BH);\n\t\tthis.output.resize(gl, BW, BH);\n\t}\n\n\tdestroy(gl: WebGLRenderingContext | WebGL2RenderingContext) {\n\t\tgl.deleteProgram(this.program);\n\t\tthis.program = null;\n\t\tthis.input = null;\n\t\tthis.output = null;\n\t}\n\n}\n\nexport default class Buffers extends IterableStringMap<IOBuffer> {\n\n\tget count(): number {\n\t\treturn Object.keys(this.values).length * 4;\n\t}\n\n\tstatic getBuffers(gl: WebGLRenderingContext | WebGL2RenderingContext, fragmentString: string, vertexString: string): Buffers {\n\t\tconst buffers: Buffers = new Buffers();\n\t\tlet count = 0;\n\t\tif (fragmentString) {\n\t\t\tif (Context.isWebGl2(gl)) {\n\t\t\t\tfragmentString = fragmentString.replace(/^\\#version\\s*300\\s*es\\s*\\n/, '');\n\t\t\t}\n\t\t\tconst regexp = /(?:^\\s*)((?:#if|#elif)(?:\\s*)(defined\\s*\\(\\s*BUFFER_)(\\d+)(?:\\s*\\))|(?:#ifdef)(?:\\s*BUFFER_)(\\d+)(?:\\s*))/gm;\n\t\t\tlet matches;\n\t\t\twhile ((matches = regexp.exec(fragmentString)) !== null) {\n\t\t\t\tconst i = matches[3] || matches[4];\n\t\t\t\tconst key = 'u_buffer' + i;\n\t\t\t\tconst bufferFragmentString = Context.isWebGl2(gl) ? `#version 300 es\n#define BUFFER_${i}\n${fragmentString}` : `#define BUFFER_${i}\n${fragmentString}`;\n\t\t\t\tconst buffer = new IOBuffer(count, key, vertexString, bufferFragmentString);\n\t\t\t\tbuffer.create(gl, gl.drawingBufferWidth, gl.drawingBufferHeight);\n\t\t\t\tbuffers.set(key, buffer);\n\t\t\t\tcount += 4;\n\t\t\t}\n\t\t}\n\t\treturn buffers;\n\t}\n\n}\n","export class NumberMap<T> { [key: number]: T; };\nexport class StringMap<T> { [key: string]: T; };\n\nexport default class IterableStringMap<T> {\n\n\tvalues: StringMap<T> = new StringMap<T>();\n\n\thas(key: string) {\n\t\treturn this.values.hasOwnProperty(key);\n\t}\n\n\tset(key: string, item: T) {\n\t\tthis.values[key] = item;\n\t}\n\n\tget(key: string): T {\n\t\treturn this.values[key];\n\t}\n\n\tforEach(callbackfn: Function) {\n\t\tlet i = 0;\n\t\tfor (const key in this.values) {\n\t\t\tcallbackfn(this.values[key], i, this.values);\n\t\t\ti++;\n\t\t}\n\t}\n\n\treduce(callbackfn: Function, initialValue?: any) {\n\t\tlet previous = initialValue, i = 0;\n\t\tfor (const key in this.values) {\n\t\t\tprevious = callbackfn(previous, this.values[key], i, this.values);\n\t\t\ti++;\n\t\t}\n\t\treturn previous;\n\t}\n\n}\n","// import 'promise-polyfill';\nimport IterableStringMap from '../core/iterable';\nimport Subscriber from '../core/subscriber';\nimport Logger from '../logger/logger';\n\nexport const TextureImageExtensions = ['jpg', 'jpeg', 'png'];\nexport const TextureVideoExtensions = ['ogv', 'webm', 'mp4'];\nexport const TextureExtensions = TextureImageExtensions.concat(TextureVideoExtensions);\n\nexport enum TextureSourceType {\n\tData = 0,\n\tElement = 1,\n\tUrl = 2,\n}\n\nexport enum TextureFilteringType {\n\tMipMap = 'mipmap',\n\tLinear = 'linear',\n\tNearest = 'nearest',\n}\n\nexport interface ITextureData {\n\tdata: Uint8Array;\n\twidth: number;\n\theight: number;\n}\n\nexport interface ITextureOptions {\n\turl?: string;\n\telement?: HTMLCanvasElement | HTMLImageElement | HTMLVideoElement | HTMLElement | Element;\n\tdata?: Uint8Array;\n\twidth?: number;\n\theight?: number;\n\tfiltering?: TextureFilteringType;\n\trepeat?: boolean;\n\tUNPACK_FLIP_Y_WEBGL?: boolean;\n\tUNPACK_PREMULTIPLY_ALPHA_WEBGL?: number;\n\tTEXTURE_WRAP_S?: number; // gl.REPEAT | gl.CLAMP_TO_EDGE | gl.MIRRORED_REPEAT;\n\tTEXTURE_WRAP_T?: number; // gl.REPEAT | gl.CLAMP_TO_EDGE | gl.MIRRORED_REPEAT;\n}\n\nexport interface ITextureInput {\n\tkey: string;\n\turl: string | HTMLCanvasElement | HTMLImageElement | HTMLVideoElement | Element | ITextureData;\n\toptions?: ITextureOptions;\n}\n\nexport function isTextureData(object: any): object is ITextureData {\n\treturn 'data' in object && 'width' in object && 'height' in object;\n}\n\n// GL texture wrapper object for keeping track of a global set of textures, keyed by a unique user-defined name\nexport class Texture extends Subscriber {\n\n\tkey: string;\n\tindex: number;\n\toptions: ITextureOptions;\n\tworkpath: string;\n\twidth: number;\n\theight: number;\n\n\ttexture: WebGLTexture;\n\tsource: string | HTMLCanvasElement | HTMLImageElement | HTMLVideoElement | Element | Uint8Array;\n\tsourceType: TextureSourceType;\n\tfiltering: TextureFilteringType;\n\turl: string;\n\tvalid: boolean = false;\n\tdirty: boolean = false;\n\tanimated: boolean = false;\n\tpowerOf2: boolean = false;\n\n\tconstructor(\n\t\tgl: WebGLRenderingContext | WebGL2RenderingContext,\n\t\tkey: string,\n\t\tindex: number,\n\t\toptions: ITextureOptions = { filtering: TextureFilteringType.Linear },\n\t\tworkpath?: string,\n\t) {\n\t\tsuper();\n\t\tthis.key = key;\n\t\tthis.index = index;\n\t\tthis.options = options;\n\t\tthis.workpath = workpath;\n\t\tthis.create(gl);\n\t}\n\n\tstatic isPowerOf2(value: number): boolean {\n\t\treturn (value & (value - 1)) === 0;\n\t}\n\n\tstatic isSafari(): boolean {\n\t\treturn /^((?!chrome|android).)*safari/i.test(navigator.userAgent);\n\t}\n\n\tstatic isTextureUrl(text: string): boolean {\n\t\treturn text && (/\\.(jpg|jpeg|png|ogv|webm|mp4)$/i).test(text.split('?')[0]);\n\t}\n\n\tstatic isTexture(\n\t\turlElementOrData: string | HTMLCanvasElement | HTMLImageElement | HTMLVideoElement | Element | ITextureData,\n\t): boolean {\n\t\tconst options = Texture.getTextureOptions(urlElementOrData);\n\t\treturn options !== undefined;\n\t}\n\n\tstatic getMaxTextureSize(gl: WebGLRenderingContext | WebGL2RenderingContext): number {\n\t\treturn gl.getParameter(gl.MAX_TEXTURE_SIZE);\n\t};\n\n\tstatic getTextureOptions(\n\t\turlElementOrData: string | HTMLCanvasElement | HTMLImageElement | HTMLVideoElement | Element | ITextureData,\n\t\toptions: ITextureOptions = {}\n\t): ITextureOptions {\n\t\tif (typeof urlElementOrData === 'string' && urlElementOrData !== '') {\n\t\t\tif (Texture.isTextureUrl(urlElementOrData)) {\n\t\t\t\toptions.url = urlElementOrData;\n\t\t\t\tif (urlElementOrData.indexOf('?') !== -1) {\n\t\t\t\t\toptions = urlElementOrData.split('?')[1].split('&').reduce(function (prev: ITextureOptions, curr) {\n\t\t\t\t\t\tconst params = curr.split('=');\n\t\t\t\t\t\tconst key = decodeURIComponent(params[0]);\n\t\t\t\t\t\tconst value = decodeURIComponent(params[1]);\n\t\t\t\t\t\tswitch (key) {\n\t\t\t\t\t\t\tcase 'filtering':\n\t\t\t\t\t\t\t\tprev[key] = value as TextureFilteringType;\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\tcase 'repeat':\n\t\t\t\t\t\t\tcase 'UNPACK_FLIP_Y_WEBGL':\n\t\t\t\t\t\t\t\tprev[key] = Boolean(value);\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\tcase 'UNPACK_PREMULTIPLY_ALPHA_WEBGL':\n\t\t\t\t\t\t\tcase 'TEXTURE_WRAP_S':\n\t\t\t\t\t\t\tcase 'TEXTURE_WRAP_T':\n\t\t\t\t\t\t\t\tprev[key] = Number(value);\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t\treturn prev;\n\t\t\t\t\t}, options);\n\t\t\t\t}\n\t\t\t\treturn options;\n\t\t\t}\n\t\t\tif (document) {\n\t\t\t\turlElementOrData = document.querySelector(urlElementOrData);\n\t\t\t\t// Logger.log(urlElementOrData);\n\t\t\t}\n\t\t}\n\t\tif (urlElementOrData instanceof HTMLCanvasElement || urlElementOrData instanceof HTMLImageElement || urlElementOrData instanceof HTMLVideoElement) {\n\t\t\toptions.element = urlElementOrData;\n\t\t\treturn options;\n\t\t} else if (isTextureData(urlElementOrData)) {\n\t\t\toptions.data = urlElementOrData.data;\n\t\t\toptions.width = urlElementOrData.width;\n\t\t\toptions.height = urlElementOrData.height;\n\t\t\treturn options;\n\t\t} else {\n\t\t\treturn null;\n\t\t}\n\t}\n\n\tcreate(\n\t\tgl: WebGLRenderingContext | WebGL2RenderingContext\n\t): void {\n\t\tthis.texture = gl.createTexture();\n\t\tif (this.texture) {\n\t\t\tthis.valid = true;\n\t\t}\n\t\t// Default to a 1-pixel black texture so we can safely render while we wait for an image to load\n\t\t// See: http://stackoverflow.com/questions/19722247/webgl-wait-for-texture-to-load\n\t\t// [255, 255, 255, 255]\n\t\tthis.setData(gl, 1, 1, new Uint8Array([0, 0, 0, 0]), this.options);\n\t\t// this.bindTexture();\n\t\t// this.load(options);\n\t}\n\n\tload(\n\t\tgl: WebGLRenderingContext | WebGL2RenderingContext,\n\t\toptions: ITextureOptions = {}\n\t): Promise<Texture> {\n\t\tthis.options = options;\n\t\tif (typeof options.url === 'string') {\n\t\t\tif (this.url === undefined || options.url !== this.url) {\n\t\t\t\treturn this.setUrl(gl, options.url, options);\n\t\t\t} else {\n\t\t\t\treturn Promise.resolve(this);\n\t\t\t}\n\t\t} else if (options.element) {\n\t\t\treturn this.setElement(gl, options.element, options);\n\t\t} else if (options.data && options.width && options.height) {\n\t\t\treturn this.setData(gl, options.width, options.height, options.data, options);\n\t\t} else {\n\t\t\treturn Promise.reject(this);\n\t\t}\n\t}\n\n\tsetUrl(\n\t\tgl: WebGLRenderingContext | WebGL2RenderingContext,\n\t\turl: string,\n\t\toptions: ITextureOptions = {}\n\t): Promise<Texture> {\n\t\tif (!this.valid) {\n\t\t\treturn Promise.reject(this);\n\t\t}\n\t\tthis.url = url; // save URL reference (will be overwritten when element is loaded below)\n\t\tthis.source = url;\n\t\tthis.sourceType = TextureSourceType.Url;\n\t\tthis.options = Object.assign(this.options, options);\n\t\tconst src = String((url.indexOf(':/') === -1 && this.workpath !== undefined) ? `${this.workpath}/${url}` : url);\n\t\tconst ext = url.split('?')[0].split('.').pop().toLowerCase();\n\t\tconst isVideo = TextureVideoExtensions.indexOf(ext) !== -1;\n\t\tlet element: HTMLVideoElement | HTMLImageElement;\n\t\tlet promise: Promise<Texture>;\n\t\tif (isVideo) {\n\t\t\tLogger.log('GlslCanvas.setUrl video', src);\n\t\t\telement = document.createElement('video'); // new HTMLVideoElement();\n\t\t\telement.setAttribute('preload', 'auto');\n\t\t\t// element.setAttribute('autoplay', 'true');\n\t\t\telement.setAttribute('loop', 'true');\n\t\t\telement.setAttribute('muted', 'true');\n\t\t\telement.setAttribute('playsinline', 'true');\n\t\t\t// element.autoplay = true;\n\t\t\telement.loop = true;\n\t\t\telement.muted = true;\n\t\t\t/*\n\t\t\tif (!(Texture.isSafari() && /(?<!http|https):\\//.test(url))) {\n\t\t\t\telement.crossOrigin = 'anonymous';\n\t\t\t}\n\t\t\t*/\n\t\t\tpromise = this.setElement(gl, element, options);\n\t\t\telement.src = src;\n\t\t\telement.addEventListener('canplay', () => {\n\t\t\t\t(element as HTMLVideoElement).play();\n\t\t\t});\n\t\t} else {\n\t\t\tLogger.log('GlslCanvas.setUrl image', src);\n\t\t\telement = document.createElement('img'); // new HTMLImageElement();\n\t\t\tpromise = this.setElement(gl, element, options);\n\t\t\tif (!(Texture.isSafari() && url.slice(0, 5) === 'data:')) {\n\t\t\t\telement.crossOrigin = 'anonymous';\n\t\t\t}\n\t\t\telement.src = src;\n\t\t}\n\t\treturn promise;\n\t}\n\n\tsetElement(\n\t\tgl: WebGLRenderingContext | WebGL2RenderingContext,\n\t\telement: HTMLCanvasElement | HTMLImageElement | HTMLVideoElement | HTMLElement | Element,\n\t\toptions: ITextureOptions = {}\n\t): Promise<Texture> {\n\t\toptions = this.options = Object.assign(this.options, options);\n\t\treturn new Promise((resolve, reject) => {\n\t\t\tconst originalElement = element;\n\t\t\t// a string element is interpeted as a CSS selector\n\t\t\tif (typeof element === 'string') {\n\t\t\t\telement = document.querySelector(element);\n\t\t\t}\n\t\t\tif (element instanceof HTMLCanvasElement ||\n\t\t\t\telement instanceof HTMLImageElement ||\n\t\t\t\telement instanceof HTMLVideoElement) {\n\t\t\t\tthis.source = element;\n\t\t\t\tthis.sourceType = TextureSourceType.Element;\n\t\t\t\tif (element instanceof HTMLVideoElement) {\n\t\t\t\t\tconst video = element as HTMLVideoElement;\n\t\t\t\t\tvideo.addEventListener('loadeddata', (event) => {\n\t\t\t\t\t\tthis.update(gl, options);\n\t\t\t\t\t\tthis.setFiltering(gl, options);\n\t\t\t\t\t\tresolve(this);\n\t\t\t\t\t});\n\t\t\t\t\tvideo.addEventListener('error', (error) => {\n\t\t\t\t\t\treject(error);\n\t\t\t\t\t});\n\t\t\t\t\tvideo.load();\n\t\t\t\t} else if (element instanceof HTMLImageElement) {\n\t\t\t\t\telement.addEventListener('load', () => {\n\t\t\t\t\t\tthis.update(gl, options);\n\t\t\t\t\t\tthis.setFiltering(gl, options);\n\t\t\t\t\t\tresolve(this);\n\t\t\t\t\t});\n\t\t\t\t\telement.addEventListener('error', (error) => {\n\t\t\t\t\t\treject(error);\n\t\t\t\t\t});\n\t\t\t\t} else {\n\t\t\t\t\tthis.update(gl, options);\n\t\t\t\t\tthis.setFiltering(gl, options);\n\t\t\t\t\tresolve(this);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tlet message = `the 'element' parameter (\\`element: ${JSON.stringify(originalElement)}\\`) must be a CSS selector string, or a <canvas>, <image> or <video> object`;\n\t\t\t\tLogger.log(`Texture '${this.key}': ${message}`, options);\n\t\t\t\treject(message);\n\t\t\t}\n\t\t});\n\t}\n\n\tsetData(\n\t\tgl: WebGLRenderingContext | WebGL2RenderingContext,\n\t\twidth: number,\n\t\theight: number,\n\t\tdata: Uint8Array,\n\t\toptions: ITextureOptions = {}\n\t): Promise<Texture> {\n\t\tthis.width = width;\n\t\tthis.height = height;\n\t\tthis.options = Object.assign(this.options, options);\n\t\tthis.source = data;\n\t\tthis.sourceType = TextureSourceType.Data;\n\t\tthis.update(gl, options);\n\t\tthis.setFiltering(gl, options);\n\t\treturn Promise.resolve(this);\n\t}\n\n\t// Uploads current image or buffer to the GPU (can be used to update animated textures on the fly)\n\tupdate(\n\t\tgl: WebGLRenderingContext | WebGL2RenderingContext,\n\t\toptions: ITextureOptions\n\t): void {\n\t\tif (!this.valid) {\n\t\t\treturn;\n\t\t}\n\t\tgl.activeTexture(gl.TEXTURE0 + this.index);\n\t\tgl.bindTexture(gl.TEXTURE_2D, this.texture);\n\t\tgl.pixelStorei(gl.UNPACK_FLIP_Y_WEBGL, (options.UNPACK_FLIP_Y_WEBGL === false ? 0 : 1));\n\t\tgl.pixelStorei(gl.UNPACK_PREMULTIPLY_ALPHA_WEBGL, options.UNPACK_PREMULTIPLY_ALPHA_WEBGL || 0);\n\t\tif (this.sourceType === TextureSourceType.Element) {\n\t\t\tif (this.source instanceof HTMLImageElement && this.source.naturalWidth && this.source.naturalHeight) {\n\t\t\t\tthis.width = this.source.naturalWidth;\n\t\t\t\tthis.height = this.source.naturalHeight;\n\t\t\t\tgl.texImage2D(gl.TEXTURE_2D, 0, gl.RGBA, gl.RGBA, gl.UNSIGNED_BYTE, this.source);\n\t\t\t} else if (this.source instanceof HTMLVideoElement && this.source.videoWidth && this.source.videoHeight) {\n\t\t\t\tthis.width = this.source.videoWidth;\n\t\t\t\tthis.height = this.source.videoHeight;\n\t\t\t\tgl.texImage2D(gl.TEXTURE_2D, 0, gl.RGBA, gl.RGBA, gl.UNSIGNED_BYTE, this.source);\n\t\t\t} else if (this.source instanceof HTMLCanvasElement) {\n\t\t\t\tthis.width = this.source.width;\n\t\t\t\tthis.height = this.source.height;\n\t\t\t\tgl.texImage2D(gl.TEXTURE_2D, 0, gl.RGBA, gl.RGBA, gl.UNSIGNED_BYTE, this.source);\n\t\t\t}\n\t\t} else if (this.sourceType === TextureSourceType.Data) {\n\t\t\tconst imageBuffer: ArrayBufferView = this.source as ArrayBufferView;\n\t\t\tgl.texImage2D(gl.TEXTURE_2D, 0, gl.RGBA, this.width, this.height, 0, gl.RGBA, gl.UNSIGNED_BYTE, imageBuffer);\n\t\t}\n\t\tthis.trigger('loaded', this);\n\t}\n\n\ttryUpdate(gl: WebGLRenderingContext | WebGL2RenderingContext): boolean {\n\t\tlet dirty = false;\n\t\tif (this.animated) {\n\t\t\tdirty = true;\n\t\t\tthis.update(gl, this.options);\n\t\t}\n\t\treturn dirty;\n\t}\n\n\tdestroy(gl: WebGLRenderingContext | WebGL2RenderingContext): void {\n\t\tif (!this.valid) {\n\t\t\treturn;\n\t\t}\n\t\tgl.deleteTexture(this.texture);\n\t\tthis.texture = null;\n\t\tdelete this.source;\n\t\tthis.source = null;\n\t\tthis.valid = false;\n\t}\n\n\tsetFiltering(\n\t\tgl: WebGLRenderingContext | WebGL2RenderingContext,\n\t\toptions: ITextureOptions\n\t): void {\n\t\tif (!this.valid) {\n\t\t\treturn;\n\t\t}\n\t\tconst powerOf2 = Texture.isPowerOf2(this.width) && Texture.isPowerOf2(this.height);\n\t\tlet filtering = options.filtering || TextureFilteringType.MipMap;\n\t\tlet wrapS = options.TEXTURE_WRAP_S || (options.repeat ? gl.REPEAT : gl.CLAMP_TO_EDGE);\n\t\tlet wrapT = options.TEXTURE_WRAP_T || (options.repeat ? gl.REPEAT : gl.CLAMP_TO_EDGE);\n\t\tif (!powerOf2) {\n\t\t\tfiltering = filtering === TextureFilteringType.MipMap ? TextureFilteringType.Linear : filtering;\n\t\t\twrapS = wrapT = gl.CLAMP_TO_EDGE;\n\t\t\tif (options.repeat || options.TEXTURE_WRAP_S || options.TEXTURE_WRAP_T) {\n\t\t\t\tLogger.warn(`GlslCanvas: cannot repeat texture ${options.url} cause is not power of 2.`);\n\t\t\t}\n\t\t}\n\t\tthis.powerOf2 = powerOf2;\n\t\tthis.filtering = filtering;\n\t\t// this.bindTexture();\n\t\t// WebGL has strict requirements on non-power-of-2 textures:\n\t\t// No mipmaps and must clamp to edge\n\t\t// For power-of-2 textures, the following presets are available:\n\t\t// mipmap: linear blend from nearest mip\n\t\t// linear: linear blend from original image (no mips)\n\t\t// nearest: nearest pixel from original image (no mips, 'blocky' look)\n\t\tgl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_S, wrapS);\n\t\tgl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_T, wrapT);\n\t\tif (this.filtering === TextureFilteringType.MipMap) {\n\t\t\tgl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MIN_FILTER, gl.LINEAR_MIPMAP_LINEAR); // TODO: use trilinear filtering by defualt instead?\n\t\t\tgl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MAG_FILTER, gl.LINEAR);\n\t\t\tgl.generateMipmap(gl.TEXTURE_2D);\n\t\t} else if (this.filtering === TextureFilteringType.Nearest) {\n\t\t\tgl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MIN_FILTER, gl.NEAREST);\n\t\t\tgl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MAG_FILTER, gl.NEAREST);\n\t\t} else if (this.filtering === TextureFilteringType.Linear) {\n\t\t\tgl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MIN_FILTER, gl.LINEAR);\n\t\t\tgl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MAG_FILTER, gl.LINEAR);\n\t\t}\n\t}\n}\n\nexport default class Textures extends IterableStringMap<Texture> {\n\n\tcount: number = 0;\n\tdirty: boolean = false;\n\tanimated: boolean = false;\n\n\tclean() {\n\t\tfor (const key in this.values) {\n\t\t\tthis.values[key].dirty = false;\n\t\t}\n\t\tthis.dirty = false;\n\t}\n\n\tcreateOrUpdate(\n\t\tgl: WebGLRenderingContext | WebGL2RenderingContext,\n\t\tkey: string,\n\t\turlElementOrData: string | HTMLCanvasElement | HTMLImageElement | HTMLVideoElement | Element | ITextureData,\n\t\tindex: number = 0,\n\t\toptions: ITextureOptions = {},\n\t\tworkpath: string,\n\t): Promise<Texture> {\n\t\tlet texture;\n\t\tconst textureOptions = Texture.getTextureOptions(urlElementOrData, options);\n\t\ttexture = this.get(key);\n\t\tif (!texture) {\n\t\t\ttexture = new Texture(gl, key, index + this.count, textureOptions, workpath);\n\t\t\tthis.count++;\n\t\t\tthis.set(key, texture);\n\t\t}\n\t\tif (textureOptions !== undefined) {\n\t\t\treturn texture.load(gl, textureOptions).then(\n\t\t\t\t(texture) => {\n\t\t\t\t\tif (texture.source instanceof HTMLVideoElement) {\n\t\t\t\t\t\tconst video = texture.source as HTMLVideoElement;\n\t\t\t\t\t\t// Logger.log('video', video);\n\t\t\t\t\t\tvideo.addEventListener('play', () => {\n\t\t\t\t\t\t\t// Logger.log('play', texture.key);\n\t\t\t\t\t\t\ttexture.animated = true;\n\t\t\t\t\t\t\tthis.animated = true;\n\t\t\t\t\t\t});\n\t\t\t\t\t\tvideo.addEventListener('pause', () => {\n\t\t\t\t\t\t\t// Logger.log('pause', texture.key);\n\t\t\t\t\t\t\ttexture.animated = false;\n\t\t\t\t\t\t\tthis.animated = this.reduce((flag: boolean, texture: Texture) => {\n\t\t\t\t\t\t\t\treturn flag || texture.animated;\n\t\t\t\t\t\t\t}, false);\n\t\t\t\t\t\t});\n\t\t\t\t\t\tvideo.addEventListener('seeked', () => {\n\t\t\t\t\t\t\t// Logger.log('seeked');\n\t\t\t\t\t\t\ttexture.update(gl, texture.options);\n\t\t\t\t\t\t\tthis.dirty = true;\n\t\t\t\t\t\t});\n\t\t\t\t\t\t// Logger.log('video');\n\t\t\t\t\t\t/*\n\t\t\t\t\t\tvideo.addEventListener('canplaythrough', () => {\n\t\t\t\t\t\t\t// !!!\n\t\t\t\t\t\t\tthis.intervalID = setInterval(() => {\n\t\t\t\t\t\t\t\tthis.update(gl, options);\n\t\t\t\t\t\t\t}, 15);\n\t\t\t\t\t\t}, true);\n\t\t\t\t\t\tvideo.addEventListener('ended', () => {\n\t\t\t\t\t\t\tvideo.currentTime = 0;\n\t\t\t\t\t\t\tvideo.play();\n\t\t\t\t\t\t}, true);\n\t\t\t\t\t\t*/\n\t\t\t\t\t}\n\t\t\t\t\treturn texture;\n\t\t\t\t}\n\t\t\t);\n\t\t} else {\n\t\t\treturn Promise.resolve(texture);\n\t\t}\n\t}\n}\n","import Logger from '../logger/logger';\n\nexport class Listener {\n\tevent: string;\n\tcallback: Function;\n\n\tconstructor(\n\t\tevent: string,\n\t\tcallback: Function\n\t) {\n\t\tthis.event = event;\n\t\tthis.callback = callback;\n\t}\n}\n\nexport default class Subscriber {\n\tprivate listeners: Set<Listener> = new Set<Listener>();\n\n\tlogListeners() {\n\t\tthis.listeners.forEach(x => Logger.log(x));\n\t}\n\n\tsubscribe(listener: Listener) {\n\t\tthis.listeners.add(listener);\n\t}\n\n\tunsubscribe(listener: Listener) {\n\t\tthis.listeners.delete(listener);\n\t}\n\n\tunsubscribeAll() {\n\t\tthis.listeners.clear();\n\t}\n\n\ton(event: string, callback: Function) {\n\t\tthis.listeners.add(new Listener(event, callback));\n\t\treturn this;\n\t}\n\n\toff(event: string, callback?: Function) {\n\t\tif (callback) {\n\t\t\tthis.listeners.delete(new Listener(event, callback));\n\t\t} else {\n\t\t\tthis.listeners.forEach(x => {\n\t\t\t\tif (x.event === event) {\n\t\t\t\t\tthis.listeners.delete(x);\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t\treturn this;\n\t}\n\n\ttrigger(event: string, ...data: any[]) {\n\t\tthis.listeners.forEach(x => {\n\t\t\tif (x.event === event && typeof x.callback === 'function') {\n\t\t\t\tx.callback(...data);\n\t\t\t}\n\t\t});\n\t\treturn this;\n\t}\n\n}\n","\nimport IterableStringMap from '../core/iterable';\nimport Logger from '../logger/logger';\nimport { Texture } from '../textures/textures';\n\nexport enum UniformMethod {\n\tUnknown = 0,\n\tUniform1i = 'uniform1i', // (intUniformLoc,   v);                 // for int\n\t// Uniform1i  = 'uniform1i', // (boolUniformLoc,   v);                // for bool\n\t// Uniform1i  = 'uniform1i', // (sampler2DUniformLoc,   v);           // for sampler2D\n\t// Uniform1i  = 'uniform1i', // (samplerCubeUniformLoc,   v);         // for samplerCube\n\tUniform2i = 'uniform2i', // (ivec2UniformLoc, v0, v1);            // for ivec2\n\tUniform3i = 'uniform3i', // (ivec3UniformLoc, v0, v1, v2);        // for ivec3\n\tUniform4i = 'uniform4i', // (ivec4UniformLoc, v0, v1, v2, v4);    // for ivec4\n\tUniform1f = 'uniform1f', // (floatUniformLoc, v);                 // for float\n\tUniform2f = 'uniform2f', // (vec2UniformLoc,  v0, v1);            // for vec2\n\tUniform3f = 'uniform3f', // (vec3UniformLoc,  v0, v1, v2);        // for vec3\n\tUniform4f = 'uniform4f', // (vec4UniformLoc,  v0, v1, v2, v4);    // for vec4\n\t//\n\tUniform1iv = 'uniform1iv', // (intUniformLoc, [v]);                 // for int or int array\n\t// Uniform1iv = 'uniform1iv', // (boolUniformLoc, [v]);                // for bool or bool array\n\t// Uniform1iv = 'uniform1iv', // (sampler2DUniformLoc, [v]);           // for sampler2D or sampler2D array\n\t// Uniform1iv = 'uniform1iv', // (samplerCubeUniformLoc, [v]);         // for samplerCube or samplerCube array\n\tUniform2iv = 'uniform2iv', // (ivec2UniformLoc, [v0, v1]);          // for ivec2 or ivec2 array\n\tUniform3iv = 'uniform3iv', // (ivec3UniformLoc, [v0, v1, v2]);      // for ivec3 or ivec3 array\n\tUniform4iv = 'uniform4iv', // (ivec4UniformLoc, [v0, v1, v2, v4]);  // for ivec4 or ivec4 array\n\t//\n\tUniform1fv = 'uniform1fv', // (floatUniformLoc, [v]);               // for float or float array\n\tUniform2fv = 'uniform2fv', // (vec2UniformLoc,  [v0, v1]);          // for vec2 or vec2 array\n\tUniform3fv = 'uniform3fv', // (vec3UniformLoc,  [v0, v1, v2]);      // for vec3 or vec3 array\n\tUniform4fv = 'uniform4fv', // (vec4UniformLoc,  [v0, v1, v2, v4]);  // for vec4 or vec4 array\n\t//\n\tUniformMatrix2fv = 'uniformMatrix2fv', // (mat2UniformLoc, false, [  4x element array ])  // for mat2 or mat2 array\n\tUniformMatrix3fv = 'uniformMatrix3fv', // (mat3UniformLoc, false, [  9x element array ])  // for mat3 or mat3 array\n\tUniformMatrix4fv = 'uniformMatrix4fv', // (mat4UniformLoc, false, [ 16x element array ])  // for mat4 or mat4 array\n}\n\nexport enum UniformType {\n\tUnknown = 0,\n\tFloat,\n\tInt,\n\tBool,\n\tSampler2D,\n\tSamplerCube,\n\tMatrix2fv,\n\tMatrix3fv,\n\tMatrix4fv,\n}\n\nexport const METHODS_INT = [UniformMethod.Uniform1i, UniformMethod.Uniform2i, UniformMethod.Uniform3i, UniformMethod.Uniform4i];\nexport const METHODS_FLOAT = [UniformMethod.Uniform1f, UniformMethod.Uniform2f, UniformMethod.Uniform3f, UniformMethod.Uniform4f];\nexport const METHODS_INTV = [UniformMethod.Uniform1iv, UniformMethod.Uniform2iv, UniformMethod.Uniform3iv, UniformMethod.Uniform4iv];\nexport const METHODS_FLOATV = [UniformMethod.Uniform1fv, UniformMethod.Uniform2fv, UniformMethod.Uniform3fv, UniformMethod.Uniform4fv];\n\nexport interface IUniformOption { [key: string]: any[]; }\n\nexport class Uniform {\n\tmethod: UniformMethod;\n\ttype: UniformType;\n\tkey: string;\n\tvalues: any[];\n\tlocation?: WebGLUniformLocation;\n\tdirty?: boolean = true;\n\tapply?: Function;\n\n\tconstructor(options?: Uniform) {\n\t\tif (options) {\n\t\t\tObject.assign(this, options);\n\t\t}\n\t\tthis.apply = (gl: WebGLRenderingContext | WebGL2RenderingContext, program: WebGLProgram) => {\n\t\t\tif (this.dirty) {\n\t\t\t\tgl.useProgram(program);\n\t\t\t\tconst location = gl.getUniformLocation(program, this.key);\n\t\t\t\t// Logger.log(this.key, this.method, this.values);\n\t\t\t\t// (gl as any)[this.method].apply(gl, [location].concat(this.values));\n\t\t\t\t(gl as any)[this.method].apply(gl, [location].concat(this.values));\n\t\t\t}\n\t\t}\n\t}\n\n}\n\nexport class UniformTexture extends Uniform {\n\n\ttexture: Texture;\n\n\tconstructor(options?: Uniform) {\n\t\tsuper(options);\n\t}\n\n}\n\nexport default class Uniforms extends IterableStringMap<Uniform> {\n\n\tdirty: boolean = false;\n\n\t/*\n\t// slow\n\tstatic isDifferent(a: any, b: any): boolean {\n        return JSON.stringify(a) !== JSON.stringify(b);\n    }\n\t*/\n\n\tstatic isDifferent(a: any[], b: any[]) {\n\t\treturn a.length !== b.length ||\n\t\t\ta.reduce((f: boolean, v: any, i: number) => {\n\t\t\t\treturn f || v !== b[i];\n\t\t\t}, false);\n\t}\n\n\tstatic isArrayOfInteger(array: any[]): boolean {\n\t\treturn array.reduce((flag: boolean, value: any) => {\n\t\t\treturn flag && Number.isInteger(value);\n\t\t}, true);\n\t}\n\n\tstatic isArrayOfNumber(array: any[]): boolean {\n\t\treturn array.reduce((flag: boolean, value: any) => {\n\t\t\treturn flag && typeof value === 'number';\n\t\t}, true);\n\t}\n\n\tstatic isArrayOfBoolean(array: any[]): boolean {\n\t\treturn array.reduce((flag: boolean, value: any) => {\n\t\t\treturn flag && typeof value === 'boolean';\n\t\t}, true);\n\t}\n\n\tstatic isArrayOfTexture(array: any[]): boolean {\n\t\treturn array.reduce((flag: boolean, value: any) => {\n\t\t\treturn flag && Texture.isTexture(value);\n\t\t}, true);\n\t}\n\n\tstatic isArrayOfSampler2D(array: Uniform[]): boolean {\n\t\treturn array.reduce((flag: boolean, value: Uniform) => {\n\t\t\treturn flag && value.type === UniformType.Sampler2D;\n\t\t}, true);\n\t}\n\n\tprivate static getType_(\n\t\tvalues: any[],\n\t): UniformType {\n\t\tlet type = UniformType.Unknown;\n\t\tconst isVector = values.length === 1 && Array.isArray(values[0]);\n\t\tconst subject = isVector ? values[0] : values;\n\t\tif (Uniforms.isArrayOfNumber(subject)) {\n\t\t\ttype = UniformType.Float;\n\t\t} else if (Uniforms.isArrayOfBoolean(subject)) {\n\t\t\ttype = UniformType.Bool;\n\t\t} else if (Uniforms.isArrayOfTexture(subject)) {\n\t\t\ttype = UniformType.Sampler2D;\n\t\t}\n\t\treturn type;\n\t}\n\n\tprivate static getMethod_(\n\t\ttype: UniformType,\n\t\tvalues: any[],\n\t): UniformMethod {\n\t\tlet method = UniformMethod.Unknown;\n\t\tconst isVector = values.length === 1 && Array.isArray(values[0]);\n\t\tconst subject = isVector ? values[0] : values;\n\t\tconst length = subject.length;\n\t\tconst i = length - 1;\n\t\tswitch (type) {\n\t\t\tcase UniformType.Float:\n\t\t\t\tif (isVector) {\n\t\t\t\t\tmethod = i < METHODS_FLOATV.length ? METHODS_FLOATV[i] : UniformMethod.Unknown;\n\t\t\t\t} else {\n\t\t\t\t\tmethod = i < METHODS_FLOAT.length ? METHODS_FLOAT[i] : UniformMethod.Uniform1fv;\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase UniformType.Int:\n\t\t\tcase UniformType.Bool:\n\t\t\t\tif (isVector) {\n\t\t\t\t\tmethod = i < METHODS_INTV.length ? METHODS_INTV[i] : UniformMethod.Unknown;\n\t\t\t\t} else {\n\t\t\t\t\tmethod = i < METHODS_INT.length ? METHODS_INT[i] : UniformMethod.Uniform1iv;\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase UniformType.Sampler2D:\n\t\t\t\tif (isVector) {\n\t\t\t\t\tmethod = UniformMethod.Uniform1iv;\n\t\t\t\t} else {\n\t\t\t\t\tmethod = length === 1 ? UniformMethod.Uniform1i : UniformMethod.Uniform1iv;\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t}\n\t\treturn method;\n\t}\n\n\tstatic parseUniform(\n\t\tkey: string,\n\t\tvalues: any[],\n\t\ttype: UniformType = null\n\t): Uniform | Uniform[] {\n\t\tlet uniform: Uniform;\n\t\ttype = type || Uniforms.getType_(values);\n\t\tconst method = Uniforms.getMethod_(type, values);\n\t\tif (type !== UniformType.Unknown && method !== UniformMethod.Unknown) {\n\t\t\t// Logger.log('Uniforms.parseUniform', key, UniformType[type], method, values);\n\t\t\tif (type === UniformType.Sampler2D && method === UniformMethod.Uniform1iv) {\n\t\t\t\treturn values[0].map((texture: any, index: number) => {\n\t\t\t\t\treturn new Uniform({\n\t\t\t\t\t\tmethod: method,\n\t\t\t\t\t\ttype: type,\n\t\t\t\t\t\tkey: `${key}[${index}]`, // `${key.split('[')[0]}[${index}]`,\n\t\t\t\t\t\tvalues: [texture]\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\tuniform = new Uniform({\n\t\t\t\t\tmethod: method,\n\t\t\t\t\ttype: type,\n\t\t\t\t\tkey: key,\n\t\t\t\t\tvalues: values\n\t\t\t\t});\n\t\t\t}\n\t\t} else {\n\t\t\tLogger.error('Uniforms.parseUniform.Unknown', key, values);\n\t\t}\n\t\t// return this.parseUniform__bak(key, values);\n\t\treturn uniform;\n\t}\n\n\tcreate(method: UniformMethod, type: UniformType, key: string, values: any[]): Uniform {\n\t\tconst uniform = new Uniform({\n\t\t\tmethod: method,\n\t\t\ttype: type,\n\t\t\tkey: key,\n\t\t\tvalues: values,\n\t\t});\n\t\tthis.set(key, uniform);\n\t\tthis.dirty = true;\n\t\treturn uniform;\n\t}\n\n\tcreateTexture(key: string, index: number): UniformTexture {\n\t\tlet uniform;\n\t\tif (key.indexOf(']') !== -1) {\n\t\t\tuniform = new UniformTexture({\n\t\t\t\tmethod: UniformMethod.Uniform1iv,\n\t\t\t\ttype: UniformType.Sampler2D,\n\t\t\t\tkey: key,\n\t\t\t\tvalues: [[index]],\n\t\t\t});\n\t\t} else {\n\t\t\tuniform = new UniformTexture({\n\t\t\t\tmethod: UniformMethod.Uniform1i,\n\t\t\t\ttype: UniformType.Sampler2D,\n\t\t\t\tkey: key,\n\t\t\t\tvalues: [index],\n\t\t\t});\n\t\t}\n\t\tthis.set(key, uniform);\n\t\tthis.dirty = true;\n\t\treturn uniform;\n\t}\n\n\tupdate(method: UniformMethod, type: UniformType, key: string, values: any[]) {\n\t\tconst uniform = this.get(key);\n\t\tif (uniform &&\n\t\t\t(uniform.method !== method ||\n\t\t\t\tuniform.type !== type ||\n\t\t\t\tUniforms.isDifferent(uniform.values, values)\n\t\t\t)) {\n\t\t\tuniform.method = method;\n\t\t\tuniform.type = type;\n\t\t\tuniform.values = values;\n\t\t\tuniform.dirty = true;\n\t\t\tthis.dirty = true;\n\t\t}\n\t}\n\n\tcreateOrUpdate(method: UniformMethod, type: UniformType, key: string, values: any[]) {\n\t\tif (this.has(key)) {\n\t\t\tthis.update(method, type, key, values);\n\t\t} else {\n\t\t\tthis.create(method, type, key, values);\n\t\t}\n\t}\n\n\tapply(gl: WebGLRenderingContext | WebGL2RenderingContext, program: WebGLProgram) {\n\t\tfor (const key in this.values) {\n\t\t\t// if (typeof this.values[key].apply === 'function') {\n\t\t\tthis.values[key].apply(gl, program);\n\t\t\t// }\n\t\t}\n\t\t// this.forEach(uniform => uniform.apply(gl, program));\n\t}\n\n\tclean() {\n\t\tfor (const key in this.values) {\n\t\t\tthis.values[key].dirty = false;\n\t\t}\n\t\tthis.dirty = false;\n\t}\n\n}\n","export default class CanvasTimer {\n\n\tstart: number;\n\tprevious: number;\n\tdelay: number = 0.0;\n\tcurrent: number = 0.0;\n\tdelta: number = 0.0;\n\tpaused: boolean = false;\n\n\tconstructor() {\n\t\tthis.start = this.previous = this.now();\n\t}\n\n\tnow() {\n\t\treturn performance.now();\n\t}\n\n\tplay() {\n\t\tif (this.previous) {\n\t\t\tconst now = this.now();\n\t\t\tthis.delay += (now - this.previous);\n\t\t\tthis.previous = now;\n\t\t}\n\t\t// Logger.log(this.delay);\n\t\tthis.paused = false;\n\t}\n\n\tpause() {\n\t\tthis.paused = true;\n\t}\n\n\tnext(): CanvasTimer {\n\t\tconst now = this.now();\n\t\tthis.delta = now - this.previous;\n\t\tthis.current = now - this.start - this.delay;\n\t\tthis.previous = now;\n\t\treturn this;\n\t}\n\n}\n","// import '@babel/polyfill';\nimport 'promise-polyfill';\nimport Buffers, { IOBuffer } from '../buffers/buffers';\nimport Context, { ContextDefaultFragment, ContextVertexBuffers, IContextOptions } from '../context/context';\nimport Common from '../core/common';\nimport Subscriber from '../core/subscriber';\nimport Logger from '../logger/logger';\nimport Textures, { ITextureData, ITextureInput, ITextureOptions, Texture } from '../textures/textures';\nimport Uniforms, { IUniformOption, Uniform, UniformMethod, UniformType } from '../uniforms/uniforms';\nimport CanvasTimer from './canvas-timer';\n\nexport interface IPoint {\n\tx: number,\n\ty: number,\n}\n\nexport interface ICanvasOptions extends IContextOptions {\n\tvertexString?: string;\n\tfragmentString?: string;\n\tbackgroundColor?: string;\n\tworkpath?: string;\n\tonError?: Function;\n\textensions?: string[];\n}\n\nexport default class Canvas extends Subscriber {\n\toptions: ICanvasOptions;\n\tcanvas: HTMLCanvasElement;\n\tgl: WebGLRenderingContext | WebGL2RenderingContext;\n\tprogram: WebGLProgram;\n\ttimer: CanvasTimer;\n\tvertexBuffers: ContextVertexBuffers;\n\trect: ClientRect | DOMRect;\n\tmouse: IPoint = { x: 0, y: 0 };\n\tuniforms: Uniforms = new Uniforms();\n\tbuffers: Buffers = new Buffers();\n\ttextures: Textures = new Textures();\n\ttextureList: ITextureInput[] = [];\n\n\tvertexString: string;\n\tfragmentString: string;\n\twidth: number;\n\theight: number;\n\tdevicePixelRatio: number;\n\n\tvalid: boolean = false;\n\tanimated: boolean = false;\n\tdirty: boolean = true;\n\tvisible: boolean = false;\n\n\trafId: number;\n\n\tconstructor(\n\t\tcanvas: HTMLCanvasElement,\n\t\toptions: ICanvasOptions = {\n\t\t\t// alpha: true,\n\t\t\t// antialias: true,\n\t\t\t// premultipliedAlpha: true\n\t\t}\n\t) {\n\t\tsuper();\n\t\tif (!canvas) {\n\t\t\treturn;\n\t\t}\n\t\tthis.options = options;\n\t\tthis.canvas = canvas;\n\t\tthis.width = 0; // canvas.clientWidth;\n\t\tthis.height = 0; // canvas.clientHeight;\n\t\tthis.rect = canvas.getBoundingClientRect();\n\t\tthis.devicePixelRatio = window.devicePixelRatio || 1;\n\t\tcanvas.style.backgroundColor = options.backgroundColor || 'rgba(0,0,0,0)';\n\t\tthis.getShaders_().then((success) => {\n\t\t\t/*\n\t\t\tconst v = this.vertexString = options.vertexString || this.vertexString;\n\t\t\tconst f = this.fragmentString = options.fragmentString || this.fragmentString;\n\t\t\tthis.vertexString = Context.getVertex(v, f);\n\t\t\tthis.fragmentString = Context.getFragment(v, f);\n\t\t\tconst gl = Context.tryInferContext(v, f, canvas, options, options.onError);\n\t\t\tif (!gl) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tthis.gl = gl;\n\t\t\t*/\n\t\t\tthis.load().then(success => {\n\t\t\t\tif (!this.program) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tthis.addListeners_();\n\t\t\t\tthis.onLoop();\n\t\t\t});\n\t\t}, (error) => {\n\t\t\tLogger.log('GlslCanvas.getShaders_.error', error);\n\t\t});\n\t\tCanvas.items.push(this);\n\t}\n\n\tstatic logger: Logger = Logger;\n\tstatic items: Canvas[] = [];\n\n\tstatic version(): string {\n\t\treturn '0.1.6';\n\t}\n\n\tstatic of(canvas: HTMLCanvasElement, options?: ICanvasOptions): Canvas {\n\t\treturn Canvas.items.find(x => x.canvas === canvas) || new Canvas(canvas, options);\n\t}\n\n\tstatic loadAll(): Canvas[] {\n\t\tconst canvases: HTMLCanvasElement[] = <HTMLCanvasElement[]>[].slice.call(document.getElementsByClassName('glsl-canvas')).filter((x: HTMLElement) => x instanceof HTMLCanvasElement);\n\t\treturn canvases.map(x => Canvas.of(x));\n\t}\n\n\tprivate getShaders_(): Promise<string[]> {\n\t\treturn new Promise((resolve, reject) => {\n\t\t\tconst canvas = this.canvas;\n\t\t\tconst urls: any = {};\n\t\t\tif (canvas.hasAttribute('data-vertex-url')) {\n\t\t\t\turls.vertex = canvas.getAttribute('data-vertex-url');\n\t\t\t}\n\t\t\tif (canvas.hasAttribute('data-fragment-url')) {\n\t\t\t\turls.fragment = canvas.getAttribute('data-fragment-url');\n\t\t\t}\n\t\t\tif (canvas.hasAttribute('data-vertex')) {\n\t\t\t\tthis.vertexString = canvas.getAttribute('data-vertex');\n\t\t\t}\n\t\t\tif (canvas.hasAttribute('data-fragment')) {\n\t\t\t\tthis.fragmentString = canvas.getAttribute('data-fragment');\n\t\t\t}\n\t\t\tif (Object.keys(urls).length) {\n\t\t\t\tPromise.all(Object.keys(urls).map((key, i) => {\n\t\t\t\t\tconst url: string = urls[key];\n\t\t\t\t\treturn Common.fetch(url)\n\t\t\t\t\t\t// .then((response) => response.text())\n\t\t\t\t\t\t.then((body) => {\n\t\t\t\t\t\t\tif (key === 'vertex') {\n\t\t\t\t\t\t\t\treturn this.vertexString = body;\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\treturn this.fragmentString = body;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t})\n\t\t\t\t})).then(shaders => {\n\t\t\t\t\tresolve([this.vertexString, this.fragmentString]);\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\tresolve([this.vertexString, this.fragmentString]);\n\t\t\t}\n\t\t});\n\t}\n\n\tprivate addListeners_(): void {\n        /*\n        const resize = (e: Event) => {\n            this.rect = this.canvas.getBoundingClientRect();\n            this.trigger('resize', e);\n        };\n        */\n\t\tthis.onScroll = this.onScroll.bind(this);\n\t\tthis.onClick = this.onClick.bind(this);\n\t\tthis.onMove = this.onMove.bind(this);\n\t\tthis.onMousemove = this.onMousemove.bind(this);\n\t\tthis.onMouseover = this.onMouseover.bind(this);\n\t\tthis.onMouseout = this.onMouseout.bind(this);\n\t\tthis.onTouchmove = this.onTouchmove.bind(this);\n\t\tthis.onTouchend = this.onTouchend.bind(this);\n\t\tthis.onTouchstart = this.onTouchstart.bind(this);\n\t\tthis.onLoop = this.onLoop.bind(this);\n\t\t// window.addEventListener('resize', this.onResize);\n\t\twindow.addEventListener('scroll', this.onScroll);\n\t\tdocument.addEventListener('mousemove', this.onMousemove, false);\n\t\tdocument.addEventListener('touchmove', this.onTouchmove);\n\t\tthis.addCanvasListeners_();\n\t}\n\n\tprivate addCanvasListeners_() {\n\t\tif (this.canvas.hasAttribute('controls')) {\n\t\t\tthis.canvas.addEventListener('click', this.onClick);\n\t\t\tthis.canvas.addEventListener('mouseover', this.onMouseover);\n\t\t\tthis.canvas.addEventListener('mouseout', this.onMouseout);\n\t\t\tthis.canvas.addEventListener('touchstart', this.onTouchstart);\n\t\t\tif (!this.canvas.hasAttribute('data-autoplay')) {\n\t\t\t\tthis.pause();\n\t\t\t}\n\t\t}\n\t}\n\n\tprivate removeCanvasListeners_() {\n\t\tif (this.canvas.hasAttribute('controls')) {\n\t\t\tthis.canvas.removeEventListener('click', this.onClick);\n\t\t\tthis.canvas.removeEventListener('mouseover', this.onMouseover);\n\t\t\tthis.canvas.removeEventListener('mouseout', this.onMouseout);\n\t\t\tthis.canvas.removeEventListener('touchstart', this.onTouchstart);\n\t\t}\n\t}\n\n\tprivate removeListeners_() {\n\t\twindow.cancelAnimationFrame(this.rafId);\n\t\t// window.removeEventListener('resize', this.onResize);\n\t\twindow.removeEventListener('scroll', this.onScroll);\n\t\tdocument.removeEventListener('mousemove', this.onMousemove);\n\t\tdocument.removeEventListener('touchmove', this.onTouchmove);\n\t\tthis.removeCanvasListeners_();\n\t}\n\n\tonScroll(e: Event) {\n\t\tthis.rect = this.canvas.getBoundingClientRect();\n\t}\n\n\tonClick(e: MouseEvent) {\n\t\tthis.toggle();\n\t\tthis.trigger('click', e);\n\t}\n\n\tonMove(mx: number, my: number) {\n\t\t/*\n\t\tconst rect = this.rect, gap = 20;\n\t\tconst x = Math.max(-gap, Math.min(rect.width + gap, (mx - rect.left) * this.devicePixelRatio));\n\t\tconst y = Math.max(-gap, Math.min(rect.height + gap, (this.canvas.height - (my - rect.top) * this.devicePixelRatio)));\n\t\t*/\n\t\tconst rect = this.rect;\n\t\tconst x = (mx - rect.left) * this.devicePixelRatio;\n\t\tconst y = (rect.height - (my - rect.top)) * this.devicePixelRatio;\n\t\tif (x !== this.mouse.x ||\n\t\t\ty !== this.mouse.y) {\n\t\t\tthis.mouse.x = x;\n\t\t\tthis.mouse.y = y;\n\t\t\tthis.trigger('move', this.mouse);\n\t\t}\n\t}\n\n\tonMousemove(e: MouseEvent) {\n\t\tthis.onMove(e.clientX || e.pageX, e.clientY || e.pageY);\n\t}\n\n\tonMouseover(e: MouseEvent) {\n\t\tthis.play();\n\t\tthis.trigger('over', e);\n\t}\n\n\tonMouseout(e: MouseEvent) {\n\t\tthis.pause();\n\t\tthis.trigger('out', e);\n\t}\n\n\tonTouchmove(e: TouchEvent) {\n\t\tconst touch = [].slice.call(e.touches).reduce((p: IPoint, touch: Touch) => {\n\t\t\tp = p || { x: 0, y: 0 };\n\t\t\tp.x += touch.clientX;\n\t\t\tp.y += touch.clientY;\n\t\t\treturn p;\n\t\t}, null);\n\t\tif (touch) {\n\t\t\tthis.onMove(touch.x / e.touches.length, touch.y / e.touches.length);\n\t\t}\n\t}\n\n\tonTouchend(e: TouchEvent) {\n\t\tthis.pause();\n\t\tthis.trigger('out', e);\n\t\tdocument.removeEventListener('touchend', this.onTouchend);\n\t}\n\n\tonTouchstart(e: TouchEvent) {\n\t\tthis.play();\n\t\tthis.trigger('over', e);\n\t\tdocument.addEventListener('touchend', this.onTouchend);\n\t\tdocument.removeEventListener('mousemove', this.onMousemove);\n\t\tif (this.canvas.hasAttribute('controls')) {\n\t\t\tthis.canvas.removeEventListener('mouseover', this.onMouseover);\n\t\t\tthis.canvas.removeEventListener('mouseout', this.onMouseout);\n\t\t}\n\t}\n\n\tonLoop(time?: number) {\n\t\tthis.checkRender();\n\t\tthis.rafId = window.requestAnimationFrame(this.onLoop);\n\t}\n\n\tprivate setUniform_(\n\t\tkey: string,\n\t\tvalues: any[],\n\t\toptions: ITextureOptions = {},\n\t\ttype: UniformType = null\n\t): void {\n\t\tconst uniform: Uniform | Uniform[] = Uniforms.parseUniform(key, values, type);\n\t\tif (Array.isArray(uniform)) {\n\t\t\tif (Uniforms.isArrayOfSampler2D(uniform)) {\n\t\t\t\tuniform.forEach((x) => this.loadTexture(x.key, x.values[0], options));\n\t\t\t} else {\n\t\t\t\tuniform.forEach((x) => this.uniforms.set(x.key, x.values[0]));\n\t\t\t}\n\t\t} else if (uniform) {\n\t\t\tswitch (uniform.type) {\n\t\t\t\tcase UniformType.Sampler2D:\n\t\t\t\t\tthis.loadTexture(key, values[0], options);\n\t\t\t\t\tbreak;\n\t\t\t\tdefault:\n\t\t\t\t\tthis.uniforms.set(key, uniform);\n\t\t\t}\n\t\t}\n\t}\n\n\tprivate parseTextures_(fragmentString: string): boolean {\n\t\t// const regexp = /uniform\\s*sampler2D\\s*([\\w]*);(\\s*\\/\\/\\s*([\\w|\\:\\/\\/|\\.|\\-|\\_]*)|\\s*)/gm;\n\t\tconst regexp = /uniform\\s*sampler2D\\s*([\\w]*);(\\s*\\/\\/\\s*([\\w|\\:\\/\\/|\\.|\\-|\\_|\\?|\\&|\\=]*)|\\s*)/gm;\n\t\t// const regexp = /uniform\\s*sampler2D\\s*([\\w]*);(\\s*\\/\\/\\s*([\\w|\\://|\\.|\\-|\\_]*)|\\s*)((\\s*\\:\\s)(\\{(\\s*\\w*\\:\\s*['|\"]{0,1}\\w*['|\"]{0,1}\\s*[,]{0,1})+\\}))*/gm;\n\t\tlet matches;\n\t\twhile ((matches = regexp.exec(fragmentString)) !== null) {\n\t\t\tconst key = matches[1];\n\t\t\tconst url = matches[3];\n\t\t\tif (Texture.isTextureUrl(url)) {\n\t\t\t\tthis.textureList.push({ key, url });\n\t\t\t\t/*\n\t\t\t\tif (matches[3]) {\n\t\t\t\t\tconst ext = matches[3].split('?')[0].split('.').pop().toLowerCase();\n\t\t\t\t\tconst url = matches[3];\n\t\t\t\t\tif (url && TextureExtensions.indexOf(ext) !== -1) {\n\t\t\t\t\t\t// let options;\n\t\t\t\t\t\t// if (matches[6]) {\n\t\t\t\t\t\t// \ttry {\n\t\t\t\t\t\t// \t\toptions = new Function(`return ${matches[6]};`)();\n\t\t\t\t\t\t// \t} catch (e) {\n\t\t\t\t\t\t// \t\t// console.log('wrong texture options');\n\t\t\t\t\t\t// \t}\n\t\t\t\t\t\t// }\n\t\t\t\t\t\t// console.log(options, matches[6]);\n\t\t\t\t\t\t// this.textureList.push({ key, url, options });\n\t\t\t\t\t\tthis.textureList.push({ key, url });\n\t\t\t\t\t}\n\t\t\t\t*/\n\t\t\t} else if (!this.buffers.has(key)) {\n\t\t\t\t// create empty texture\n\t\t\t\tthis.textureList.push({ key, url: null });\n\t\t\t}\n\t\t}\n\t\tif (this.canvas.hasAttribute('data-textures')) {\n\t\t\tconst urls = this.canvas.getAttribute('data-textures').split(',');\n\t\t\turls.forEach((url: string, i: number) => {\n\t\t\t\tconst key = 'u_texture' + i;\n\t\t\t\tthis.textureList.push({ key, url });\n\t\t\t});\n\t\t}\n\t\treturn this.textureList.length > 0;\n\t}\n\n\tprivate createUniforms_(): void {\n\t\tconst gl = this.gl;\n\t\tconst fragmentString = this.fragmentString;\n\t\tconst BW = gl.drawingBufferWidth;\n\t\tconst BH = gl.drawingBufferHeight;\n\t\tconst timer = this.timer = new CanvasTimer();\n\t\tconst hasDelta = (fragmentString.match(/u_delta/g) || []).length > 1;\n\t\tconst hasTime = (fragmentString.match(/u_time/g) || []).length > 1;\n\t\tconst hasDate = (fragmentString.match(/u_date/g) || []).length > 1;\n\t\tconst hasMouse = (fragmentString.match(/u_mouse/g) || []).length > 1;\n\t\tconst hasTextures = this.parseTextures_(fragmentString);\n\t\tthis.animated = hasTime || hasDate || hasMouse;\n\t\tif (this.animated) {\n\t\t\tthis.canvas.classList.add('animated');\n\t\t} else {\n\t\t\tthis.canvas.classList.remove('animated');\n\t\t}\n\t\tthis.uniforms.create(UniformMethod.Uniform2f, UniformType.Float, 'u_resolution', [BW, BH]);\n\t\tif (hasDelta) {\n\t\t\tthis.uniforms.create(UniformMethod.Uniform1f, UniformType.Float, 'u_delta', [timer.delta / 1000.0]);\n\t\t}\n\t\tif (hasTime) {\n\t\t\tthis.uniforms.create(UniformMethod.Uniform1f, UniformType.Float, 'u_time', [timer.current / 1000.0]);\n\t\t}\n\t\tif (hasDate) {\n\t\t\tconst date = new Date();\n\t\t\tthis.uniforms.create(UniformMethod.Uniform4f, UniformType.Float, 'u_date', [date.getFullYear(), date.getMonth(), date.getDate(), date.getHours() * 3600 + date.getMinutes() * 60 + date.getSeconds() + date.getMilliseconds() * 0.001]);\n\t\t}\n\t\tif (hasMouse) {\n\t\t\tthis.uniforms.create(UniformMethod.Uniform2f, UniformType.Float, 'u_mouse', [0, 0]);\n\t\t}\n\t\tfor (const key in this.buffers.values) {\n\t\t\tconst buffer: IOBuffer = this.buffers.values[key];\n\t\t\tthis.uniforms.create(UniformMethod.Uniform1i, UniformType.Sampler2D, buffer.key, [buffer.input.index]);\n\t\t}\n\t\tif (hasTextures) {\n\t\t\tthis.textureList.filter(x => x.url).forEach(x => {\n\t\t\t\tthis.setTexture(x.key, x.url, x.options);\n\t\t\t});\n\t\t\tthis.textureList = [];\n\t\t}\n\t}\n\n\tprivate updateUniforms_(): void {\n\t\tconst gl = this.gl;\n\t\tconst BW = gl.drawingBufferWidth;\n\t\tconst BH = gl.drawingBufferHeight;\n\t\tif (!this.timer) {\n\t\t\treturn;\n\t\t}\n\t\tconst timer = this.timer.next();\n\t\tthis.uniforms.update(UniformMethod.Uniform2f, UniformType.Float, 'u_resolution', [BW, BH]);\n\t\tif (this.uniforms.has('u_delta')) {\n\t\t\tthis.uniforms.update(UniformMethod.Uniform1f, UniformType.Float, 'u_delta', [timer.delta / 1000.0]);\n\t\t}\n\t\tif (this.uniforms.has('u_time')) {\n\t\t\tthis.uniforms.update(UniformMethod.Uniform1f, UniformType.Float, 'u_time', [timer.current / 1000.0]);\n\t\t}\n\t\tif (this.uniforms.has('u_date')) {\n\t\t\tconst date = new Date();\n\t\t\tthis.uniforms.update(UniformMethod.Uniform4f, UniformType.Float, 'u_date', [date.getFullYear(), date.getMonth(), date.getDate(), date.getHours() * 3600 + date.getMinutes() * 60 + date.getSeconds() + date.getMilliseconds() * 0.001]);\n\t\t}\n\t\tif (this.uniforms.has('u_mouse')) {\n\t\t\tconst mouse = this.mouse;\n\t\t\tthis.uniforms.update(UniformMethod.Uniform2f, UniformType.Float, 'u_mouse', [mouse.x, mouse.y]);\n            /*\n            const rect = this.rect;\n            if (mouse.x >= rect.left && mouse.x <= rect.right &&\n                mouse.y >= rect.top && mouse.y <= rect.bottom) {\n                const MX = (mouse.x - rect.left) * this.devicePixelRatio;\n                const MY = (this.canvas.height - (mouse.y - rect.top) * this.devicePixelRatio);\n                this.uniforms.update(UniformMethod.Uniform2f, UniformType.Float, 'u_mouse', [MX, MY]);\n            }\n            */\n\t\t}\n\t\tfor (const key in this.buffers.values) {\n\t\t\tconst buffer: IOBuffer = this.buffers.values[key];\n\t\t\tthis.uniforms.update(UniformMethod.Uniform1i, UniformType.Sampler2D, buffer.key, [buffer.input.index]);\n\t\t}\n\t\tfor (const key in this.textures.values) {\n\t\t\tconst texture: Texture = this.textures.values[key];\n\t\t\ttexture.tryUpdate(gl);\n\t\t\tthis.uniforms.update(UniformMethod.Uniform1i, UniformType.Sampler2D, texture.key, [texture.index]);\n\t\t}\n\t}\n\n\tprivate isVisible_(): boolean {\n\t\tconst rect = this.rect;\n\t\treturn (rect.top + rect.height) > 0 && rect.top < (window.innerHeight || document.documentElement.clientHeight);\n\t}\n\n\tprivate isAnimated_(): boolean {\n\t\treturn (this.animated || this.textures.animated) && !this.timer.paused;\n\t}\n\n\tprivate isDirty_(): boolean {\n\t\treturn this.dirty || this.uniforms.dirty || this.textures.dirty;\n\t}\n\n\t// check size change at start of requestFrame\n\tprivate sizeDidChanged_(): boolean {\n\t\tconst gl = this.gl;\n\t\tconst W = Math.ceil(this.canvas.clientWidth),\n\t\t\tH = Math.ceil(this.canvas.clientHeight);\n\t\tif (this.width !== W ||\n\t\t\tthis.height !== H) {\n\t\t\tthis.width = W;\n\t\t\tthis.height = H;\n\t\t\t// Lookup the size the browser is displaying the canvas in CSS pixels\n\t\t\t// and compute a size needed to make our drawingbuffer match it in\n\t\t\t// device pixels.\n\t\t\tconst BW = Math.ceil(W * this.devicePixelRatio);\n\t\t\tconst BH = Math.ceil(H * this.devicePixelRatio);\n\t\t\tthis.canvas.width = BW;\n\t\t\tthis.canvas.height = BH;\n            /*\n            if (gl.canvas.width !== BW ||\n                gl.canvas.height !== BH) {\n                gl.canvas.width = BW;\n                gl.canvas.height = BH;\n                // Set the viewport to match\n                // gl.viewport(0, 0, BW, BH);\n            }\n            */\n\t\t\tfor (const key in this.buffers.values) {\n\t\t\t\tconst buffer: IOBuffer = this.buffers.values[key];\n\t\t\t\tbuffer.resize(gl, BW, BH);\n\t\t\t}\n\t\t\tthis.rect = this.canvas.getBoundingClientRect();\n\t\t\tthis.trigger('resize');\n\t\t\t// gl.useProgram(this.program);\n\t\t\treturn true;\n\t\t} else {\n\t\t\treturn false;\n\t\t}\n\t}\n\n\tload(\n\t\tfragmentString?: string,\n\t\tvertexString?: string\n\t): Promise<boolean> {\n\t\treturn Promise.all([\n\t\t\tContext.getIncludes(fragmentString || this.fragmentString),\n\t\t\tContext.getIncludes(vertexString || this.vertexString)\n\t\t]).then(array => {\n\t\t\tthis.fragmentString = array[0];\n\t\t\tthis.vertexString = array[1];\n\t\t\treturn this.createContext_();\n\t\t});\n\t}\n\n\tgetContext_(): WebGLRenderingContext | WebGL2RenderingContext {\n\t\tconst vertexString = this.vertexString;\n\t\tconst fragmentString = this.fragmentString;\n\t\tthis.vertexString = Context.getVertex(vertexString, fragmentString);\n\t\tthis.fragmentString = Context.getFragment(vertexString, fragmentString);\n\t\tif (Context.versionDiffers(this.gl, vertexString, fragmentString)) {\n\t\t\tthis.destroyContext_();\n\t\t\tthis.swapCanvas_();\n\t\t\tthis.uniforms = new Uniforms();\n\t\t\tthis.buffers = new Buffers();\n\t\t\tthis.textures = new Textures();\n\t\t\tthis.textureList = [];\n\t\t}\n\t\tif (!this.gl) {\n\t\t\tconst gl = Context.tryInferContext(vertexString, fragmentString, this.canvas, this.options, this.options.extensions, this.options.onError);\n\t\t\tif (!gl) {\n\t\t\t\treturn null;\n\t\t\t}\n\t\t\tthis.gl = gl;\n\t\t}\n\t\treturn this.gl;\n\t}\n\n\tcreateContext_(): boolean {\n\t\tconst gl = this.getContext_();\n\t\tif (!gl) {\n\t\t\treturn false;\n\t\t}\n\t\tlet vertexShader, fragmentShader;\n\t\ttry {\n\t\t\tvertexShader = Context.createShader(gl, this.vertexString, gl.VERTEX_SHADER);\n\t\t\tfragmentShader = Context.createShader(gl, this.fragmentString, gl.FRAGMENT_SHADER);\n\t\t\t// If Fragment shader fails load a empty one to sign the error\n\t\t\tif (!fragmentShader) {\n\t\t\t\tfragmentShader = Context.createShader(gl, ContextDefaultFragment, gl.FRAGMENT_SHADER);\n\t\t\t\tthis.valid = false;\n\t\t\t} else {\n\t\t\t\tthis.valid = true;\n\t\t\t}\n\t\t} catch (e) {\n\t\t\t// !!!\n\t\t\t// console.error(e);\n\t\t\tthis.trigger('error', e);\n\t\t\treturn false;\n\t\t}\n\t\t// Create and use program\n\t\tconst program = Context.createProgram(gl, [vertexShader, fragmentShader]); //, [0,1],['a_texcoord','a_position']);\n\t\tgl.useProgram(program);\n\t\t// Delete shaders\n\t\t// gl.detachShader(program, vertexShader);\n\t\t// gl.detachShader(program, fragmentShader);\n\t\tgl.deleteShader(vertexShader);\n\t\tgl.deleteShader(fragmentShader);\n\t\tthis.program = program;\n\t\tif (this.valid) {\n\t\t\ttry {\n\t\t\t\tthis.buffers = Buffers.getBuffers(gl, this.fragmentString, this.vertexString);\n\t\t\t} catch (e) {\n\t\t\t\t// console.error('load', e);\n\t\t\t\tthis.valid = false;\n\t\t\t\tthis.trigger('error', e);\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\tthis.vertexBuffers = Context.createVertexBuffers(gl, program);\n\t\t\tthis.createUniforms_();\n\t\t}\n\t\t// Trigger event\n\t\tthis.trigger('load', this);\n\t\treturn this.valid;\n\t}\n\n\ttest(\n\t\tfragmentString?: string,\n\t\tvertexString?: string\n\t): Promise<any> {\n\t\treturn new Promise((resolve, reject) => {\n\t\t\tconst vertex = this.vertexString;\n\t\t\tconst fragment = this.fragmentString;\n\t\t\tconst paused = this.timer.paused;\n\t\t\t// Thanks to @thespite for the help here\n\t\t\t// https://www.khronos.org/registry/webgl/extensions/EXT_disjoint_timer_query/\n\t\t\tconst extension = this.gl.getExtension('EXT_disjoint_timer_query');\n\t\t\tconst query = extension.createQueryEXT();\n\t\t\tlet wasValid = this.valid;\n\t\t\tif (fragmentString || vertexString) {\n\t\t\t\tthis.load(fragmentString, vertexString);\n\t\t\t\twasValid = this.valid;\n\t\t\t\tthis.render();\n\t\t\t}\n\t\t\tthis.timer.paused = true;\n\t\t\textension.beginQueryEXT(extension.TIME_ELAPSED_EXT, query);\n\t\t\tthis.render();\n\t\t\textension.endQueryEXT(extension.TIME_ELAPSED_EXT);\n\t\t\tconst waitForTest = () => {\n\t\t\t\tthis.render();\n\t\t\t\tconst available = extension.getQueryObjectEXT(query, extension.QUERY_RESULT_AVAILABLE_EXT);\n\t\t\t\tconst disjoint = this.gl.getParameter(extension.GPU_DISJOINT_EXT);\n\t\t\t\tif (available && !disjoint) {\n\t\t\t\t\tconst result = {\n\t\t\t\t\t\twasValid: wasValid,\n\t\t\t\t\t\tfragment: fragmentString || this.fragmentString,\n\t\t\t\t\t\tvertex: vertexString || this.vertexString,\n\t\t\t\t\t\ttimeElapsedMs: extension.getQueryObjectEXT(query, extension.QUERY_RESULT_EXT) / 1000000.0\n\t\t\t\t\t};\n\t\t\t\t\tthis.timer.paused = paused;\n\t\t\t\t\tif (fragmentString || vertexString) {\n\t\t\t\t\t\tthis.load(fragment, vertex);\n\t\t\t\t\t}\n\t\t\t\t\tresolve(result);\n\t\t\t\t} else {\n\t\t\t\t\twindow.requestAnimationFrame(waitForTest);\n\t\t\t\t}\n\t\t\t}\n\t\t\twaitForTest();\n\t\t});\n\t}\n\n\tdestroyContext_(): void {\n\t\tconst gl = this.gl;\n\t\tgl.useProgram(null);\n\t\tif (this.program) {\n\t\t\tgl.deleteProgram(this.program);\n\t\t}\n\t\tfor (const key in this.buffers.values) {\n\t\t\tconst buffer: IOBuffer = this.buffers.values[key];\n\t\t\tbuffer.destroy(gl);\n\t\t}\n\t\tfor (const key in this.textures.values) {\n\t\t\tconst texture: Texture = this.textures.values[key];\n\t\t\ttexture.destroy(gl);\n\t\t}\n\t\tthis.buffers = null;\n\t\tthis.textures = null;\n\t\tthis.uniforms = null;\n\t\tthis.program = null;\n\t\tthis.gl = null;\n\t}\n\n\tswapCanvas_(): void {\n\t\tconst canvas = this.canvas;\n\t\tconst canvas_ = canvas.cloneNode() as HTMLCanvasElement;\n\t\tcanvas.parentNode.replaceChild(canvas_, canvas);\n\t\tthis.canvas = canvas_;\n\t\tthis.addCanvasListeners_();\n\t}\n\n\tdestroy(): void {\n\t\tthis.removeListeners_();\n\t\tthis.destroyContext_();\n\t\tthis.animated = false;\n\t\tthis.valid = false;\n\t\tCanvas.items.splice(Canvas.items.indexOf(this), 1);\n\t}\n\n\tloadTexture(\n\t\tkey: string,\n\t\turlElementOrData: string | HTMLCanvasElement | HTMLImageElement | HTMLVideoElement | Element | ITextureData,\n\t\toptions: ITextureOptions = {}\n\t) {\n\t\tif (this.valid) {\n\t\t\t// Logger.log('GlslCanvas.loadTexture', key, urlElementOrData);\n\t\t\tthis.textures.createOrUpdate(this.gl, key, urlElementOrData, this.buffers.count, options, this.options.workpath).then(\n\t\t\t\ttexture => {\n\t\t\t\t\tconst index = texture.index;\n\t\t\t\t\tconst uniform = this.uniforms.createTexture(key, index);\n\t\t\t\t\tuniform.texture = texture;\n\t\t\t\t\tconst keyResolution = key.indexOf('[') !== -1 ? key.replace('[', 'Resolution[') : key + 'Resolution';\n\t\t\t\t\t// const uniformResolution = ;\n\t\t\t\t\tthis.uniforms.create(UniformMethod.Uniform2f, UniformType.Float, keyResolution, [texture.width, texture.height]);\n\t\t\t\t\t// Logger.log('loadTexture', key, url, index, texture.width, texture.height);\n\t\t\t\t\treturn texture;\n\t\t\t\t},\n\t\t\t\terror => {\n\t\t\t\t\tconst message = Array.isArray(error.path) ? error.path.map((x: any) => x.error ? x.error.message : '').join(', ') : error.message;\n\t\t\t\t\tLogger.log('GlslCanvas.loadTexture.error', key, urlElementOrData, message);\n\t\t\t\t\tthis.trigger('textureError', { key, urlElementOrData, message });\n\t\t\t\t});\n\t\t} else {\n\t\t\tthis.textureList.push({ key, url: urlElementOrData, options });\n\t\t}\n\t}\n\n\tsetTexture(\n\t\tkey: string,\n\t\turlElementOrData: string | HTMLCanvasElement | HTMLImageElement | HTMLVideoElement | Element | ITextureData,\n\t\toptions: ITextureOptions = {}\n\t): void {\n\t\treturn this.setUniform_(key, [urlElementOrData], options);\n\t}\n\n\tsetUniform(key: string, ...values: any[]): void {\n\t\treturn this.setUniform_(key, values);\n\t}\n\n\tsetUniformOfInt(key: string, values: any[]): void {\n\t\treturn this.setUniform_(key, values, null, UniformType.Int);\n\t}\n\n\tsetUniforms(values: IUniformOption): void {\n\t\tfor (const key in values) {\n\t\t\tthis.setUniform(key, values[key]);\n\t\t}\n\t}\n\n\tpause(): void {\n\t\tif (this.valid) {\n\t\t\tthis.timer.pause();\n\t\t\tthis.canvas.classList.add('paused');\n\t\t\tthis.trigger('pause');\n\t\t}\n\t}\n\n\tplay(): void {\n\t\tif (this.valid) {\n\t\t\tthis.timer.play();\n\t\t\tthis.canvas.classList.remove('paused');\n\t\t\tthis.trigger('play');\n\t\t}\n\t}\n\n\ttoggle(): void {\n\t\tif (this.valid) {\n\t\t\tif (this.timer.paused) {\n\t\t\t\tthis.play();\n\t\t\t} else {\n\t\t\t\tthis.pause();\n\t\t\t}\n\t\t}\n\t}\n\n\tcheckRender(): void {\n\t\tif (this.isVisible_() && (this.sizeDidChanged_() || this.isAnimated_() || this.isDirty_())) {\n\t\t\tthis.render();\n\t\t\tthis.canvas.classList.add('playing');\n\t\t} else {\n\t\t\tthis.canvas.classList.remove('playing');\n\t\t}\n\t}\n\n\trender(): void {\n\t\tconst gl = this.gl;\n\t\tif (!gl) {\n\t\t\treturn;\n\t\t}\n\t\tconst BW = gl.drawingBufferWidth;\n\t\tconst BH = gl.drawingBufferHeight;\n\t\tthis.updateUniforms_();\n\t\tfor (const key in this.buffers.values) {\n\t\t\tconst buffer: IOBuffer = this.buffers.values[key];\n\t\t\tthis.uniforms.apply(gl, buffer.program);\n\t\t\tbuffer.render(gl, BW, BH);\n\t\t}\n\t\tgl.useProgram(this.program);\n\t\tthis.uniforms.apply(gl, this.program);\n\t\tgl.viewport(0, 0, BW, BH);\n\t\tgl.bindFramebuffer(gl.FRAMEBUFFER, null);\n\t\tgl.drawArrays(gl.TRIANGLES, 0, 6);\n\t\tthis.uniforms.clean();\n\t\tthis.textures.clean();\n\t\tthis.dirty = false;\n\t\tthis.trigger('render', this);\n\t}\n\n}\n\nif (document) {\n\tdocument.addEventListener(\"DOMContentLoaded\", () => {\n\t\tCanvas.loadAll();\n\t});\n}\n"]}