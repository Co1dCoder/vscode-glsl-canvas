!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).GlslCanvas=e()}}(function(){return function e(t,n,r){function o(a,s){if(!n[a]){if(!t[a]){var l="function"==typeof require&&require;if(!s&&l)return l(a,!0);if(i)return i(a,!0);var u=new Error("Cannot find module '"+a+"'");throw u.code="MODULE_NOT_FOUND",u}var c=n[a]={exports:{}};t[a][0].call(c.exports,function(e){var n=t[a][1][e];return o(n||e)},c,c.exports,e,t,n,r)}return n[a].exports}for(var i="function"==typeof require&&require,a=0;a<r.length;a++)o(r[a]);return o}({1:[function(e,t,n){t.exports={default:e("core-js/library/fn/array/from"),__esModule:!0}},{"core-js/library/fn/array/from":12}],2:[function(e,t,n){t.exports={default:e("core-js/library/fn/get-iterator"),__esModule:!0}},{"core-js/library/fn/get-iterator":13}],3:[function(e,t,n){t.exports={default:e("core-js/library/fn/object/assign"),__esModule:!0}},{"core-js/library/fn/object/assign":14}],4:[function(e,t,n){t.exports={default:e("core-js/library/fn/object/define-property"),__esModule:!0}},{"core-js/library/fn/object/define-property":15}],5:[function(e,t,n){t.exports={default:e("core-js/library/fn/object/keys"),__esModule:!0}},{"core-js/library/fn/object/keys":16}],6:[function(e,t,n){t.exports={default:e("core-js/library/fn/promise"),__esModule:!0}},{"core-js/library/fn/promise":17}],7:[function(e,t,n){t.exports={default:e("core-js/library/fn/set"),__esModule:!0}},{"core-js/library/fn/set":18}],8:[function(e,t,n){"use strict";n.default=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},n.__esModule=!0},{}],9:[function(e,t,n){"use strict";var r=e("babel-runtime/core-js/object/define-property").default;n.default=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),r(e,o.key,o)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),n.__esModule=!0},{"babel-runtime/core-js/object/define-property":4}],10:[function(e,t,n){"use strict";n.default=function(e){return e&&e.__esModule?e:{default:e}},n.__esModule=!0},{}],11:[function(e,t,n){"use strict";var r=e("babel-runtime/core-js/array/from").default;n.default=function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return r(e)},n.__esModule=!0},{"babel-runtime/core-js/array/from":1}],12:[function(e,t,n){e("../../modules/es6.string.iterator"),e("../../modules/es6.array.from"),t.exports=e("../../modules/$.core").Array.from},{"../../modules/$.core":27,"../../modules/es6.array.from":74,"../../modules/es6.string.iterator":81}],13:[function(e,t,n){e("../modules/web.dom.iterable"),e("../modules/es6.string.iterator"),t.exports=e("../modules/core.get-iterator")},{"../modules/core.get-iterator":73,"../modules/es6.string.iterator":81,"../modules/web.dom.iterable":83}],14:[function(e,t,n){e("../../modules/es6.object.assign"),t.exports=e("../../modules/$.core").Object.assign},{"../../modules/$.core":27,"../../modules/es6.object.assign":76}],15:[function(e,t,n){var r=e("../../modules/$");t.exports=function(e,t,n){return r.setDesc(e,t,n)}},{"../../modules/$":49}],16:[function(e,t,n){e("../../modules/es6.object.keys"),t.exports=e("../../modules/$.core").Object.keys},{"../../modules/$.core":27,"../../modules/es6.object.keys":77}],17:[function(e,t,n){e("../modules/es6.object.to-string"),e("../modules/es6.string.iterator"),e("../modules/web.dom.iterable"),e("../modules/es6.promise"),t.exports=e("../modules/$.core").Promise},{"../modules/$.core":27,"../modules/es6.object.to-string":78,"../modules/es6.promise":79,"../modules/es6.string.iterator":81,"../modules/web.dom.iterable":83}],18:[function(e,t,n){e("../modules/es6.object.to-string"),e("../modules/es6.string.iterator"),e("../modules/web.dom.iterable"),e("../modules/es6.set"),e("../modules/es7.set.to-json"),t.exports=e("../modules/$.core").Set},{"../modules/$.core":27,"../modules/es6.object.to-string":78,"../modules/es6.set":80,"../modules/es6.string.iterator":81,"../modules/es7.set.to-json":82,"../modules/web.dom.iterable":83}],19:[function(e,t,n){t.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},{}],20:[function(e,t,n){t.exports=function(){}},{}],21:[function(e,t,n){var r=e("./$.is-object");t.exports=function(e){if(!r(e))throw TypeError(e+" is not an object!");return e}},{"./$.is-object":42}],22:[function(e,t,n){var r=e("./$.cof"),o=e("./$.wks")("toStringTag"),i="Arguments"==r(function(){return arguments}());t.exports=function(e){var t,n,a;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=(t=Object(e))[o])?n:i?r(t):"Object"==(a=r(t))&&"function"==typeof t.callee?"Arguments":a}},{"./$.cof":23,"./$.wks":71}],23:[function(e,t,n){var r={}.toString;t.exports=function(e){return r.call(e).slice(8,-1)}},{}],24:[function(e,t,n){"use strict";var r=e("./$"),o=e("./$.hide"),i=e("./$.redefine-all"),a=e("./$.ctx"),s=e("./$.strict-new"),l=e("./$.defined"),u=e("./$.for-of"),c=e("./$.iter-define"),d=e("./$.iter-step"),f=e("./$.uid")("id"),h=e("./$.has"),p=e("./$.is-object"),_=e("./$.set-species"),m=e("./$.descriptors"),g=Object.isExtensible||p,b=m?"_s":"size",v=0,y=function(e,t){if(!p(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!h(e,f)){if(!g(e))return"F";if(!t)return"E";o(e,f,++v)}return"O"+e[f]},x=function(e,t){var n,r=y(t);if("F"!==r)return e._i[r];for(n=e._f;n;n=n.n)if(n.k==t)return n};t.exports={getConstructor:function(e,t,n,o){var c=e(function(e,i){s(e,c,t),e._i=r.create(null),e._f=void 0,e._l=void 0,e[b]=0,void 0!=i&&u(i,n,e[o],e)});return i(c.prototype,{clear:function(){for(var e=this,t=e._i,n=e._f;n;n=n.n)n.r=!0,n.p&&(n.p=n.p.n=void 0),delete t[n.i];e._f=e._l=void 0,e[b]=0},delete:function(e){var t=this,n=x(t,e);if(n){var r=n.n,o=n.p;delete t._i[n.i],n.r=!0,o&&(o.n=r),r&&(r.p=o),t._f==n&&(t._f=r),t._l==n&&(t._l=o),t[b]--}return!!n},forEach:function(e){for(var t,n=a(e,arguments.length>1?arguments[1]:void 0,3);t=t?t.n:this._f;)for(n(t.v,t.k,this);t&&t.r;)t=t.p},has:function(e){return!!x(this,e)}}),m&&r.setDesc(c.prototype,"size",{get:function(){return l(this[b])}}),c},def:function(e,t,n){var r,o,i=x(e,t);return i?i.v=n:(e._l=i={i:o=y(t,!0),k:t,v:n,p:r=e._l,n:void 0,r:!1},e._f||(e._f=i),r&&(r.n=i),e[b]++,"F"!==o&&(e._i[o]=i)),e},getEntry:x,setStrong:function(e,t,n){c(e,t,function(e,t){this._t=e,this._k=t,this._l=void 0},function(){for(var e=this,t=e._k,n=e._l;n&&n.r;)n=n.p;return e._t&&(e._l=n=n?n.n:e._t._f)?d(0,"keys"==t?n.k:"values"==t?n.v:[n.k,n.v]):(e._t=void 0,d(1))},n?"entries":"values",!n,!0),_(t)}}},{"./$":49,"./$.ctx":28,"./$.defined":29,"./$.descriptors":30,"./$.for-of":34,"./$.has":36,"./$.hide":37,"./$.is-object":42,"./$.iter-define":45,"./$.iter-step":47,"./$.redefine-all":55,"./$.set-species":59,"./$.strict-new":63,"./$.uid":70}],25:[function(e,t,n){var r=e("./$.for-of"),o=e("./$.classof");t.exports=function(e){return function(){if(o(this)!=e)throw TypeError(e+"#toJSON isn't generic");var t=[];return r(this,!1,t.push,t),t}}},{"./$.classof":22,"./$.for-of":34}],26:[function(e,t,n){"use strict";var r=e("./$"),o=e("./$.global"),i=e("./$.export"),a=e("./$.fails"),s=e("./$.hide"),l=e("./$.redefine-all"),u=e("./$.for-of"),c=e("./$.strict-new"),d=e("./$.is-object"),f=e("./$.set-to-string-tag"),h=e("./$.descriptors");t.exports=function(e,t,n,p,_,m){var g=o[e],b=g,v=_?"set":"add",y=b&&b.prototype,x={};return h&&"function"==typeof b&&(m||y.forEach&&!a(function(){(new b).entries().next()}))?(b=t(function(t,n){c(t,b,e),t._c=new g,void 0!=n&&u(n,_,t[v],t)}),r.each.call("add,clear,delete,forEach,get,has,set,keys,values,entries".split(","),function(e){var t="add"==e||"set"==e;e in y&&(!m||"clear"!=e)&&s(b.prototype,e,function(n,r){if(!t&&m&&!d(n))return"get"==e&&void 0;var o=this._c[e](0===n?0:n,r);return t?this:o})}),"size"in y&&r.setDesc(b.prototype,"size",{get:function(){return this._c.size}})):(b=p.getConstructor(t,e,_,v),l(b.prototype,n)),f(b,e),x[e]=b,i(i.G+i.W+i.F,x),m||p.setStrong(b,e,_),b}},{"./$":49,"./$.descriptors":30,"./$.export":32,"./$.fails":33,"./$.for-of":34,"./$.global":35,"./$.hide":37,"./$.is-object":42,"./$.redefine-all":55,"./$.set-to-string-tag":60,"./$.strict-new":63}],27:[function(e,t,n){var r=t.exports={version:"1.2.6"};"number"==typeof __e&&(__e=r)},{}],28:[function(e,t,n){var r=e("./$.a-function");t.exports=function(e,t,n){if(r(e),void 0===t)return e;switch(n){case 1:return function(n){return e.call(t,n)};case 2:return function(n,r){return e.call(t,n,r)};case 3:return function(n,r,o){return e.call(t,n,r,o)}}return function(){return e.apply(t,arguments)}}},{"./$.a-function":19}],29:[function(e,t,n){t.exports=function(e){if(void 0==e)throw TypeError("Can't call method on  "+e);return e}},{}],30:[function(e,t,n){t.exports=!e("./$.fails")(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},{"./$.fails":33}],31:[function(e,t,n){var r=e("./$.is-object"),o=e("./$.global").document,i=r(o)&&r(o.createElement);t.exports=function(e){return i?o.createElement(e):{}}},{"./$.global":35,"./$.is-object":42}],32:[function(e,t,n){var r=e("./$.global"),o=e("./$.core"),i=e("./$.ctx"),a="prototype",s=function(e,t,n){var l,u,c,d=e&s.F,f=e&s.G,h=e&s.S,p=e&s.P,_=e&s.B,m=e&s.W,g=f?o:o[t]||(o[t]={}),b=f?r:h?r[t]:(r[t]||{})[a];for(l in f&&(n=t),n)(u=!d&&b&&l in b)&&l in g||(c=u?b[l]:n[l],g[l]=f&&"function"!=typeof b[l]?n[l]:_&&u?i(c,r):m&&b[l]==c?function(e){var t=function(t){return this instanceof e?new e(t):e(t)};return t[a]=e[a],t}(c):p&&"function"==typeof c?i(Function.call,c):c,p&&((g[a]||(g[a]={}))[l]=c))};s.F=1,s.G=2,s.S=4,s.P=8,s.B=16,s.W=32,t.exports=s},{"./$.core":27,"./$.ctx":28,"./$.global":35}],33:[function(e,t,n){t.exports=function(e){try{return!!e()}catch(e){return!0}}},{}],34:[function(e,t,n){var r=e("./$.ctx"),o=e("./$.iter-call"),i=e("./$.is-array-iter"),a=e("./$.an-object"),s=e("./$.to-length"),l=e("./core.get-iterator-method");t.exports=function(e,t,n,u){var c,d,f,h=l(e),p=r(n,u,t?2:1),_=0;if("function"!=typeof h)throw TypeError(e+" is not iterable!");if(i(h))for(c=s(e.length);c>_;_++)t?p(a(d=e[_])[0],d[1]):p(e[_]);else for(f=h.call(e);!(d=f.next()).done;)o(f,p,d.value,t)}},{"./$.an-object":21,"./$.ctx":28,"./$.is-array-iter":41,"./$.iter-call":43,"./$.to-length":68,"./core.get-iterator-method":72}],35:[function(e,t,n){var r=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=r)},{}],36:[function(e,t,n){var r={}.hasOwnProperty;t.exports=function(e,t){return r.call(e,t)}},{}],37:[function(e,t,n){var r=e("./$"),o=e("./$.property-desc");t.exports=e("./$.descriptors")?function(e,t,n){return r.setDesc(e,t,o(1,n))}:function(e,t,n){return e[t]=n,e}},{"./$":49,"./$.descriptors":30,"./$.property-desc":54}],38:[function(e,t,n){t.exports=e("./$.global").document&&document.documentElement},{"./$.global":35}],39:[function(e,t,n){t.exports=function(e,t,n){var r=void 0===n;switch(t.length){case 0:return r?e():e.call(n);case 1:return r?e(t[0]):e.call(n,t[0]);case 2:return r?e(t[0],t[1]):e.call(n,t[0],t[1]);case 3:return r?e(t[0],t[1],t[2]):e.call(n,t[0],t[1],t[2]);case 4:return r?e(t[0],t[1],t[2],t[3]):e.call(n,t[0],t[1],t[2],t[3])}return e.apply(n,t)}},{}],40:[function(e,t,n){var r=e("./$.cof");t.exports=Object("z").propertyIsEnumerable(0)?Object:function(e){return"String"==r(e)?e.split(""):Object(e)}},{"./$.cof":23}],41:[function(e,t,n){var r=e("./$.iterators"),o=e("./$.wks")("iterator"),i=Array.prototype;t.exports=function(e){return void 0!==e&&(r.Array===e||i[o]===e)}},{"./$.iterators":48,"./$.wks":71}],42:[function(e,t,n){t.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},{}],43:[function(e,t,n){var r=e("./$.an-object");t.exports=function(e,t,n,o){try{return o?t(r(n)[0],n[1]):t(n)}catch(t){var i=e.return;throw void 0!==i&&r(i.call(e)),t}}},{"./$.an-object":21}],44:[function(e,t,n){"use strict";var r=e("./$"),o=e("./$.property-desc"),i=e("./$.set-to-string-tag"),a={};e("./$.hide")(a,e("./$.wks")("iterator"),function(){return this}),t.exports=function(e,t,n){e.prototype=r.create(a,{next:o(1,n)}),i(e,t+" Iterator")}},{"./$":49,"./$.hide":37,"./$.property-desc":54,"./$.set-to-string-tag":60,"./$.wks":71}],45:[function(e,t,n){"use strict";var r=e("./$.library"),o=e("./$.export"),i=e("./$.redefine"),a=e("./$.hide"),s=e("./$.has"),l=e("./$.iterators"),u=e("./$.iter-create"),c=e("./$.set-to-string-tag"),d=e("./$").getProto,f=e("./$.wks")("iterator"),h=!([].keys&&"next"in[].keys()),p="@@iterator",_="values",m=function(){return this};t.exports=function(e,t,n,g,b,v,y){u(n,t,g);var x,w,E=function(e){if(!h&&e in S)return S[e];switch(e){case"keys":case _:return function(){return new n(this,e)}}return function(){return new n(this,e)}},A=t+" Iterator",T=b==_,$=!1,S=e.prototype,C=S[f]||S[p]||b&&S[b],k=C||E(b);if(C){var j=d(k.call(new e));c(j,A,!0),!r&&s(S,p)&&a(j,f,m),T&&C.name!==_&&($=!0,k=function(){return C.call(this)})}if(r&&!y||!h&&!$&&S[f]||a(S,f,k),l[t]=k,l[A]=m,b)if(x={values:T?k:E(_),keys:v?k:E("keys"),entries:T?E("entries"):k},y)for(w in x)w in S||i(S,w,x[w]);else o(o.P+o.F*(h||$),t,x);return x}},{"./$":49,"./$.export":32,"./$.has":36,"./$.hide":37,"./$.iter-create":44,"./$.iterators":48,"./$.library":50,"./$.redefine":56,"./$.set-to-string-tag":60,"./$.wks":71}],46:[function(e,t,n){var r=e("./$.wks")("iterator"),o=!1;try{var i=[7][r]();i.return=function(){o=!0},Array.from(i,function(){throw 2})}catch(e){}t.exports=function(e,t){if(!t&&!o)return!1;var n=!1;try{var i=[7],a=i[r]();a.next=function(){return{done:n=!0}},i[r]=function(){return a},e(i)}catch(e){}return n}},{"./$.wks":71}],47:[function(e,t,n){t.exports=function(e,t){return{value:t,done:!!e}}},{}],48:[function(e,t,n){t.exports={}},{}],49:[function(e,t,n){var r=Object;t.exports={create:r.create,getProto:r.getPrototypeOf,isEnum:{}.propertyIsEnumerable,getDesc:r.getOwnPropertyDescriptor,setDesc:r.defineProperty,setDescs:r.defineProperties,getKeys:r.keys,getNames:r.getOwnPropertyNames,getSymbols:r.getOwnPropertySymbols,each:[].forEach}},{}],50:[function(e,t,n){t.exports=!0},{}],51:[function(e,t,n){var r,o,i,a=e("./$.global"),s=e("./$.task").set,l=a.MutationObserver||a.WebKitMutationObserver,u=a.process,c=a.Promise,d="process"==e("./$.cof")(u),f=function(){var e,t,n;for(d&&(e=u.domain)&&(u.domain=null,e.exit());r;)t=r.domain,n=r.fn,t&&t.enter(),n(),t&&t.exit(),r=r.next;o=void 0,e&&e.enter()};if(d)i=function(){u.nextTick(f)};else if(l){var h=1,p=document.createTextNode("");new l(f).observe(p,{characterData:!0}),i=function(){p.data=h=-h}}else i=c&&c.resolve?function(){c.resolve().then(f)}:function(){s.call(a,f)};t.exports=function(e){var t={fn:e,next:void 0,domain:d&&u.domain};o&&(o.next=t),r||(r=t,i()),o=t}},{"./$.cof":23,"./$.global":35,"./$.task":65}],52:[function(e,t,n){var r=e("./$"),o=e("./$.to-object"),i=e("./$.iobject");t.exports=e("./$.fails")(function(){var e=Object.assign,t={},n={},r=Symbol(),o="abcdefghijklmnopqrst";return t[r]=7,o.split("").forEach(function(e){n[e]=e}),7!=e({},t)[r]||Object.keys(e({},n)).join("")!=o})?function(e,t){for(var n=o(e),a=arguments,s=a.length,l=1,u=r.getKeys,c=r.getSymbols,d=r.isEnum;s>l;)for(var f,h=i(a[l++]),p=c?u(h).concat(c(h)):u(h),_=p.length,m=0;_>m;)d.call(h,f=p[m++])&&(n[f]=h[f]);return n}:Object.assign},{"./$":49,"./$.fails":33,"./$.iobject":40,"./$.to-object":69}],53:[function(e,t,n){var r=e("./$.export"),o=e("./$.core"),i=e("./$.fails");t.exports=function(e,t){var n=(o.Object||{})[e]||Object[e],a={};a[e]=t(n),r(r.S+r.F*i(function(){n(1)}),"Object",a)}},{"./$.core":27,"./$.export":32,"./$.fails":33}],54:[function(e,t,n){t.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},{}],55:[function(e,t,n){var r=e("./$.redefine");t.exports=function(e,t){for(var n in t)r(e,n,t[n]);return e}},{"./$.redefine":56}],56:[function(e,t,n){t.exports=e("./$.hide")},{"./$.hide":37}],57:[function(e,t,n){t.exports=Object.is||function(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}},{}],58:[function(e,t,n){var r=e("./$").getDesc,o=e("./$.is-object"),i=e("./$.an-object"),a=function(e,t){if(i(e),!o(t)&&null!==t)throw TypeError(t+": can't set as prototype!")};t.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(t,n,o){try{(o=e("./$.ctx")(Function.call,r(Object.prototype,"__proto__").set,2))(t,[]),n=!(t instanceof Array)}catch(e){n=!0}return function(e,t){return a(e,t),n?e.__proto__=t:o(e,t),e}}({},!1):void 0),check:a}},{"./$":49,"./$.an-object":21,"./$.ctx":28,"./$.is-object":42}],59:[function(e,t,n){"use strict";var r=e("./$.core"),o=e("./$"),i=e("./$.descriptors"),a=e("./$.wks")("species");t.exports=function(e){var t=r[e];i&&t&&!t[a]&&o.setDesc(t,a,{configurable:!0,get:function(){return this}})}},{"./$":49,"./$.core":27,"./$.descriptors":30,"./$.wks":71}],60:[function(e,t,n){var r=e("./$").setDesc,o=e("./$.has"),i=e("./$.wks")("toStringTag");t.exports=function(e,t,n){e&&!o(e=n?e:e.prototype,i)&&r(e,i,{configurable:!0,value:t})}},{"./$":49,"./$.has":36,"./$.wks":71}],61:[function(e,t,n){var r=e("./$.global"),o="__core-js_shared__",i=r[o]||(r[o]={});t.exports=function(e){return i[e]||(i[e]={})}},{"./$.global":35}],62:[function(e,t,n){var r=e("./$.an-object"),o=e("./$.a-function"),i=e("./$.wks")("species");t.exports=function(e,t){var n,a=r(e).constructor;return void 0===a||void 0==(n=r(a)[i])?t:o(n)}},{"./$.a-function":19,"./$.an-object":21,"./$.wks":71}],63:[function(e,t,n){t.exports=function(e,t,n){if(!(e instanceof t))throw TypeError(n+": use the 'new' operator!");return e}},{}],64:[function(e,t,n){var r=e("./$.to-integer"),o=e("./$.defined");t.exports=function(e){return function(t,n){var i,a,s=String(o(t)),l=r(n),u=s.length;return l<0||l>=u?e?"":void 0:(i=s.charCodeAt(l))<55296||i>56319||l+1===u||(a=s.charCodeAt(l+1))<56320||a>57343?e?s.charAt(l):i:e?s.slice(l,l+2):a-56320+(i-55296<<10)+65536}}},{"./$.defined":29,"./$.to-integer":66}],65:[function(e,t,n){var r,o,i,a=e("./$.ctx"),s=e("./$.invoke"),l=e("./$.html"),u=e("./$.dom-create"),c=e("./$.global"),d=c.process,f=c.setImmediate,h=c.clearImmediate,p=c.MessageChannel,_=0,m={},g="onreadystatechange",b=function(){var e=+this;if(m.hasOwnProperty(e)){var t=m[e];delete m[e],t()}},v=function(e){b.call(e.data)};f&&h||(f=function(e){for(var t=[],n=1;arguments.length>n;)t.push(arguments[n++]);return m[++_]=function(){s("function"==typeof e?e:Function(e),t)},r(_),_},h=function(e){delete m[e]},"process"==e("./$.cof")(d)?r=function(e){d.nextTick(a(b,e,1))}:p?(i=(o=new p).port2,o.port1.onmessage=v,r=a(i.postMessage,i,1)):c.addEventListener&&"function"==typeof postMessage&&!c.importScripts?(r=function(e){c.postMessage(e+"","*")},c.addEventListener("message",v,!1)):r=g in u("script")?function(e){l.appendChild(u("script"))[g]=function(){l.removeChild(this),b.call(e)}}:function(e){setTimeout(a(b,e,1),0)}),t.exports={set:f,clear:h}},{"./$.cof":23,"./$.ctx":28,"./$.dom-create":31,"./$.global":35,"./$.html":38,"./$.invoke":39}],66:[function(e,t,n){var r=Math.ceil,o=Math.floor;t.exports=function(e){return isNaN(e=+e)?0:(e>0?o:r)(e)}},{}],67:[function(e,t,n){var r=e("./$.iobject"),o=e("./$.defined");t.exports=function(e){return r(o(e))}},{"./$.defined":29,"./$.iobject":40}],68:[function(e,t,n){var r=e("./$.to-integer"),o=Math.min;t.exports=function(e){return e>0?o(r(e),9007199254740991):0}},{"./$.to-integer":66}],69:[function(e,t,n){var r=e("./$.defined");t.exports=function(e){return Object(r(e))}},{"./$.defined":29}],70:[function(e,t,n){var r=0,o=Math.random();t.exports=function(e){return"Symbol(".concat(void 0===e?"":e,")_",(++r+o).toString(36))}},{}],71:[function(e,t,n){var r=e("./$.shared")("wks"),o=e("./$.uid"),i=e("./$.global").Symbol;t.exports=function(e){return r[e]||(r[e]=i&&i[e]||(i||o)("Symbol."+e))}},{"./$.global":35,"./$.shared":61,"./$.uid":70}],72:[function(e,t,n){var r=e("./$.classof"),o=e("./$.wks")("iterator"),i=e("./$.iterators");t.exports=e("./$.core").getIteratorMethod=function(e){if(void 0!=e)return e[o]||e["@@iterator"]||i[r(e)]}},{"./$.classof":22,"./$.core":27,"./$.iterators":48,"./$.wks":71}],73:[function(e,t,n){var r=e("./$.an-object"),o=e("./core.get-iterator-method");t.exports=e("./$.core").getIterator=function(e){var t=o(e);if("function"!=typeof t)throw TypeError(e+" is not iterable!");return r(t.call(e))}},{"./$.an-object":21,"./$.core":27,"./core.get-iterator-method":72}],74:[function(e,t,n){"use strict";var r=e("./$.ctx"),o=e("./$.export"),i=e("./$.to-object"),a=e("./$.iter-call"),s=e("./$.is-array-iter"),l=e("./$.to-length"),u=e("./core.get-iterator-method");o(o.S+o.F*!e("./$.iter-detect")(function(e){Array.from(e)}),"Array",{from:function(e){var t,n,o,c,d=i(e),f="function"==typeof this?this:Array,h=arguments,p=h.length,_=p>1?h[1]:void 0,m=void 0!==_,g=0,b=u(d);if(m&&(_=r(_,p>2?h[2]:void 0,2)),void 0==b||f==Array&&s(b))for(n=new f(t=l(d.length));t>g;g++)n[g]=m?_(d[g],g):d[g];else for(c=b.call(d),n=new f;!(o=c.next()).done;g++)n[g]=m?a(c,_,[o.value,g],!0):o.value;return n.length=g,n}})},{"./$.ctx":28,"./$.export":32,"./$.is-array-iter":41,"./$.iter-call":43,"./$.iter-detect":46,"./$.to-length":68,"./$.to-object":69,"./core.get-iterator-method":72}],75:[function(e,t,n){"use strict";var r=e("./$.add-to-unscopables"),o=e("./$.iter-step"),i=e("./$.iterators"),a=e("./$.to-iobject");t.exports=e("./$.iter-define")(Array,"Array",function(e,t){this._t=a(e),this._i=0,this._k=t},function(){var e=this._t,t=this._k,n=this._i++;return!e||n>=e.length?(this._t=void 0,o(1)):o(0,"keys"==t?n:"values"==t?e[n]:[n,e[n]])},"values"),i.Arguments=i.Array,r("keys"),r("values"),r("entries")},{"./$.add-to-unscopables":20,"./$.iter-define":45,"./$.iter-step":47,"./$.iterators":48,"./$.to-iobject":67}],76:[function(e,t,n){var r=e("./$.export");r(r.S+r.F,"Object",{assign:e("./$.object-assign")})},{"./$.export":32,"./$.object-assign":52}],77:[function(e,t,n){var r=e("./$.to-object");e("./$.object-sap")("keys",function(e){return function(t){return e(r(t))}})},{"./$.object-sap":53,"./$.to-object":69}],78:[function(e,t,n){},{}],79:[function(e,t,n){"use strict";var r,o=e("./$"),i=e("./$.library"),a=e("./$.global"),s=e("./$.ctx"),l=e("./$.classof"),u=e("./$.export"),c=e("./$.is-object"),d=e("./$.an-object"),f=e("./$.a-function"),h=e("./$.strict-new"),p=e("./$.for-of"),_=e("./$.set-proto").set,m=e("./$.same-value"),g=e("./$.wks")("species"),b=e("./$.species-constructor"),v=e("./$.microtask"),y="Promise",x=a.process,w="process"==l(x),E=a[y],A=function(){},T=function(e){var t,n=new E(A);return e&&(n.constructor=function(e){e(A,A)}),(t=E.resolve(n)).catch(A),t===n},$=function(){var t=!1;function n(e){var t=new E(e);return _(t,n.prototype),t}try{if(t=E&&E.resolve&&T(),_(n,E),n.prototype=o.create(E.prototype,{constructor:{value:n}}),n.resolve(5).then(function(){})instanceof n||(t=!1),t&&e("./$.descriptors")){var r=!1;E.resolve(o.setDesc({},"then",{get:function(){r=!0}})),t=r}}catch(e){t=!1}return t}(),S=function(e){var t=d(e)[g];return void 0!=t?t:e},C=function(e){var t;return!(!c(e)||"function"!=typeof(t=e.then))&&t},k=function(e){var t,n;this.promise=new e(function(e,r){if(void 0!==t||void 0!==n)throw TypeError("Bad Promise constructor");t=e,n=r}),this.resolve=f(t),this.reject=f(n)},j=function(e){try{e()}catch(e){return{error:e}}},R=function(e,t){if(!e.n){e.n=!0;var n=e.c;v(function(){for(var r=e.v,o=1==e.s,i=0,s=function(t){var n,i,a=o?t.ok:t.fail,s=t.resolve,l=t.reject;try{a?(o||(e.h=!0),(n=!0===a?r:a(r))===t.promise?l(TypeError("Promise-chain cycle")):(i=C(n))?i.call(n,s,l):s(n)):l(r)}catch(e){l(e)}};n.length>i;)s(n[i++]);n.length=0,e.n=!1,t&&setTimeout(function(){var t,n,o=e.p;O(o)&&(w?x.emit("unhandledRejection",r,o):(t=a.onunhandledrejection)?t({promise:o,reason:r}):(n=a.console)&&n.error&&n.error("Unhandled promise rejection",r)),e.a=void 0},1)})}},O=function(e){var t,n=e._d,r=n.a||n.c,o=0;if(n.h)return!1;for(;r.length>o;)if((t=r[o++]).fail||!O(t.promise))return!1;return!0},M=function(e){var t=this;t.d||(t.d=!0,(t=t.r||t).v=e,t.s=2,t.a=t.c.slice(),R(t,!0))},L=function(e){var t,n=this;if(!n.d){n.d=!0,n=n.r||n;try{if(n.p===e)throw TypeError("Promise can't be resolved itself");(t=C(e))?v(function(){var r={r:n,d:!1};try{t.call(e,s(L,r,1),s(M,r,1))}catch(e){M.call(r,e)}}):(n.v=e,n.s=1,R(n,!1))}catch(e){M.call({r:n,d:!1},e)}}};$||(E=function(e){f(e);var t=this._d={p:h(this,E,y),c:[],a:void 0,s:0,d:!1,v:void 0,h:!1,n:!1};try{e(s(L,t,1),s(M,t,1))}catch(e){M.call(t,e)}},e("./$.redefine-all")(E.prototype,{then:function(e,t){var n=new k(b(this,E)),r=n.promise,o=this._d;return n.ok="function"!=typeof e||e,n.fail="function"==typeof t&&t,o.c.push(n),o.a&&o.a.push(n),o.s&&R(o,!1),r},catch:function(e){return this.then(void 0,e)}})),u(u.G+u.W+u.F*!$,{Promise:E}),e("./$.set-to-string-tag")(E,y),e("./$.set-species")(y),r=e("./$.core")[y],u(u.S+u.F*!$,y,{reject:function(e){var t=new k(this);return(0,t.reject)(e),t.promise}}),u(u.S+u.F*(!$||T(!0)),y,{resolve:function(e){if(e instanceof E&&(t=e.constructor,n=this,i&&t===E&&n===r||m(t,n)))return e;var t,n,o=new k(this);return(0,o.resolve)(e),o.promise}}),u(u.S+u.F*!($&&e("./$.iter-detect")(function(e){E.all(e).catch(function(){})})),y,{all:function(e){var t=S(this),n=new k(t),r=n.resolve,i=n.reject,a=[],s=j(function(){p(e,!1,a.push,a);var n=a.length,s=Array(n);n?o.each.call(a,function(e,o){var a=!1;t.resolve(e).then(function(e){a||(a=!0,s[o]=e,--n||r(s))},i)}):r(s)});return s&&i(s.error),n.promise},race:function(e){var t=S(this),n=new k(t),r=n.reject,o=j(function(){p(e,!1,function(e){t.resolve(e).then(n.resolve,r)})});return o&&r(o.error),n.promise}})},{"./$":49,"./$.a-function":19,"./$.an-object":21,"./$.classof":22,"./$.core":27,"./$.ctx":28,"./$.descriptors":30,"./$.export":32,"./$.for-of":34,"./$.global":35,"./$.is-object":42,"./$.iter-detect":46,"./$.library":50,"./$.microtask":51,"./$.redefine-all":55,"./$.same-value":57,"./$.set-proto":58,"./$.set-species":59,"./$.set-to-string-tag":60,"./$.species-constructor":62,"./$.strict-new":63,"./$.wks":71}],80:[function(e,t,n){"use strict";var r=e("./$.collection-strong");e("./$.collection")("Set",function(e){return function(){return e(this,arguments.length>0?arguments[0]:void 0)}},{add:function(e){return r.def(this,e=0===e?0:e,e)}},r)},{"./$.collection":26,"./$.collection-strong":24}],81:[function(e,t,n){"use strict";var r=e("./$.string-at")(!0);e("./$.iter-define")(String,"String",function(e){this._t=String(e),this._i=0},function(){var e,t=this._t,n=this._i;return n>=t.length?{value:void 0,done:!0}:(e=r(t,n),this._i+=e.length,{value:e,done:!1})})},{"./$.iter-define":45,"./$.string-at":64}],82:[function(e,t,n){var r=e("./$.export");r(r.P,"Set",{toJSON:e("./$.collection-to-json")("Set")})},{"./$.collection-to-json":25,"./$.export":32}],83:[function(e,t,n){e("./es6.array.iterator");var r=e("./$.iterators");r.NodeList=r.HTMLCollection=r.Array},{"./$.iterators":48,"./es6.array.iterator":75}],84:[function(e,t,n){var r=e("is-function");t.exports=function(e,t,n){if(!r(t))throw new TypeError("iterator must be a function");arguments.length<3&&(n=this);"[object Array]"===o.call(e)?function(e,t,n){for(var r=0,o=e.length;r<o;r++)i.call(e,r)&&t.call(n,e[r],r,e)}(e,t,n):"string"==typeof e?function(e,t,n){for(var r=0,o=e.length;r<o;r++)t.call(n,e.charAt(r),r,e)}(e,t,n):function(e,t,n){for(var r in e)i.call(e,r)&&t.call(n,e[r],r,e)}(e,t,n)};var o=Object.prototype.toString,i=Object.prototype.hasOwnProperty},{"is-function":86}],85:[function(e,t,n){(function(e){"undefined"!=typeof window?t.exports=window:void 0!==e?t.exports=e:"undefined"!=typeof self?t.exports=self:t.exports={}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],86:[function(e,t,n){t.exports=function(e){var t=r.call(e);return"[object Function]"===t||"function"==typeof e&&"[object RegExp]"!==t||"undefined"!=typeof window&&(e===window.setTimeout||e===window.alert||e===window.confirm||e===window.prompt)};var r=Object.prototype.toString},{}],87:[function(e,t,n){var r=e("trim"),o=e("for-each");t.exports=function(e){if(!e)return{};var t={};return o(r(e).split("\n"),function(e){var n,o=e.indexOf(":"),i=r(e.slice(0,o)).toLowerCase(),a=r(e.slice(o+1));void 0===t[i]?t[i]=a:(n=t[i],"[object Array]"===Object.prototype.toString.call(n)?t[i].push(a):t[i]=[t[i],a])}),t}},{"for-each":84,trim:88}],88:[function(e,t,n){(n=t.exports=function(e){return e.replace(/^\s*|\s*$/g,"")}).left=function(e){return e.replace(/^\s*/,"")},n.right=function(e){return e.replace(/\s*$/,"")}},{}],89:[function(e,t,n){"use strict";var r=e("global/window"),o=e("is-function"),i=e("parse-headers"),a=e("xtend");function s(e,t,n){var r=e;return o(t)?(n=t,"string"==typeof e&&(r={uri:e})):r=a(t,{uri:e}),r.callback=n,r}function l(e,t,n){return u(t=s(e,t,n))}function u(e){if(void 0===e.callback)throw new Error("callback argument missing");var t=!1,n=function(n,r,o){t||(t=!0,e.callback(n,r,o))};function r(e){return clearTimeout(c),e instanceof Error||(e=new Error(""+(e||"Unknown XMLHttpRequest Error"))),e.statusCode=0,n(e,g)}function o(){if(!s){var t;clearTimeout(c),t=e.useXDR&&void 0===u.status?200:1223===u.status?204:u.status;var r=g,o=null;return 0!==t?(r={body:function(){var e=void 0;if(e=u.response?u.response:u.responseText||function(e){if("document"===e.responseType)return e.responseXML;var t=e.responseXML&&"parsererror"===e.responseXML.documentElement.nodeName;return""!==e.responseType||t?null:e.responseXML}(u),m)try{e=JSON.parse(e)}catch(e){}return e}(),statusCode:t,method:f,headers:{},url:d,rawRequest:u},u.getAllResponseHeaders&&(r.headers=i(u.getAllResponseHeaders()))):o=new Error("Internal XMLHttpRequest Error"),n(o,r,r.body)}}var a,s,u=e.xhr||null;u||(u=e.cors||e.useXDR?new l.XDomainRequest:new l.XMLHttpRequest);var c,d=u.url=e.uri||e.url,f=u.method=e.method||"GET",h=e.body||e.data,p=u.headers=e.headers||{},_=!!e.sync,m=!1,g={body:void 0,headers:{},statusCode:0,method:f,url:d,rawRequest:u};if("json"in e&&!1!==e.json&&(m=!0,p.accept||p.Accept||(p.Accept="application/json"),"GET"!==f&&"HEAD"!==f&&(p["content-type"]||p["Content-Type"]||(p["Content-Type"]="application/json"),h=JSON.stringify(!0===e.json?h:e.json))),u.onreadystatechange=function(){4===u.readyState&&setTimeout(o,0)},u.onload=o,u.onerror=r,u.onprogress=function(){},u.onabort=function(){s=!0},u.ontimeout=r,u.open(f,d,!_,e.username,e.password),_||(u.withCredentials=!!e.withCredentials),!_&&e.timeout>0&&(c=setTimeout(function(){if(!s){s=!0,u.abort("timeout");var e=new Error("XMLHttpRequest timeout");e.code="ETIMEDOUT",r(e)}},e.timeout)),u.setRequestHeader)for(a in p)p.hasOwnProperty(a)&&u.setRequestHeader(a,p[a]);else if(e.headers&&!function(e){for(var t in e)if(e.hasOwnProperty(t))return!1;return!0}(e.headers))throw new Error("Headers cannot be set on an XDomainRequest object");return"responseType"in e&&(u.responseType=e.responseType),"beforeSend"in e&&"function"==typeof e.beforeSend&&e.beforeSend(u),u.send(h||null),u}t.exports=l,l.XMLHttpRequest=r.XMLHttpRequest||function(){},l.XDomainRequest="withCredentials"in new l.XMLHttpRequest?l.XMLHttpRequest:r.XDomainRequest,function(e,t){for(var n=0;n<e.length;n++)t(e[n])}(["get","put","post","patch","head","delete"],function(e){l["delete"===e?"del":e]=function(t,n,r){return(n=s(t,n,r)).method=e.toUpperCase(),u(n)}})},{"global/window":85,"is-function":86,"parse-headers":87,xtend:90}],90:[function(e,t,n){t.exports=function(){for(var e={},t=0;t<arguments.length;t++){var n=arguments[t];for(var o in n)r.call(n,o)&&(e[o]=n[o])}return e};var r=Object.prototype.hasOwnProperty},{}],91:[function(e,t,n){"use strict";var r=e("babel-runtime/helpers/create-class").default,o=e("babel-runtime/helpers/class-call-check").default,i=e("babel-runtime/helpers/interop-require-default").default;Object.defineProperty(n,"__esModule",{value:!0});var a=i(e("xhr")),s=e("./gl/gl"),l=i(e("./gl/Texture")),u=e("./tools/common"),c=e("./tools/mixin"),d=function(){function e(t,n){var r=this;o(this,e),(0,c.subscribeMixin)(this),n=n||{},this.width=t.clientWidth,this.height=t.clientHeight,this.canvas=t,this.gl=void 0,this.program=void 0,this.textures={},this.uniforms={},this.vbo={},this.isValid=!1,this.vertexString=n.vertexString||"\n#ifdef GL_ES\nprecision mediump float;\n#endif\n\nattribute vec2 a_position;\nattribute vec2 a_texcoord;\n\nvarying vec2 v_texcoord;\n\nvoid main() {\n    gl_Position = vec4(a_position, 0.0, 1.0);\n    v_texcoord = a_texcoord;\n}\n",this.fragmentString=n.fragmentString||"\n#ifdef GL_ES\nprecision mediump float;\n#endif\n\nvarying vec2 v_texcoord;\n\nvoid main(){\n    gl_FragColor = vec4(0.0);\n}\n";var i=(0,s.setupWebGL)(t,n);if(i){if(this.gl=i,this.timeLoad=this.timePrev=performance.now(),this.timeDelta=0,this.forceRender=!0,this.paused=!1,t.style.backgroundColor=n.backgroundColor||"rgba(1,1,1,0)",t.hasAttribute("data-fragment"))this.fragmentString=t.getAttribute("data-fragment");else if(t.hasAttribute("data-fragment-url")){var l=t.getAttribute("data-fragment-url");a.default.get(l,function(e,t,n){r.load(n,r.vertexString)})}if(t.hasAttribute("data-vertex"))this.vertexString=t.getAttribute("data-vertex");else if(t.hasAttribute("data-vertex-url")){l=t.getAttribute("data-vertex-url");a.default.get(l,function(e,t,n){r.load(r.fragmentString,n)})}if(this.load(),this.program){var u=i.getAttribLocation(this.program,"a_texcoord");this.vbo.texCoords=i.createBuffer(),this.gl.bindBuffer(i.ARRAY_BUFFER,this.vbo.texCoords),this.gl.bufferData(i.ARRAY_BUFFER,new Float32Array([0,0,1,0,0,1,0,1,1,0,1,1]),i.STATIC_DRAW),this.gl.enableVertexAttribArray(u),this.gl.vertexAttribPointer(u,2,i.FLOAT,!1,0,0);var d=i.getAttribLocation(this.program,"a_position");if(this.vbo.vertices=i.createBuffer(),this.gl.bindBuffer(i.ARRAY_BUFFER,this.vbo.vertices),this.gl.bufferData(i.ARRAY_BUFFER,new Float32Array([-1,-1,1,-1,-1,1,-1,1,1,-1,1,1]),i.STATIC_DRAW),this.gl.enableVertexAttribArray(d),this.gl.vertexAttribPointer(d,2,i.FLOAT,!1,0,0),t.hasAttribute("data-textures")){var f=t.getAttribute("data-textures").split(",");for(var h in f)this.setUniform("u_tex"+h,f[h])}var p={x:0,y:0};document.addEventListener("mousemove",function(e){p.x=e.clientX||e.pageX,p.y=e.clientY||e.pageY},!1);var _=this;return this.setMouse({x:0,y:0}),function e(){_.nMouse>1&&_.setMouse(p),_.render(),_.forceRender=_.resize(),window.requestAnimationFrame(e)}(),this}}}return r(e,[{key:"destroy",value:function(){for(var e in this.animated=!1,this.isValid=!1,this.textures)this.gl.deleteTexture(e);for(var t in this.textures={},this.attribs)this.gl.deleteBuffer(this.attribs[t]);this.gl.useProgram(null),this.gl.deleteProgram(this.program),this.program=null,this.gl=null}},{key:"load",value:function(e,t){if(t&&(this.vertexString=t),e&&(this.fragmentString=e),this.animated=!1,this.nDelta=(this.fragmentString.match(/u_delta/g)||[]).length,this.nTime=(this.fragmentString.match(/u_time/g)||[]).length,this.nDate=(this.fragmentString.match(/u_date/g)||[]).length,this.nMouse=(this.fragmentString.match(/u_mouse/g)||[]).length,this.animated=this.nDate>1||this.nTime>1||this.nMouse>1,this.fragmentString.search(/sampler2D/g))for(var n=this.fragmentString.split("\n"),r=0;r<n.length;r++){var o=n[r].match(/uniform\s*sampler2D\s*([\w]*);\s*\/\/\s*([\w|\:\/\/|\.|\-|\_]*)/i);if(o){var i=o[2].split(".").pop().toLowerCase();o[1]&&o[2]&&("jpg"===i||"jpeg"===i||"png"===i||"ogv"===i||"webm"===i||"mp4"===i)&&this.setUniform(o[1],o[2])}if(n[r].match(/\s*void\s*main\s*/g))break}var a=(0,s.createShader)(this,this.vertexString,this.gl.VERTEX_SHADER),l=(0,s.createShader)(this,this.fragmentString,this.gl.FRAGMENT_SHADER);l?this.isValid=!0:(l=(0,s.createShader)(this,"void main(){\n\tgl_FragColor = vec4(1.0);\n}",this.gl.FRAGMENT_SHADER),this.isValid=!1);var u=(0,s.createProgram)(this,[a,l]);this.gl.useProgram(u),this.gl.deleteShader(a),this.gl.deleteShader(l),this.program=u,this.change=!0,this.trigger("load",{}),this.forceRender=!0}},{key:"test",value:function(e,t,n){var r=this.vertexString,o=this.fragmentString,i=this.paused,a=this.gl.getExtension("EXT_disjoint_timer_query"),s=a.createQueryEXT(),l=this.isValid;(t||n)&&(this.load(t,n),l=this.isValid,this.forceRender=!0,this.render()),this.paused=!0,a.beginQueryEXT(a.TIME_ELAPSED_EXT,s),this.forceRender=!0,this.render(),a.endQueryEXT(a.TIME_ELAPSED_EXT);var u=this;!function c(){u.forceRender=!0,u.render();var d=a.getQueryObjectEXT(s,a.QUERY_RESULT_AVAILABLE_EXT),f=u.gl.getParameter(a.GPU_DISJOINT_EXT);if(d&&!f){var h={wasValid:l,frag:t||u.fragmentString,vert:n||u.vertexString,timeElapsedMs:a.getQueryObjectEXT(s,a.QUERY_RESULT_EXT)/1e6};u.paused=i,(t||n)&&u.load(o,r),e(h)}else window.requestAnimationFrame(c)}()}},{key:"loadTexture",value:function(e,t,n){var r=this;n||(n={}),"string"==typeof t?n.url=t:"object"==typeof t&&t.data&&t.width&&t.height?(n.data=t.data,n.width=t.width,n.height=t.height):"object"==typeof t&&(n.element=t),this.textures[e]?this.textures[e]&&(this.textures[e].load(n),this.textures[e].on("loaded",function(e){r.forceRender=!0})):(this.textures[e]=new l.default(this.gl,e,n),this.textures[e].on("loaded",function(e){r.forceRender=!0}))}},{key:"refreshUniforms",value:function(){this.uniforms={}}},{key:"setUniform",value:function(e){for(var t={},n=arguments.length,r=Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];t[e]=r,this.setUniforms(t)}},{key:"setUniforms",value:function(e){var t=(0,s.parseUniforms)(e);for(var n in t)"sampler2D"===t[n].type?this.loadTexture(t[n].name,t[n].value[0]):(this.uniform(t[n].method,t[n].type,t[n].name,t[n].value),this.forceRender=!0)}},{key:"setMouse",value:function(e){var t=this.canvas.getBoundingClientRect();e&&e.x&&e.x>=t.left&&e.x<=t.right&&e.y&&e.y>=t.top&&e.y<=t.bottom&&this.uniform("2f","vec2","u_mouse",e.x-t.left,this.canvas.height-(e.y-t.top))}},{key:"uniform",value:function(e,t,n){this.uniforms[n]=this.uniforms[n]||{};for(var r=this.uniforms[n],o=arguments.length,i=Array(o>3?o-3:0),a=3;a<o;a++)i[a-3]=arguments[a];((0,u.isDiff)(r.value,i)||this.change||void 0===r.location||void 0===r.value)&&(r.name=n,r.value=i,r.type=t,r.method="uniform"+e,r.location=this.gl.getUniformLocation(this.program,n),this.gl[r.method].apply(this.gl,[r.location].concat(r.value)))}},{key:"uniformTexture",value:function(e,t,n){void 0===this.textures[e]?this.loadTexture(e,t,n):(this.uniform("1i","sampler2D",e,this.texureIndex),this.textures[e].bind(this.texureIndex),this.uniform("2f","vec2",e+"Resolution",this.textures[e].width,this.textures[e].height),this.texureIndex++)}},{key:"resize",value:function(){if(this.width!==this.canvas.clientWidth||this.height!==this.canvas.clientHeight){var e=window.devicePixelRatio||1,t=Math.floor(this.gl.canvas.clientWidth*e),n=Math.floor(this.gl.canvas.clientHeight*e);return this.gl.canvas.width===t&&this.gl.canvas.height===n||(this.gl.canvas.width=t,this.gl.canvas.height=n,this.gl.viewport(0,0,this.gl.canvas.width,this.gl.canvas.height)),this.width=this.canvas.clientWidth,this.height=this.canvas.clientHeight,!0}return!1}},{key:"render",value:function(){if(this.visible=(0,u.isCanvasVisible)(this.canvas),this.forceRender||this.animated&&this.visible&&!this.paused){var e=new Date,t=performance.now();for(var n in this.timeDelta=(t-this.timePrev)/1e3,this.timePrev=t,this.nDelta>1&&this.uniform("1f","float","u_delta",this.timeDelta),this.nTime>1&&this.uniform("1f","float","u_time",(t-this.timeLoad)/1e3),this.nDate&&this.uniform("4f","float","u_date",e.getFullYear(),e.getMonth(),e.getDate(),3600*e.getHours()+60*e.getMinutes()+e.getSeconds()+.001*e.getMilliseconds()),this.uniform("2f","vec2","u_resolution",this.canvas.width,this.canvas.height),this.texureIndex=0,this.textures)this.uniformTexture(n);this.gl.drawArrays(this.gl.TRIANGLES,0,6),this.trigger("render",{}),this.change=!1,this.forceRender=!1}}},{key:"pause",value:function(){this.paused=!0}},{key:"play",value:function(){this.paused=!1}},{key:"version",value:function(){return"0.0.25"}}]),e}();n.default=d,window.GlslCanvas=d,window.addEventListener("load",function(){!function(){var e=document.getElementsByClassName("glslCanvas");if(e.length>0){window.glslCanvases=[];for(var t=0;t<e.length;t++){var n=new d(e[t]);n.isValid&&window.glslCanvases.push(n)}}}()}),t.exports=n.default},{"./gl/Texture":92,"./gl/gl":93,"./tools/common":94,"./tools/mixin":95,"babel-runtime/helpers/class-call-check":8,"babel-runtime/helpers/create-class":9,"babel-runtime/helpers/interop-require-default":10,xhr:89}],92:[function(e,t,n){"use strict";var r=e("babel-runtime/helpers/create-class").default,o=e("babel-runtime/helpers/class-call-check").default,i=e("babel-runtime/core-js/promise").default;Object.defineProperty(n,"__esModule",{value:!0});var a=e("../tools/common"),s=e("../tools/mixin"),l=function(){function e(t,n){var r=arguments.length<=2||void 0===arguments[2]?{}:arguments[2];o(this,e),(0,s.subscribeMixin)(this),this.gl=t,this.texture=t.createTexture(),this.texture&&(this.valid=!0),this.bind(),this.name=n,this.source=null,this.sourceType=null,this.loading=null,this.setData(1,1,new Uint8Array([0,0,0,255]),{filtering:"linear"}),this.setFiltering(r.filtering),this.load(r)}return r(e,[{key:"destroy",value:function(){this.valid&&(this.gl.deleteTexture(this.texture),this.texture=null,delete this.data,this.data=null,this.valid=!1)}},{key:"bind",value:function(t){this.valid&&("number"==typeof t&&e.activeUnit!==t&&(this.gl.activeTexture(this.gl.TEXTURE0+t),e.activeUnit=t),e.activeTexture!==this.texture&&(this.gl.bindTexture(this.gl.TEXTURE_2D,this.texture),e.activeTexture=this.texture))}},{key:"load",value:function(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];this.loading=null,"string"==typeof e.url?void 0!==this.url&&e.url===this.url||this.setUrl(e.url,e):e.element?this.setElement(e.element,e):e.data&&e.width&&e.height&&this.setData(e.width,e.height,e.data,e)}},{key:"setUrl",value:function(e){var t=this,n=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];if(this.valid)return this.url=e,this.source=this.url,this.sourceType="url",this.loading=new i(function(r,o){var i=e.split(".").pop().toLowerCase(),s="ogv"===i||"webm"===i||"mp4"===i,l=void 0;s?((l=document.createElement("video")).autoplay=!0,n.filtering="nearest"):l=new Image,l.onload=function(){try{t.setElement(l,n)}catch(e){console.log("Texture '"+t.name+"': failed to load url: '"+t.source+"'",e,n)}r(t)},l.onerror=function(e){console.log("Texture '"+t.name+"': failed to load url: '"+t.source+"'",e,n),r(t)},(0,a.isSafari)()&&"data:"===t.source.slice(0,5)||(l.crossOrigin="anonymous"),l.src=t.source,s&&t.setElement(l,n)}),this.loading}},{key:"setData",value:function(e,t,n){var r=arguments.length<=3||void 0===arguments[3]?{}:arguments[3];return this.width=e,this.height=t,this.source=n,this.sourceType="data",this.update(r),this.setFiltering(r),this.loading=i.resolve(this),this.loading}},{key:"setElement",value:function(e,t){var n=this,r=e;if("string"==typeof e&&(e=document.querySelector(e)),e instanceof HTMLCanvasElement||e instanceof HTMLImageElement||e instanceof HTMLVideoElement)this.source=e,this.sourceType="element",e instanceof HTMLVideoElement?(e.addEventListener("canplaythrough",function(){n.intervalID=setInterval(function(){n.update(t)},15)},!0),e.addEventListener("ended",function(){e.currentTime=0,e.play()},!0)):this.update(t),this.setFiltering(t);else{var o="the 'element' parameter (`element: "+JSON.stringify(r)+"`) must be a CSS ";o+="selector string, or a <canvas>, <image> or <video> object",console.log("Texture '"+this.name+"': "+o,t)}return this.loading=i.resolve(this),this.loading}},{key:"update",value:function(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];this.valid&&(this.bind(),this.gl.pixelStorei(this.gl.UNPACK_FLIP_Y_WEBGL,!1!==e.UNPACK_FLIP_Y_WEBGL),this.gl.pixelStorei(this.gl.UNPACK_PREMULTIPLY_ALPHA_WEBGL,e.UNPACK_PREMULTIPLY_ALPHA_WEBGL||!1),"element"===this.sourceType&&(this.source instanceof HTMLCanvasElement||this.source instanceof HTMLVideoElement||this.source instanceof HTMLImageElement&&this.source.complete)?(this.source instanceof HTMLVideoElement?(this.width=this.source.videoWidth,this.height=this.source.videoHeight):(this.width=this.source.width,this.height=this.source.height),this.gl.texImage2D(this.gl.TEXTURE_2D,0,this.gl.RGBA,this.gl.RGBA,this.gl.UNSIGNED_BYTE,this.source)):"data"===this.sourceType&&this.gl.texImage2D(this.gl.TEXTURE_2D,0,this.gl.RGBA,this.width,this.height,0,this.gl.RGBA,this.gl.UNSIGNED_BYTE,this.source),this.trigger("loaded",this))}},{key:"setFiltering",value:function(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];if(this.valid){this.powerOf2=(0,a.isPowerOf2)(this.width)&&(0,a.isPowerOf2)(this.height);var t=this.powerOf2?"mipmap":"linear";this.filtering=e.filtering||t;var n=this.gl;this.bind(),this.powerOf2?(n.texParameteri(n.TEXTURE_2D,n.TEXTURE_WRAP_S,e.TEXTURE_WRAP_S||e.repeat&&n.REPEAT||n.CLAMP_TO_EDGE),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_WRAP_T,e.TEXTURE_WRAP_T||e.repeat&&n.REPEAT||n.CLAMP_TO_EDGE),"mipmap"===this.filtering?(n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MIN_FILTER,n.LINEAR_MIPMAP_LINEAR),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MAG_FILTER,n.LINEAR),n.generateMipmap(n.TEXTURE_2D)):"linear"===this.filtering?(n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MIN_FILTER,n.LINEAR),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MAG_FILTER,n.LINEAR)):"nearest"===this.filtering&&(n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MIN_FILTER,n.NEAREST),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MAG_FILTER,n.NEAREST))):(n.texParameteri(n.TEXTURE_2D,n.TEXTURE_WRAP_S,n.CLAMP_TO_EDGE),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_WRAP_T,n.CLAMP_TO_EDGE),"mipmap"===this.filtering&&(this.filtering="linear"),"nearest"===this.filtering?(n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MIN_FILTER,n.NEAREST),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MAG_FILTER,n.NEAREST)):(n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MIN_FILTER,n.LINEAR),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MAG_FILTER,n.LINEAR)))}}}]),e}();n.default=l,l.getMaxTextureSize=function(e){return e.getParameter(e.MAX_TEXTURE_SIZE)},l.activeUnit=-1,t.exports=n.default},{"../tools/common":94,"../tools/mixin":95,"babel-runtime/core-js/promise":6,"babel-runtime/helpers/class-call-check":8,"babel-runtime/helpers/create-class":9}],93:[function(e,t,n){"use strict";var r=e("babel-runtime/helpers/to-consumable-array").default;Object.defineProperty(n,"__esModule",{value:!0}),n.setupWebGL=function(e,t){function n(t){var n=e.parentNode;n&&(n.innerHTML='\n<table style="background-color: #8CE; width: 100%; height: 100%;"><tr>\n<td align="center">\n<div style="display: table-cell; vertical-align: middle;">\n<div style="">'+t+"</div>\n</div>\n</td></tr></table>\n")}if(!window.WebGLRenderingContext)return n(i),null;var r=s(e,t);r||n(a);return r.getExtension("OES_standard_derivatives"),r},n.create3DContext=s,n.createShader=function(e,t,n){var r=e.gl,i=r.createShader(n);if(r.shaderSource(i,t),r.compileShader(i),!r.getShaderParameter(i,r.COMPILE_STATUS))return o=r.getShaderInfoLog(i),console.error("*** Error compiling shader "+i+":"+o),e.trigger("error",{shader:i,source:t,type:n,error:o}),r.deleteShader(i),null;return i},n.createProgram=function(e,t,n,r){for(var i=e.gl,a=i.createProgram(),s=0;s<t.length;++s)i.attachShader(a,t[s]);if(n)for(var s=0;s<n.length;++s)i.bindAttribLocation(a,r?r[s]:s,n[s]);if(i.linkProgram(a),!i.getProgramParameter(a,i.LINK_STATUS))return o=i.getProgramInfoLog(a),console.log("Error in program linking:"+o),i.deleteProgram(a),null;return a},n.parseUniforms=function e(t){var n=arguments.length<=1||void 0===arguments[1]?null:arguments[1];var o=[];for(var i in t){var a=t[i],s=void 0;if(n&&(i=n+"."+i),"number"==typeof a)o.push({type:"float",method:"1f",name:i,value:a});else if(Array.isArray(a)){if("number"==typeof a[0])1===a.length?o.push({type:"float",method:"1f",name:i,value:a}):a.length>=2&&a.length<=4?o.push({type:"vec"+a.length,method:a.length+"fv",name:i,value:a}):a.length>4&&o.push({type:"float[]",method:"1fv",name:i+"[0]",value:a});else if("string"==typeof a[0])o.push({type:"sampler2D",method:"1i",name:i,value:a});else if(Array.isArray(a[0])&&"number"==typeof a[0][0]){if(a[0].length>=2&&a[0].length<=4)for(s=0;s<a.length;s++)o.push({type:"vec"+a[0].length,method:a[s].length+"fv",name:i+"["+s+"]",value:a[s]})}else if("object"==typeof a[0])for(s=0;s<a.length;s++)o.push.apply(o,r(e(a[s],i+"["+s+"]")))}else"boolean"==typeof a?o.push({type:"bool",method:"1i",name:i,value:a}):"string"==typeof a?o.push({type:"sampler2D",method:"1i",name:i,value:a}):"object"==typeof a&&o.push.apply(o,r(e(a,i)))}return o};var o="";var i='\n\tThis page requires a browser that supports WebGL.<br/>\n\t<a href="http://get.webgl.org">Click here to upgrade your browser.</a>\n',a='\n\tIt does not appear your computer can support WebGL.<br/>\n\t<a href="http://get.webgl.org/troubleshooting/">Click here for more information.</a>\n';function s(e,t){for(var n=["webgl","experimental-webgl"],r=null,o=0;o<n.length;++o)try{r=e.getContext(n[o],t)}catch(e){if(r)break}return r}},{"babel-runtime/helpers/to-consumable-array":11}],94:[function(e,t,n){"use strict";var r=e("babel-runtime/core-js/set").default,o=e("babel-runtime/core-js/object/assign").default,i=e("babel-runtime/core-js/get-iterator").default;Object.defineProperty(n,"__esModule",{value:!0}),n.isCanvasVisible=function(e){return e.getBoundingClientRect().top+e.height>0&&e.getBoundingClientRect().top<(window.innerHeight||document.documentElement.clientHeight)},n.isPowerOf2=function(e){return 0==(e&e-1)},n.isSafari=function(){return/^((?!chrome|android).)*safari/i.test(navigator.userAgent)},n.nextHighestPowerOfTwo=function(e){--e;for(var t=1;t<32;t<<=1)e|=e>>t;return e+1},n.FormatNumberLength=function(e,t){var n=e.toString();for(;n.length<t;)n="0"+n;return n},n.getMousePos=function(e,t){var n=e.getBoundingClientRect();return{x:t.clientX-n.left,y:t.clientY-n.top}},n.isDiff=function(e,t){if(e&&t)return e.toString()!==t.toString();return!1},n.subscribeMixin=function(e){var t=new r;return o(e,{subscribe:function(e){t.add(e)},on:function(e,n){var r={};r[e]=n,t.add(r)},unsubscribe:function(e){t.delete(e)},unsubscribeAll:function(){t.clear()},trigger:function(e){var n=!0,r=!1,o=void 0;try{for(var a=arguments.length,s=Array(a>1?a-1:0),l=1;l<a;l++)s[l-1]=arguments[l];for(var u,c=i(t);!(n=(u=c.next()).done);n=!0){var d=u.value;"function"==typeof d[e]&&d[e].apply(d,s)}}catch(e){r=!0,o=e}finally{try{!n&&c.return&&c.return()}finally{if(r)throw o}}}})}},{"babel-runtime/core-js/get-iterator":2,"babel-runtime/core-js/object/assign":3,"babel-runtime/core-js/set":7}],95:[function(e,t,n){"use strict";var r=e("babel-runtime/core-js/set").default,o=e("babel-runtime/core-js/object/assign").default,i=e("babel-runtime/core-js/get-iterator").default,a=e("babel-runtime/core-js/object/keys").default;Object.defineProperty(n,"__esModule",{value:!0}),n.subscribeMixin=function(e){var t=new r;return o(e,{on:function(e,n){var r={};r[e]=n,t.add(r)},off:function(e,n){if(n){var r={};r[e]=n,t.delete(r)}else{var o=!0,s=!1,l=void 0;try{for(var u,c=i(t);!(o=(u=c.next()).done);o=!0){var d=u.value,f=!0,h=!1,p=void 0;try{for(var _,m=i(a(d));!(f=(_=m.next()).done);f=!0){var g=_.value;if(g===e)return void t.delete(d)}}catch(e){h=!0,p=e}finally{try{!f&&m.return&&m.return()}finally{if(h)throw p}}}}catch(e){s=!0,l=e}finally{try{!o&&c.return&&c.return()}finally{if(s)throw l}}}},listSubscriptions:function(){var e=!0,n=!1,r=void 0;try{for(var o,a=i(t);!(e=(o=a.next()).done);e=!0){var s=o.value;console.log(s)}}catch(e){n=!0,r=e}finally{try{!e&&a.return&&a.return()}finally{if(n)throw r}}},subscribe:function(e){t.add(e)},unsubscribe:function(e){t.delete(e)},unsubscribeAll:function(){t.clear()},trigger:function(e){var n=!0,r=!1,o=void 0;try{for(var a=arguments.length,s=Array(a>1?a-1:0),l=1;l<a;l++)s[l-1]=arguments[l];for(var u,c=i(t);!(n=(u=c.next()).done);n=!0){var d=u.value;"function"==typeof d[e]&&d[e].apply(d,s)}}catch(e){r=!0,o=e}finally{try{!n&&c.return&&c.return()}finally{if(r)throw o}}}})}},{"babel-runtime/core-js/get-iterator":2,"babel-runtime/core-js/object/assign":3,"babel-runtime/core-js/object/keys":5,"babel-runtime/core-js/set":7}]},{},[91])(91)}),function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):e.Stats=t()}(this,function(){var e=function(){function t(e){return o.appendChild(e.dom),e}function n(e){for(var t=0;t<o.children.length;t++)o.children[t].style.display=t===e?"block":"none";r=e}var r=0,o=document.createElement("div");o.style.cssText="position:fixed;top:0;left:0;cursor:pointer;opacity:0.9;z-index:10000",o.addEventListener("click",function(e){e.preventDefault(),n(++r%o.children.length)},!1);var i=(performance||Date).now(),a=i,s=0,l=t(new e.Panel("FPS","#0ff","#002")),u=t(new e.Panel("MS","#0f0","#020"));if(self.performance&&self.performance.memory)var c=t(new e.Panel("MB","#f08","#201"));return n(0),{REVISION:16,dom:o,addPanel:t,showPanel:n,begin:function(){i=(performance||Date).now()},end:function(){s++;var e=(performance||Date).now();if(u.update(e-i,200),e>a+1e3&&(l.update(1e3*s/(e-a),100),a=e,s=0,c)){var t=performance.memory;c.update(t.usedJSHeapSize/1048576,t.jsHeapSizeLimit/1048576)}return e},update:function(){i=this.end()},domElement:o,setMode:n}};return e.Panel=function(e,t,n){var r=1/0,o=0,i=Math.round,a=i(window.devicePixelRatio||1),s=80*a,l=48*a,u=3*a,c=2*a,d=3*a,f=15*a,h=74*a,p=30*a,_=document.createElement("canvas");_.width=s,_.height=l,_.style.cssText="width:80px;height:48px";var m=_.getContext("2d");return m.font="bold "+9*a+"px Helvetica,Arial,sans-serif",m.textBaseline="top",m.fillStyle=n,m.fillRect(0,0,s,l),m.fillStyle=t,m.fillText(e,u,c),m.fillRect(d,f,h,p),m.fillStyle=n,m.globalAlpha=.9,m.fillRect(d,f,h,p),{dom:_,update:function(l,g){r=Math.min(r,l),o=Math.max(o,l),m.fillStyle=n,m.globalAlpha=1,m.fillRect(0,0,s,f),m.fillStyle=t,m.fillText(i(l)+" "+e+" ("+i(r)+"-"+i(o)+")",u,c),m.drawImage(_,d+a,f,h-a,p,d,f,h-a,p),m.fillRect(d+h-a,f,a,p),m.fillStyle=n,m.globalAlpha=.9,m.fillRect(d+h-a,f,a,i((1-l/g)*p))}}},e}),function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.dat=t():e.dat=t()}(this,function(){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={exports:{},id:r,loaded:!1};return e[r].call(o.exports,o,o.exports,n),o.loaded=!0,o.exports}return n.m=e,n.c=t,n.p="",n(0)}([function(e,t,n){"use strict";t.__esModule=!0;var r,o=n(1),i=(r=o)&&r.__esModule?r:{default:r};t.default=i.default,e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0;var r=g(n(2)),o=g(n(6)),i=g(n(3)),a=g(n(7)),s=g(n(8)),l=g(n(10)),u=g(n(11)),c=g(n(12)),d=g(n(13)),f=g(n(14)),h=g(n(15)),p=g(n(16)),_=g(n(9)),m=g(n(17));function g(e){return e&&e.__esModule?e:{default:e}}t.default={color:{Color:r.default,math:o.default,interpret:i.default},controllers:{Controller:a.default,BooleanController:s.default,OptionController:l.default,StringController:u.default,NumberController:c.default,NumberControllerBox:d.default,NumberControllerSlider:f.default,FunctionController:h.default,ColorController:p.default},dom:{dom:_.default},gui:{GUI:m.default},GUI:m.default},e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0;var r=s(n(3)),o=s(n(6)),i=s(n(4)),a=s(n(5));function s(e){return e&&e.__esModule?e:{default:e}}var l=function(){function e(){if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.__state=r.default.apply(this,arguments),!1===this.__state)throw new Error("Failed to interpret color arguments");this.__state.a=this.__state.a||1}return e.prototype.toString=function(){return(0,i.default)(this)},e.prototype.toHexString=function(){return(0,i.default)(this,!0)},e.prototype.toOriginal=function(){return this.__state.conversion.write(this)},e}();function u(e,t,n){Object.defineProperty(e,t,{get:function(){return"RGB"===this.__state.space?this.__state[t]:(l.recalculateRGB(this,t,n),this.__state[t])},set:function(e){"RGB"!==this.__state.space&&(l.recalculateRGB(this,t,n),this.__state.space="RGB"),this.__state[t]=e}})}function c(e,t){Object.defineProperty(e,t,{get:function(){return"HSV"===this.__state.space?this.__state[t]:(l.recalculateHSV(this),this.__state[t])},set:function(e){"HSV"!==this.__state.space&&(l.recalculateHSV(this),this.__state.space="HSV"),this.__state[t]=e}})}l.recalculateRGB=function(e,t,n){if("HEX"===e.__state.space)e.__state[t]=o.default.component_from_hex(e.__state.hex,n);else{if("HSV"!==e.__state.space)throw new Error("Corrupted color state");a.default.extend(e.__state,o.default.hsv_to_rgb(e.__state.h,e.__state.s,e.__state.v))}},l.recalculateHSV=function(e){var t=o.default.rgb_to_hsv(e.r,e.g,e.b);a.default.extend(e.__state,{s:t.s,v:t.v}),a.default.isNaN(t.h)?a.default.isUndefined(e.__state.h)&&(e.__state.h=0):e.__state.h=t.h},l.COMPONENTS=["r","g","b","h","s","v","hex","a"],u(l.prototype,"r",2),u(l.prototype,"g",1),u(l.prototype,"b",0),c(l.prototype,"h"),c(l.prototype,"s"),c(l.prototype,"v"),Object.defineProperty(l.prototype,"a",{get:function(){return this.__state.a},set:function(e){this.__state.a=e}}),Object.defineProperty(l.prototype,"hex",{get:function(){return"HEX"!==!this.__state.space&&(this.__state.hex=o.default.rgb_to_hex(this.r,this.g,this.b)),this.__state.hex},set:function(e){this.__state.space="HEX",this.__state.hex=e}}),t.default=l,e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0;var r=i(n(4)),o=i(n(5));function i(e){return e&&e.__esModule?e:{default:e}}var a=[{litmus:o.default.isString,conversions:{THREE_CHAR_HEX:{read:function(e){var t=e.match(/^#([A-F0-9])([A-F0-9])([A-F0-9])$/i);return null!==t&&{space:"HEX",hex:parseInt("0x"+t[1].toString()+t[1].toString()+t[2].toString()+t[2].toString()+t[3].toString()+t[3].toString(),0)}},write:r.default},SIX_CHAR_HEX:{read:function(e){var t=e.match(/^#([A-F0-9]{6})$/i);return null!==t&&{space:"HEX",hex:parseInt("0x"+t[1].toString(),0)}},write:r.default},CSS_RGB:{read:function(e){var t=e.match(/^rgb\(\s*(.+)\s*,\s*(.+)\s*,\s*(.+)\s*\)/);return null!==t&&{space:"RGB",r:parseFloat(t[1]),g:parseFloat(t[2]),b:parseFloat(t[3])}},write:r.default},CSS_RGBA:{read:function(e){var t=e.match(/^rgba\(\s*(.+)\s*,\s*(.+)\s*,\s*(.+)\s*,\s*(.+)\s*\)/);return null!==t&&{space:"RGB",r:parseFloat(t[1]),g:parseFloat(t[2]),b:parseFloat(t[3]),a:parseFloat(t[4])}},write:r.default}}},{litmus:o.default.isNumber,conversions:{HEX:{read:function(e){return{space:"HEX",hex:e,conversionName:"HEX"}},write:function(e){return e.hex}}}},{litmus:o.default.isArray,conversions:{RGB_ARRAY:{read:function(e){return 3===e.length&&{space:"RGB",r:e[0],g:e[1],b:e[2]}},write:function(e){return[e.r,e.g,e.b]}},RGBA_ARRAY:{read:function(e){return 4===e.length&&{space:"RGB",r:e[0],g:e[1],b:e[2],a:e[3]}},write:function(e){return[e.r,e.g,e.b,e.a]}}}},{litmus:o.default.isObject,conversions:{RGBA_OBJ:{read:function(e){return!!(o.default.isNumber(e.r)&&o.default.isNumber(e.g)&&o.default.isNumber(e.b)&&o.default.isNumber(e.a))&&{space:"RGB",r:e.r,g:e.g,b:e.b,a:e.a}},write:function(e){return{r:e.r,g:e.g,b:e.b,a:e.a}}},RGB_OBJ:{read:function(e){return!!(o.default.isNumber(e.r)&&o.default.isNumber(e.g)&&o.default.isNumber(e.b))&&{space:"RGB",r:e.r,g:e.g,b:e.b}},write:function(e){return{r:e.r,g:e.g,b:e.b}}},HSVA_OBJ:{read:function(e){return!!(o.default.isNumber(e.h)&&o.default.isNumber(e.s)&&o.default.isNumber(e.v)&&o.default.isNumber(e.a))&&{space:"HSV",h:e.h,s:e.s,v:e.v,a:e.a}},write:function(e){return{h:e.h,s:e.s,v:e.v,a:e.a}}},HSV_OBJ:{read:function(e){return!!(o.default.isNumber(e.h)&&o.default.isNumber(e.s)&&o.default.isNumber(e.v))&&{space:"HSV",h:e.h,s:e.s,v:e.v}},write:function(e){return{h:e.h,s:e.s,v:e.v}}}}}],s=void 0,l=void 0;t.default=function(){l=!1;var e=arguments.length>1?o.default.toArray(arguments):arguments[0];return o.default.each(a,function(t){if(t.litmus(e))return o.default.each(t.conversions,function(t,n){if(s=t.read(e),!1===l&&!1!==s)return l=s,s.conversionName=n,s.conversion=t,o.default.BREAK}),o.default.BREAK}),l},e.exports=t.default},function(e,t){"use strict";t.__esModule=!0,t.default=function(e,t){var n=e.__state.conversionName.toString(),r=Math.round(e.r),o=Math.round(e.g),i=Math.round(e.b),a=e.a,s=Math.round(e.h),l=e.s.toFixed(1),u=e.v.toFixed(1);if(t||"THREE_CHAR_HEX"===n||"SIX_CHAR_HEX"===n){for(var c=e.hex.toString(16);c.length<6;)c="0"+c;return"#"+c}return"CSS_RGB"===n?"rgb("+r+","+o+","+i+")":"CSS_RGBA"===n?"rgba("+r+","+o+","+i+","+a+")":"HEX"===n?"0x"+e.hex.toString(16):"RGB_ARRAY"===n?"["+r+","+o+","+i+"]":"RGBA_ARRAY"===n?"["+r+","+o+","+i+","+a+"]":"RGB_OBJ"===n?"{r:"+r+",g:"+o+",b:"+i+"}":"RGBA_OBJ"===n?"{r:"+r+",g:"+o+",b:"+i+",a:"+a+"}":"HSV_OBJ"===n?"{h:"+s+",s:"+l+",v:"+u+"}":"HSVA_OBJ"===n?"{h:"+s+",s:"+l+",v:"+u+",a:"+a+"}":"unknown format"},e.exports=t.default},function(e,t){"use strict";t.__esModule=!0;var n=Array.prototype.forEach,r=Array.prototype.slice,o={BREAK:{},extend:function(e){return this.each(r.call(arguments,1),function(t){(this.isObject(t)?Object.keys(t):[]).forEach(function(n){this.isUndefined(t[n])||(e[n]=t[n])}.bind(this))},this),e},defaults:function(e){return this.each(r.call(arguments,1),function(t){(this.isObject(t)?Object.keys(t):[]).forEach(function(n){this.isUndefined(e[n])&&(e[n]=t[n])}.bind(this))},this),e},compose:function(){var e=r.call(arguments);return function(){for(var t=r.call(arguments),n=e.length-1;n>=0;n--)t=[e[n].apply(this,t)];return t[0]}},each:function(e,t,r){if(e)if(n&&e.forEach&&e.forEach===n)e.forEach(t,r);else if(e.length===e.length+0){var o,i=void 0;for(i=0,o=e.length;i<o;i++)if(i in e&&t.call(r,e[i],i)===this.BREAK)return}else for(var a in e)if(t.call(r,e[a],a)===this.BREAK)return},defer:function(e){setTimeout(e,0)},debounce:function(e,t,n){var r=void 0;return function(){var o=this,i=arguments;var a=n||!r;clearTimeout(r),r=setTimeout(function(){r=null,n||e.apply(o,i)},t),a&&e.apply(o,i)}},toArray:function(e){return e.toArray?e.toArray():r.call(e)},isUndefined:function(e){return void 0===e},isNull:function(e){return null===e},isNaN:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(e){return isNaN(e)}),isArray:Array.isArray||function(e){return e.constructor===Array},isObject:function(e){return e===Object(e)},isNumber:function(e){return e===e+0},isString:function(e){return e===e+""},isBoolean:function(e){return!1===e||!0===e},isFunction:function(e){return"[object Function]"===Object.prototype.toString.call(e)}};t.default=o,e.exports=t.default},function(e,t){"use strict";t.__esModule=!0;var n=void 0,r={hsv_to_rgb:function(e,t,n){var r=Math.floor(e/60)%6,o=e/60-Math.floor(e/60),i=n*(1-t),a=n*(1-o*t),s=n*(1-(1-o)*t),l=[[n,s,i],[a,n,i],[i,n,s],[i,a,n],[s,i,n],[n,i,a]][r];return{r:255*l[0],g:255*l[1],b:255*l[2]}},rgb_to_hsv:function(e,t,n){var r=Math.min(e,t,n),o=Math.max(e,t,n),i=o-r,a=void 0;return 0===o?{h:NaN,s:0,v:0}:(a=e===o?(t-n)/i:t===o?2+(n-e)/i:4+(e-t)/i,(a/=6)<0&&(a+=1),{h:360*a,s:i/o,v:o/255})},rgb_to_hex:function(e,t,n){var r=this.hex_with_component(0,2,e);return r=this.hex_with_component(r,1,t),r=this.hex_with_component(r,0,n)},component_from_hex:function(e,t){return e>>8*t&255},hex_with_component:function(e,t,r){return r<<(n=8*t)|e&~(255<<n)}};t.default=r,e.exports=t.default},function(e,t){"use strict";t.__esModule=!0;var n=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.initialValue=t[n],this.domElement=document.createElement("div"),this.object=t,this.property=n,this.__onChange=void 0,this.__onFinishChange=void 0}return e.prototype.onChange=function(e){return this.__onChange=e,this},e.prototype.onFinishChange=function(e){return this.__onFinishChange=e,this},e.prototype.setValue=function(e){return this.object[this.property]=e,this.__onChange&&this.__onChange.call(this,e),this.updateDisplay(),this},e.prototype.getValue=function(){return this.object[this.property]},e.prototype.updateDisplay=function(){return this},e.prototype.isModified=function(){return this.initialValue!==this.getValue()},e}();t.default=n,e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0;var r=i(n(7)),o=i(n(9));function i(e){return e&&e.__esModule?e:{default:e}}var a=function(e){function t(n,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var i=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n,r)),a=i;return i.__prev=i.getValue(),i.__checkbox=document.createElement("input"),i.__checkbox.setAttribute("type","checkbox"),o.default.bind(i.__checkbox,"change",function(){a.setValue(!a.__prev)},!1),i.domElement.appendChild(i.__checkbox),i.updateDisplay(),i}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.setValue=function(t){var n=e.prototype.setValue.call(this,t);return this.__onFinishChange&&this.__onFinishChange.call(this,this.getValue()),this.__prev=this.getValue(),n},t.prototype.updateDisplay=function(){return!0===this.getValue()?(this.__checkbox.setAttribute("checked","checked"),this.__checkbox.checked=!0,this.__prev=!0):(this.__checkbox.checked=!1,this.__prev=!1),e.prototype.updateDisplay.call(this)},t}(r.default);t.default=a,e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0;var r,o=n(5),i=(r=o)&&r.__esModule?r:{default:r};var a={};i.default.each({HTMLEvents:["change"],MouseEvents:["click","mousemove","mousedown","mouseup","mouseover"],KeyboardEvents:["keydown"]},function(e,t){i.default.each(e,function(e){a[e]=t})});var s=/(\d+(\.\d+)?)px/;function l(e){if("0"===e||i.default.isUndefined(e))return 0;var t=e.match(s);return i.default.isNull(t)?0:parseFloat(t[1])}var u={makeSelectable:function(e,t){void 0!==e&&void 0!==e.style&&(e.onselectstart=t?function(){return!1}:function(){},e.style.MozUserSelect=t?"auto":"none",e.style.KhtmlUserSelect=t?"auto":"none",e.unselectable=t?"on":"off")},makeFullscreen:function(e,t,n){var r=n,o=t;i.default.isUndefined(o)&&(o=!0),i.default.isUndefined(r)&&(r=!0),e.style.position="absolute",o&&(e.style.left=0,e.style.right=0),r&&(e.style.top=0,e.style.bottom=0)},fakeEvent:function(e,t,n,r){var o=n||{},s=a[t];if(!s)throw new Error("Event type "+t+" not supported.");var l=document.createEvent(s);switch(s){case"MouseEvents":var u=o.x||o.clientX||0,c=o.y||o.clientY||0;l.initMouseEvent(t,o.bubbles||!1,o.cancelable||!0,window,o.clickCount||1,0,0,u,c,!1,!1,!1,!1,0,null);break;case"KeyboardEvents":var d=l.initKeyboardEvent||l.initKeyEvent;i.default.defaults(o,{cancelable:!0,ctrlKey:!1,altKey:!1,shiftKey:!1,metaKey:!1,keyCode:void 0,charCode:void 0}),d(t,o.bubbles||!1,o.cancelable,window,o.ctrlKey,o.altKey,o.shiftKey,o.metaKey,o.keyCode,o.charCode);break;default:l.initEvent(t,o.bubbles||!1,o.cancelable||!0)}i.default.defaults(l,r),e.dispatchEvent(l)},bind:function(e,t,n,r){var o=r||!1;return e.addEventListener?e.addEventListener(t,n,o):e.attachEvent&&e.attachEvent("on"+t,n),u},unbind:function(e,t,n,r){var o=r||!1;return e.removeEventListener?e.removeEventListener(t,n,o):e.detachEvent&&e.detachEvent("on"+t,n),u},addClass:function(e,t){if(void 0===e.className)e.className=t;else if(e.className!==t){var n=e.className.split(/ +/);-1===n.indexOf(t)&&(n.push(t),e.className=n.join(" ").replace(/^\s+/,"").replace(/\s+$/,""))}return u},removeClass:function(e,t){if(t)if(e.className===t)e.removeAttribute("class");else{var n=e.className.split(/ +/),r=n.indexOf(t);-1!==r&&(n.splice(r,1),e.className=n.join(" "))}else e.className=void 0;return u},hasClass:function(e,t){return new RegExp("(?:^|\\s+)"+t+"(?:\\s+|$)").test(e.className)||!1},getWidth:function(e){var t=getComputedStyle(e);return l(t["border-left-width"])+l(t["border-right-width"])+l(t["padding-left"])+l(t["padding-right"])+l(t.width)},getHeight:function(e){var t=getComputedStyle(e);return l(t["border-top-width"])+l(t["border-bottom-width"])+l(t["padding-top"])+l(t["padding-bottom"])+l(t.height)},getOffset:function(e){var t=e,n={left:0,top:0};if(t.offsetParent)do{n.left+=t.offsetLeft,n.top+=t.offsetTop,t=t.offsetParent}while(t);return n},isActive:function(e){return e===document.activeElement&&(e.type||e.href)}};t.default=u,e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0;var r=a(n(7)),o=a(n(9)),i=a(n(5));function a(e){return e&&e.__esModule?e:{default:e}}var s=function(e){function t(n,r,a){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var s=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n,r)),l=a,u=s;if(s.__select=document.createElement("select"),i.default.isArray(l)){var c={};i.default.each(l,function(e){c[e]=e}),l=c}return i.default.each(l,function(e,t){var n=document.createElement("option");n.innerHTML=t,n.setAttribute("value",e),u.__select.appendChild(n)}),s.updateDisplay(),o.default.bind(s.__select,"change",function(){var e=this.options[this.selectedIndex].value;u.setValue(e)}),s.domElement.appendChild(s.__select),s}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.setValue=function(t){var n=e.prototype.setValue.call(this,t);return this.__onFinishChange&&this.__onFinishChange.call(this,this.getValue()),n},t.prototype.updateDisplay=function(){return o.default.isActive(this.__select)?this:(this.__select.value=this.getValue(),e.prototype.updateDisplay.call(this))},t}(r.default);t.default=s,e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0;var r=i(n(7)),o=i(n(9));function i(e){return e&&e.__esModule?e:{default:e}}var a=function(e){function t(n,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var i=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n,r)),a=i;function s(){a.setValue(a.__input.value)}return i.__input=document.createElement("input"),i.__input.setAttribute("type","text"),o.default.bind(i.__input,"keyup",s),o.default.bind(i.__input,"change",s),o.default.bind(i.__input,"blur",function(){a.__onFinishChange&&a.__onFinishChange.call(a,a.getValue())}),o.default.bind(i.__input,"keydown",function(e){13===e.keyCode&&this.blur()}),i.updateDisplay(),i.domElement.appendChild(i.__input),i}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.updateDisplay=function(){return o.default.isActive(this.__input)||(this.__input.value=this.getValue()),e.prototype.updateDisplay.call(this)},t}(r.default);t.default=a,e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0;var r=i(n(7)),o=i(n(5));function i(e){return e&&e.__esModule?e:{default:e}}function a(e){var t=e.toString();return t.indexOf(".")>-1?t.length-t.indexOf(".")-1:0}var s=function(e){function t(n,r,i){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var s=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n,r)),l=i||{};return s.__min=l.min,s.__max=l.max,s.__step=l.step,o.default.isUndefined(s.__step)?0===s.initialValue?s.__impliedStep=1:s.__impliedStep=Math.pow(10,Math.floor(Math.log(Math.abs(s.initialValue))/Math.LN10))/10:s.__impliedStep=s.__step,s.__precision=a(s.__impliedStep),s}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.setValue=function(t){var n=t;return void 0!==this.__min&&n<this.__min?n=this.__min:void 0!==this.__max&&n>this.__max&&(n=this.__max),void 0!==this.__step&&n%this.__step!=0&&(n=Math.round(n/this.__step)*this.__step),e.prototype.setValue.call(this,n)},t.prototype.min=function(e){return this.__min=e,this},t.prototype.max=function(e){return this.__max=e,this},t.prototype.step=function(e){return this.__step=e,this.__impliedStep=e,this.__precision=a(e),this},t}(r.default);t.default=s,e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0;var r=a(n(12)),o=a(n(9)),i=a(n(5));function a(e){return e&&e.__esModule?e:{default:e}}var s=function(e){function t(n,r,a){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var s=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n,r,a));s.__truncationSuspended=!1;var l=s,u=void 0;function c(){l.__onFinishChange&&l.__onFinishChange.call(l,l.getValue())}function d(e){var t=u-e.clientY;l.setValue(l.getValue()+t*l.__impliedStep),u=e.clientY}function f(){o.default.unbind(window,"mousemove",d),o.default.unbind(window,"mouseup",f),c()}return s.__input=document.createElement("input"),s.__input.setAttribute("type","text"),o.default.bind(s.__input,"change",function(){var e=parseFloat(l.__input.value);i.default.isNaN(e)||l.setValue(e)}),o.default.bind(s.__input,"blur",function(){c()}),o.default.bind(s.__input,"mousedown",function(e){o.default.bind(window,"mousemove",d),o.default.bind(window,"mouseup",f),u=e.clientY}),o.default.bind(s.__input,"keydown",function(e){13===e.keyCode&&(l.__truncationSuspended=!0,this.blur(),l.__truncationSuspended=!1,c())}),s.updateDisplay(),s.domElement.appendChild(s.__input),s}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.updateDisplay=function(){var t,n,r;return this.__input.value=this.__truncationSuspended?this.getValue():(t=this.getValue(),n=this.__precision,r=Math.pow(10,n),Math.round(t*r)/r),e.prototype.updateDisplay.call(this)},t}(r.default);t.default=s,e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0;var r=i(n(12)),o=i(n(9));function i(e){return e&&e.__esModule?e:{default:e}}var a=function(e){function t(n,r,i,a,s){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var l=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n,r,{min:i,max:a,step:s})),u=l;function c(e){e.preventDefault();var t,n,r,o,i,a=u.__background.getBoundingClientRect();return u.setValue((t=e.clientX,n=a.left,r=a.right,o=u.__min,i=u.__max,o+(t-n)/(r-n)*(i-o))),!1}function d(){o.default.unbind(window,"mousemove",c),o.default.unbind(window,"mouseup",d),u.__onFinishChange&&u.__onFinishChange.call(u,u.getValue())}return l.__background=document.createElement("div"),l.__foreground=document.createElement("div"),o.default.bind(l.__background,"mousedown",function(e){document.activeElement.blur(),o.default.bind(window,"mousemove",c),o.default.bind(window,"mouseup",d),c(e)}),o.default.addClass(l.__background,"slider"),o.default.addClass(l.__foreground,"slider-fg"),l.updateDisplay(),l.__background.appendChild(l.__foreground),l.domElement.appendChild(l.__background),l}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.updateDisplay=function(){var t=(this.getValue()-this.__min)/(this.__max-this.__min);return this.__foreground.style.width=100*t+"%",e.prototype.updateDisplay.call(this)},t}(r.default);t.default=a,e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0;var r=i(n(7)),o=i(n(9));function i(e){return e&&e.__esModule?e:{default:e}}var a=function(e){function t(n,r,i){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n,r)),s=a;return a.__button=document.createElement("div"),a.__button.innerHTML=void 0===i?"Fire":i,o.default.bind(a.__button,"click",function(e){return e.preventDefault(),s.fire(),!1}),o.default.addClass(a.__button,"button"),a.domElement.appendChild(a.__button),a}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.fire=function(){this.__onChange&&this.__onChange.call(this),this.getValue().call(this.object),this.__onFinishChange&&this.__onFinishChange.call(this,this.getValue())},t}(r.default);t.default=a,e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0;var r=l(n(7)),o=l(n(9)),i=l(n(2)),a=l(n(3)),s=l(n(5));function l(e){return e&&e.__esModule?e:{default:e}}var u=function(e){function t(n,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var l=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n,r));l.__color=new i.default(l.getValue()),l.__temp=new i.default(0);var u=l;l.domElement=document.createElement("div"),o.default.makeSelectable(l.domElement,!1),l.__selector=document.createElement("div"),l.__selector.className="selector",l.__saturation_field=document.createElement("div"),l.__saturation_field.className="saturation-field",l.__field_knob=document.createElement("div"),l.__field_knob.className="field-knob",l.__field_knob_border="2px solid ",l.__hue_knob=document.createElement("div"),l.__hue_knob.className="hue-knob",l.__hue_field=document.createElement("div"),l.__hue_field.className="hue-field",l.__input=document.createElement("input"),l.__input.type="text",l.__input_textShadow="0 1px 1px ",o.default.bind(l.__input,"keydown",function(e){13===e.keyCode&&_.call(this)}),o.default.bind(l.__input,"blur",_),o.default.bind(l.__selector,"mousedown",function(){o.default.addClass(this,"drag").bind(window,"mouseup",function(){o.default.removeClass(u.__selector,"drag")})});var c,f=document.createElement("div");function h(e){b(e),o.default.bind(window,"mousemove",b),o.default.bind(window,"mouseup",p)}function p(){o.default.unbind(window,"mousemove",b),o.default.unbind(window,"mouseup",p),g()}function _(){var e=(0,a.default)(this.value);!1!==e?(u.__color.__state=e,u.setValue(u.__color.toOriginal())):this.value=u.__color.toString()}function m(){o.default.unbind(window,"mousemove",v),o.default.unbind(window,"mouseup",m),g()}function g(){u.__onFinishChange&&u.__onFinishChange.call(u,u.__color.toOriginal())}function b(e){e.preventDefault();var t=u.__saturation_field.getBoundingClientRect(),n=(e.clientX-t.left)/(t.right-t.left),r=1-(e.clientY-t.top)/(t.bottom-t.top);return r>1?r=1:r<0&&(r=0),n>1?n=1:n<0&&(n=0),u.__color.v=r,u.__color.s=n,u.setValue(u.__color.toOriginal()),!1}function v(e){e.preventDefault();var t=u.__hue_field.getBoundingClientRect(),n=1-(e.clientY-t.top)/(t.bottom-t.top);return n>1?n=1:n<0&&(n=0),u.__color.h=360*n,u.setValue(u.__color.toOriginal()),!1}return s.default.extend(l.__selector.style,{width:"122px",height:"102px",padding:"3px",backgroundColor:"#222",boxShadow:"0px 1px 3px rgba(0,0,0,0.3)"}),s.default.extend(l.__field_knob.style,{position:"absolute",width:"12px",height:"12px",border:l.__field_knob_border+(l.__color.v<.5?"#fff":"#000"),boxShadow:"0px 1px 3px rgba(0,0,0,0.5)",borderRadius:"12px",zIndex:1}),s.default.extend(l.__hue_knob.style,{position:"absolute",width:"15px",height:"2px",borderRight:"4px solid #fff",zIndex:1}),s.default.extend(l.__saturation_field.style,{width:"100px",height:"100px",border:"1px solid #555",marginRight:"3px",display:"inline-block",cursor:"pointer"}),s.default.extend(f.style,{width:"100%",height:"100%",background:"none"}),d(f,"top","rgba(0,0,0,0)","#000"),s.default.extend(l.__hue_field.style,{width:"15px",height:"100px",border:"1px solid #555",cursor:"ns-resize",position:"absolute",top:"3px",right:"3px"}),(c=l.__hue_field).style.background="",c.style.cssText+="background: -moz-linear-gradient(top,  #ff0000 0%, #ff00ff 17%, #0000ff 34%, #00ffff 50%, #00ff00 67%, #ffff00 84%, #ff0000 100%);",c.style.cssText+="background: -webkit-linear-gradient(top,  #ff0000 0%,#ff00ff 17%,#0000ff 34%,#00ffff 50%,#00ff00 67%,#ffff00 84%,#ff0000 100%);",c.style.cssText+="background: -o-linear-gradient(top,  #ff0000 0%,#ff00ff 17%,#0000ff 34%,#00ffff 50%,#00ff00 67%,#ffff00 84%,#ff0000 100%);",c.style.cssText+="background: -ms-linear-gradient(top,  #ff0000 0%,#ff00ff 17%,#0000ff 34%,#00ffff 50%,#00ff00 67%,#ffff00 84%,#ff0000 100%);",c.style.cssText+="background: linear-gradient(top,  #ff0000 0%,#ff00ff 17%,#0000ff 34%,#00ffff 50%,#00ff00 67%,#ffff00 84%,#ff0000 100%);",s.default.extend(l.__input.style,{outline:"none",textAlign:"center",color:"#fff",border:0,fontWeight:"bold",textShadow:l.__input_textShadow+"rgba(0,0,0,0.7)"}),o.default.bind(l.__saturation_field,"mousedown",h),o.default.bind(l.__field_knob,"mousedown",h),o.default.bind(l.__hue_field,"mousedown",function(e){v(e),o.default.bind(window,"mousemove",v),o.default.bind(window,"mouseup",m)}),l.__saturation_field.appendChild(f),l.__selector.appendChild(l.__field_knob),l.__selector.appendChild(l.__saturation_field),l.__selector.appendChild(l.__hue_field),l.__hue_field.appendChild(l.__hue_knob),l.domElement.appendChild(l.__input),l.domElement.appendChild(l.__selector),l.updateDisplay(),l}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.updateDisplay=function(){var e=(0,a.default)(this.getValue());if(!1!==e){var t=!1;s.default.each(i.default.COMPONENTS,function(n){if(!s.default.isUndefined(e[n])&&!s.default.isUndefined(this.__color.__state[n])&&e[n]!==this.__color.__state[n])return t=!0,{}},this),t&&s.default.extend(this.__color.__state,e)}s.default.extend(this.__temp.__state,this.__color.__state),this.__temp.a=1;var n=this.__color.v<.5||this.__color.s>.5?255:0,r=255-n;s.default.extend(this.__field_knob.style,{marginLeft:100*this.__color.s-7+"px",marginTop:100*(1-this.__color.v)-7+"px",backgroundColor:this.__temp.toHexString(),border:this.__field_knob_border+"rgb("+n+","+n+","+n+")"}),this.__hue_knob.style.marginTop=100*(1-this.__color.h/360)+"px",this.__temp.s=1,this.__temp.v=1,d(this.__saturation_field,"left","#fff",this.__temp.toHexString()),this.__input.value=this.__color.toString(),s.default.extend(this.__input.style,{backgroundColor:this.__color.toHexString(),color:"rgb("+n+","+n+","+n+")",textShadow:this.__input_textShadow+"rgba("+r+","+r+","+r+",.7)"})},t}(r.default),c=["-moz-","-o-","-webkit-","-ms-",""];function d(e,t,n,r){e.style.background="",s.default.each(c,function(o){e.style.cssText+="background: "+o+"linear-gradient("+t+", "+n+" 0%, "+r+" 100%); "})}t.default=u,e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0;var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=b(n(18)),i=b(n(19)),a=b(n(20)),s=b(n(7)),l=b(n(8)),u=b(n(15)),c=b(n(13)),d=b(n(14)),f=b(n(16)),h=b(n(21)),p=b(n(22)),_=b(n(9)),m=b(n(5)),g=b(n(23));function b(e){return e&&e.__esModule?e:{default:e}}o.default.inject(g.default);var v="Default",y=function(){try{return"localStorage"in window&&null!==window.localStorage}catch(e){return!1}}(),x=void 0,w=!0,E=void 0,A=!1,T=[],$=function e(t){var n=this,r=t||{};this.domElement=document.createElement("div"),this.__ul=document.createElement("ul"),this.domElement.appendChild(this.__ul),_.default.addClass(this.domElement,"dg"),this.__folders={},this.__controllers=[],this.__rememberedObjects=[],this.__rememberedObjectIndecesToControllers=[],this.__listening=[],r=m.default.defaults(r,{closeOnTop:!1,autoPlace:!0,width:e.DEFAULT_WIDTH}),r=m.default.defaults(r,{resizable:r.autoPlace,hideable:r.autoPlace}),m.default.isUndefined(r.load)?r.load={preset:v}:r.preset&&(r.load.preset=r.preset),m.default.isUndefined(r.parent)&&r.hideable&&T.push(this),r.resizable=m.default.isUndefined(r.parent)&&r.resizable,r.autoPlace&&m.default.isUndefined(r.scrollable)&&(r.scrollable=!0);var o,i=y&&"true"===localStorage.getItem(R(this,"isLocal")),a=void 0;if(Object.defineProperties(this,{parent:{get:function(){return r.parent}},scrollable:{get:function(){return r.scrollable}},autoPlace:{get:function(){return r.autoPlace}},closeOnTop:{get:function(){return r.closeOnTop}},preset:{get:function(){return n.parent?n.getRoot().preset:r.load.preset},set:function(e){n.parent?n.getRoot().preset=e:r.load.preset=e,function(e){for(var t=0;t<e.__preset_select.length;t++)e.__preset_select[t].value===e.preset&&(e.__preset_select.selectedIndex=t)}(this),n.revert()}},width:{get:function(){return r.width},set:function(e){r.width=e,L(n,e)}},name:{get:function(){return r.name},set:function(e){r.name=e,titleRowName&&(titleRowName.innerHTML=r.name)}},closed:{get:function(){return r.closed},set:function(t){r.closed=t,r.closed?_.default.addClass(n.__ul,e.CLASS_CLOSED):_.default.removeClass(n.__ul,e.CLASS_CLOSED),this.onResize(),n.__closeButton&&(n.__closeButton.innerHTML=t?e.TEXT_OPEN:e.TEXT_CLOSED)}},load:{get:function(){return r.load}},useLocalStorage:{get:function(){return i},set:function(e){y&&(i=e,e?_.default.bind(window,"unload",a):_.default.unbind(window,"unload",a),localStorage.setItem(R(n,"isLocal"),e))}}}),m.default.isUndefined(r.parent)){if(r.closed=!1,_.default.addClass(this.domElement,e.CLASS_MAIN),_.default.makeSelectable(this.domElement,!1),y&&i){n.useLocalStorage=!0;var s=localStorage.getItem(R(this,"gui"));s&&(r.load=JSON.parse(s))}this.__closeButton=document.createElement("div"),this.__closeButton.innerHTML=e.TEXT_CLOSED,_.default.addClass(this.__closeButton,e.CLASS_CLOSE_BUTTON),r.closeOnTop?(_.default.addClass(this.__closeButton,e.CLASS_CLOSE_TOP),this.domElement.insertBefore(this.__closeButton,this.domElement.childNodes[0])):(_.default.addClass(this.__closeButton,e.CLASS_CLOSE_BOTTOM),this.domElement.appendChild(this.__closeButton)),_.default.bind(this.__closeButton,"click",function(){n.closed=!n.closed})}else{void 0===r.closed&&(r.closed=!0);var l=document.createTextNode(r.name);_.default.addClass(l,"controller-name");var u=S(n,l);_.default.addClass(this.__ul,e.CLASS_CLOSED),_.default.addClass(u,"title"),_.default.bind(u,"click",function(e){return e.preventDefault(),n.closed=!n.closed,!1}),r.closed||(this.closed=!1)}r.autoPlace&&(m.default.isUndefined(r.parent)&&(w&&(E=document.createElement("div"),_.default.addClass(E,"dg"),_.default.addClass(E,e.CLASS_AUTO_PLACE_CONTAINER),document.body.appendChild(E),w=!1),E.appendChild(this.domElement),_.default.addClass(this.domElement,e.CLASS_AUTO_PLACE)),this.parent||L(n,r.width)),this.__resizeHandler=function(){n.onResizeDebounced()},_.default.bind(window,"resize",this.__resizeHandler),_.default.bind(this.__ul,"webkitTransitionEnd",this.__resizeHandler),_.default.bind(this.__ul,"transitionend",this.__resizeHandler),_.default.bind(this.__ul,"oTransitionEnd",this.__resizeHandler),this.onResize(),r.resizable&&function(e){var t=void 0;function n(n){return n.preventDefault(),e.width+=t-n.clientX,e.onResize(),t=n.clientX,!1}function r(){_.default.removeClass(e.__closeButton,$.CLASS_DRAG),_.default.unbind(window,"mousemove",n),_.default.unbind(window,"mouseup",r)}function o(o){return o.preventDefault(),t=o.clientX,_.default.addClass(e.__closeButton,$.CLASS_DRAG),_.default.bind(window,"mousemove",n),_.default.bind(window,"mouseup",r),!1}e.__resize_handle=document.createElement("div"),m.default.extend(e.__resize_handle.style,{width:"6px",marginLeft:"-3px",height:"200px",cursor:"ew-resize",position:"absolute"}),_.default.bind(e.__resize_handle,"mousedown",o),_.default.bind(e.__closeButton,"mousedown",o),e.domElement.insertBefore(e.__resize_handle,e.domElement.firstElementChild)}(this),a=function(){y&&"true"===localStorage.getItem(R(n,"isLocal"))&&localStorage.setItem(R(n,"gui"),JSON.stringify(n.getSaveObject()))},this.saveToLocalStorageIfPossible=a,r.parent||((o=n.getRoot()).width+=1,m.default.defer(function(){o.width-=1}))};function S(e,t,n){var r=document.createElement("li");return t&&r.appendChild(t),n?e.__ul.insertBefore(r,n):e.__ul.appendChild(r),e.onResize(),r}function C(e,t){var n=e.__preset_select[e.__preset_select.selectedIndex];n.innerHTML=t?n.value+"*":n.value}function k(e,t){var n=e.getRoot(),r=n.__rememberedObjects.indexOf(t.object);if(-1!==r){var o=n.__rememberedObjectIndecesToControllers[r];if(void 0===o&&(o={},n.__rememberedObjectIndecesToControllers[r]=o),o[t.property]=t,n.load&&n.load.remembered){var i=n.load.remembered,a=void 0;if(i[e.preset])a=i[e.preset];else{if(!i[v])return;a=i[v]}if(a[r]&&void 0!==a[r][t.property]){var s=a[r][t.property];t.initialValue=s,t.setValue(s)}}}}function j(e,t,n,o){if(void 0===t[n])throw new Error('Object "'+t+'" has no property "'+n+'"');var i=void 0;if(o.color)i=new f.default(t,n);else{var h=[t,n].concat(o.factoryArgs);i=a.default.apply(e,h)}o.before instanceof s.default&&(o.before=o.before.__li),k(e,i),_.default.addClass(i.domElement,"c");var p=document.createElement("span");_.default.addClass(p,"property-name"),p.innerHTML=i.property;var g=document.createElement("div");g.appendChild(p),g.appendChild(i.domElement);var b=S(e,g,o.before);return _.default.addClass(b,$.CLASS_CONTROLLER_ROW),i instanceof f.default?_.default.addClass(b,"color"):_.default.addClass(b,r(i.getValue())),function(e,t,n){if(n.__li=t,n.__gui=e,m.default.extend(n,{options:function(t){if(arguments.length>1){var r=n.__li.nextElementSibling;return n.remove(),j(e,n.object,n.property,{before:r,factoryArgs:[m.default.toArray(arguments)]})}if(m.default.isArray(t)||m.default.isObject(t)){var o=n.__li.nextElementSibling;return n.remove(),j(e,n.object,n.property,{before:o,factoryArgs:[t]})}},name:function(e){return n.__li.firstElementChild.firstElementChild.innerHTML=e,n},listen:function(){return n.__gui.listen(n),n},remove:function(){return n.__gui.remove(n),n}}),n instanceof d.default){var r=new c.default(n.object,n.property,{min:n.__min,max:n.__max,step:n.__step});m.default.each(["updateDisplay","onChange","onFinishChange","step"],function(e){var t=n[e],o=r[e];n[e]=r[e]=function(){var e=Array.prototype.slice.call(arguments);return o.apply(r,e),t.apply(n,e)}}),_.default.addClass(t,"has-slider"),n.domElement.insertBefore(r.domElement,n.domElement.firstElementChild)}else if(n instanceof c.default){var o=function(t){if(m.default.isNumber(n.__min)&&m.default.isNumber(n.__max)){var r=n.__li.firstElementChild.firstElementChild.innerHTML,o=n.__gui.__listening.indexOf(n)>-1;n.remove();var i=j(e,n.object,n.property,{before:n.__li.nextElementSibling,factoryArgs:[n.__min,n.__max,n.__step]});return i.name(r),o&&i.listen(),i}return t};n.min=m.default.compose(o,n.min),n.max=m.default.compose(o,n.max)}else n instanceof l.default?(_.default.bind(t,"click",function(){_.default.fakeEvent(n.__checkbox,"click")}),_.default.bind(n.__checkbox,"click",function(e){e.stopPropagation()})):n instanceof u.default?(_.default.bind(t,"click",function(){_.default.fakeEvent(n.__button,"click")}),_.default.bind(t,"mouseover",function(){_.default.addClass(n.__button,"hover")}),_.default.bind(t,"mouseout",function(){_.default.removeClass(n.__button,"hover")})):n instanceof f.default&&(_.default.addClass(t,"color"),n.updateDisplay=m.default.compose(function(e){return t.style.borderLeftColor=n.__color.toString(),e},n.updateDisplay),n.updateDisplay());n.setValue=m.default.compose(function(t){return e.getRoot().__preset_select&&n.isModified()&&C(e.getRoot(),!0),t},n.setValue)}(e,b,i),e.__controllers.push(i),i}function R(e,t){return document.location.href+"."+t}function O(e,t,n){var r=document.createElement("option");r.innerHTML=t,r.value=t,e.__preset_select.appendChild(r),n&&(e.__preset_select.selectedIndex=e.__preset_select.length-1)}function M(e,t){t.style.display=e.useLocalStorage?"block":"none"}function L(e,t){e.domElement.style.width=t+"px",e.__save_row&&e.autoPlace&&(e.__save_row.style.width=t+"px"),e.__closeButton&&(e.__closeButton.style.width=t+"px")}function P(e,t){var n={};return m.default.each(e.__rememberedObjects,function(r,o){var i={},a=e.__rememberedObjectIndecesToControllers[o];m.default.each(a,function(e,n){i[n]=t?e.initialValue:e.getValue()}),n[o]=i}),n}$.toggleHide=function(){A=!A,m.default.each(T,function(e){e.domElement.style.display=A?"none":""})},$.CLASS_AUTO_PLACE="a",$.CLASS_AUTO_PLACE_CONTAINER="ac",$.CLASS_MAIN="main",$.CLASS_CONTROLLER_ROW="cr",$.CLASS_TOO_TALL="taller-than-window",$.CLASS_CLOSED="closed",$.CLASS_CLOSE_BUTTON="close-button",$.CLASS_CLOSE_TOP="close-top",$.CLASS_CLOSE_BOTTOM="close-bottom",$.CLASS_DRAG="drag",$.DEFAULT_WIDTH=245,$.TEXT_CLOSED="Close Controls",$.TEXT_OPEN="Open Controls",$._keydownHandler=function(e){"text"===document.activeElement.type||72!==e.which&&72!==e.keyCode||$.toggleHide()},_.default.bind(window,"keydown",$._keydownHandler,!1),m.default.extend($.prototype,{add:function(e,t){return j(this,e,t,{factoryArgs:Array.prototype.slice.call(arguments,2)})},addColor:function(e,t){return j(this,e,t,{color:!0})},remove:function(e){this.__ul.removeChild(e.__li),this.__controllers.splice(this.__controllers.indexOf(e),1);var t=this;m.default.defer(function(){t.onResize()})},destroy:function(){this.autoPlace&&E.removeChild(this.domElement),_.default.unbind(window,"keydown",$._keydownHandler,!1),_.default.unbind(window,"resize",this.__resizeHandler),this.saveToLocalStorageIfPossible&&_.default.unbind(window,"unload",this.saveToLocalStorageIfPossible)},addFolder:function(e){if(void 0!==this.__folders[e])throw new Error('You already have a folder in this GUI by the name "'+e+'"');var t={name:e,parent:this};t.autoPlace=this.autoPlace,this.load&&this.load.folders&&this.load.folders[e]&&(t.closed=this.load.folders[e].closed,t.load=this.load.folders[e]);var n=new $(t);this.__folders[e]=n;var r=S(this,n.domElement);return _.default.addClass(r,"folder"),n},open:function(){this.closed=!1},close:function(){this.closed=!0},onResize:function(){var e=this.getRoot();if(e.scrollable){var t=_.default.getOffset(e.__ul).top,n=0;m.default.each(e.__ul.childNodes,function(t){e.autoPlace&&t===e.__save_row||(n+=_.default.getHeight(t))}),window.innerHeight-t-20<n?(_.default.addClass(e.domElement,$.CLASS_TOO_TALL),e.__ul.style.height=window.innerHeight-t-20+"px"):(_.default.removeClass(e.domElement,$.CLASS_TOO_TALL),e.__ul.style.height="auto")}e.__resize_handle&&m.default.defer(function(){e.__resize_handle.style.height=e.__ul.offsetHeight+"px"}),e.__closeButton&&(e.__closeButton.style.width=e.width+"px")},onResizeDebounced:m.default.debounce(function(){this.onResize()},50),remember:function(){if(m.default.isUndefined(x)&&((x=new p.default).domElement.innerHTML=i.default),this.parent)throw new Error("You can only call remember on a top level GUI.");var e=this;m.default.each(Array.prototype.slice.call(arguments),function(t){0===e.__rememberedObjects.length&&function(e){var t=e.__save_row=document.createElement("li");_.default.addClass(e.domElement,"has-save"),e.__ul.insertBefore(t,e.__ul.firstChild),_.default.addClass(t,"save-row");var n=document.createElement("span");n.innerHTML="&nbsp;",_.default.addClass(n,"button gears");var r=document.createElement("span");r.innerHTML="Save",_.default.addClass(r,"button"),_.default.addClass(r,"save");var o=document.createElement("span");o.innerHTML="New",_.default.addClass(o,"button"),_.default.addClass(o,"save-as");var i=document.createElement("span");i.innerHTML="Revert",_.default.addClass(i,"button"),_.default.addClass(i,"revert");var a=e.__preset_select=document.createElement("select");e.load&&e.load.remembered?m.default.each(e.load.remembered,function(t,n){O(e,n,n===e.preset)}):O(e,v,!1);if(_.default.bind(a,"change",function(){for(var t=0;t<e.__preset_select.length;t++)e.__preset_select[t].innerHTML=e.__preset_select[t].value;e.preset=this.value}),t.appendChild(a),t.appendChild(n),t.appendChild(r),t.appendChild(o),t.appendChild(i),y){var s=document.getElementById("dg-local-explain"),l=document.getElementById("dg-local-storage"),u=document.getElementById("dg-save-locally");u.style.display="block","true"===localStorage.getItem(R(e,"isLocal"))&&l.setAttribute("checked","checked"),M(e,s),_.default.bind(l,"change",function(){e.useLocalStorage=!e.useLocalStorage,M(e,s)})}var c=document.getElementById("dg-new-constructor");_.default.bind(c,"keydown",function(e){!e.metaKey||67!==e.which&&67!==e.keyCode||x.hide()}),_.default.bind(n,"click",function(){c.innerHTML=JSON.stringify(e.getSaveObject(),void 0,2),x.show(),c.focus(),c.select()}),_.default.bind(r,"click",function(){e.save()}),_.default.bind(o,"click",function(){var t=prompt("Enter a new preset name.");t&&e.saveAs(t)}),_.default.bind(i,"click",function(){e.revert()})}(e),-1===e.__rememberedObjects.indexOf(t)&&e.__rememberedObjects.push(t)}),this.autoPlace&&L(this,this.width)},getRoot:function(){for(var e=this;e.parent;)e=e.parent;return e},getSaveObject:function(){var e=this.load;return e.closed=this.closed,this.__rememberedObjects.length>0&&(e.preset=this.preset,e.remembered||(e.remembered={}),e.remembered[this.preset]=P(this)),e.folders={},m.default.each(this.__folders,function(t,n){e.folders[n]=t.getSaveObject()}),e},save:function(){this.load.remembered||(this.load.remembered={}),this.load.remembered[this.preset]=P(this),C(this,!1),this.saveToLocalStorageIfPossible()},saveAs:function(e){this.load.remembered||(this.load.remembered={},this.load.remembered[v]=P(this,!0)),this.load.remembered[e]=P(this),this.preset=e,O(this,e,!0),this.saveToLocalStorageIfPossible()},revert:function(e){m.default.each(this.__controllers,function(t){this.getRoot().load.remembered?k(e||this.getRoot(),t):t.setValue(t.initialValue),t.__onFinishChange&&t.__onFinishChange.call(t,t.getValue())},this),m.default.each(this.__folders,function(e){e.revert(e)}),e||C(this.getRoot(),!1)},listen:function(e){var t=0===this.__listening.length;this.__listening.push(e),t&&function e(t){0!==t.length&&h.default.call(window,function(){e(t)});m.default.each(t,function(e){e.updateDisplay()})}(this.__listening)},updateDisplay:function(){m.default.each(this.__controllers,function(e){e.updateDisplay()}),m.default.each(this.__folders,function(e){e.updateDisplay()})}}),t.default=$,e.exports=t.default},function(e,t){"use strict";e.exports={load:function(e,t){var n=t||document,r=n.createElement("link");r.type="text/css",r.rel="stylesheet",r.href=e,n.getElementsByTagName("head")[0].appendChild(r)},inject:function(e,t){var n=t||document,r=document.createElement("style");r.type="text/css",r.innerHTML=e;var o=n.getElementsByTagName("head")[0];try{o.appendChild(r)}catch(e){}}}},function(e,t){e.exports='<div id="dg-save" class="dg dialogue">\n\n  Here\'s the new load parameter for your <code>GUI</code>\'s constructor:\n\n  <textarea id="dg-new-constructor"></textarea>\n\n  <div id="dg-save-locally">\n\n    <input id="dg-local-storage" type="checkbox"/> Automatically save\n    values to <code>localStorage</code> on exit.\n\n    <div id="dg-local-explain">The values saved to <code>localStorage</code> will\n      override those passed to <code>dat.GUI</code>\'s constructor. This makes it\n      easier to work incrementally, but <code>localStorage</code> is fragile,\n      and your friends may not see the same values you do.\n\n    </div>\n\n  </div>\n\n</div>'},function(e,t,n){"use strict";t.__esModule=!0;var r=c(n(10)),o=c(n(13)),i=c(n(14)),a=c(n(11)),s=c(n(15)),l=c(n(8)),u=c(n(5));function c(e){return e&&e.__esModule?e:{default:e}}t.default=function(e,t){var n=e[t];return u.default.isArray(arguments[2])||u.default.isObject(arguments[2])?new r.default(e,t,arguments[2]):u.default.isNumber(n)?u.default.isNumber(arguments[2])&&u.default.isNumber(arguments[3])?u.default.isNumber(arguments[4])?new i.default(e,t,arguments[2],arguments[3],arguments[4]):new i.default(e,t,arguments[2],arguments[3]):u.default.isNumber(arguments[4])?new o.default(e,t,{min:arguments[2],max:arguments[3],step:arguments[4]}):new o.default(e,t,{min:arguments[2],max:arguments[3]}):u.default.isString(n)?new a.default(e,t):u.default.isFunction(n)?new s.default(e,t,""):u.default.isBoolean(n)?new l.default(e,t):null},e.exports=t.default},function(e,t){"use strict";t.__esModule=!0,t.default=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(e){setTimeout(e,1e3/60)},e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0;var r=i(n(9)),o=i(n(5));function i(e){return e&&e.__esModule?e:{default:e}}var a=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.backgroundElement=document.createElement("div"),o.default.extend(this.backgroundElement.style,{backgroundColor:"rgba(0,0,0,0.8)",top:0,left:0,display:"none",zIndex:"1000",opacity:0,WebkitTransition:"opacity 0.2s linear",transition:"opacity 0.2s linear"}),r.default.makeFullscreen(this.backgroundElement),this.backgroundElement.style.position="fixed",this.domElement=document.createElement("div"),o.default.extend(this.domElement.style,{position:"fixed",display:"none",zIndex:"1001",opacity:0,WebkitTransition:"-webkit-transform 0.2s ease-out, opacity 0.2s linear",transition:"transform 0.2s ease-out, opacity 0.2s linear"}),document.body.appendChild(this.backgroundElement),document.body.appendChild(this.domElement);var t=this;r.default.bind(this.backgroundElement,"click",function(){t.hide()})}return e.prototype.show=function(){var e=this;this.backgroundElement.style.display="block",this.domElement.style.display="block",this.domElement.style.opacity=0,this.domElement.style.webkitTransform="scale(1.1)",this.layout(),o.default.defer(function(){e.backgroundElement.style.opacity=1,e.domElement.style.opacity=1,e.domElement.style.webkitTransform="scale(1)"})},e.prototype.hide=function(){var e=this,t=function t(){e.domElement.style.display="none",e.backgroundElement.style.display="none",r.default.unbind(e.domElement,"webkitTransitionEnd",t),r.default.unbind(e.domElement,"transitionend",t),r.default.unbind(e.domElement,"oTransitionEnd",t)};r.default.bind(this.domElement,"webkitTransitionEnd",t),r.default.bind(this.domElement,"transitionend",t),r.default.bind(this.domElement,"oTransitionEnd",t),this.backgroundElement.style.opacity=0,this.domElement.style.opacity=0,this.domElement.style.webkitTransform="scale(1.1)"},e.prototype.layout=function(){this.domElement.style.left=window.innerWidth/2-r.default.getWidth(this.domElement)/2+"px",this.domElement.style.top=window.innerHeight/2-r.default.getHeight(this.domElement)/2+"px"},e}();t.default=a,e.exports=t.default},function(e,t,n){(e.exports=n(24)()).push([e.id,".dg {\n  /** Clear list styles */\n  /* Auto-place container */\n  /* Auto-placed GUI's */\n  /* Line items that don't contain folders. */\n  /** Folder names */\n  /** Hides closed items */\n  /** Controller row */\n  /** Name-half (left) */\n  /** Controller-half (right) */\n  /** Controller placement */\n  /** Shorter number boxes when slider is present. */\n  /** Ensure the entire boolean and function row shows a hand */\n  /** allow overflow for color selector */ }\n  .dg ul {\n    list-style: none;\n    margin: 0;\n    padding: 0;\n    width: 100%;\n    clear: both; }\n  .dg.ac {\n    position: fixed;\n    top: 0;\n    left: 0;\n    right: 0;\n    height: 0;\n    z-index: 0; }\n  .dg:not(.ac) .main {\n    /** Exclude mains in ac so that we don't hide close button */\n    overflow: hidden; }\n  .dg.main {\n    -webkit-transition: opacity 0.1s linear;\n    -o-transition: opacity 0.1s linear;\n    -moz-transition: opacity 0.1s linear;\n    transition: opacity 0.1s linear; }\n    .dg.main.taller-than-window {\n      overflow-y: auto; }\n      .dg.main.taller-than-window .close-button {\n        opacity: 1;\n        /* TODO, these are style notes */\n        margin-top: -1px;\n        border-top: 1px solid #2c2c2c; }\n    .dg.main ul.closed .close-button {\n      opacity: 1 !important; }\n    .dg.main:hover .close-button,\n    .dg.main .close-button.drag {\n      opacity: 1; }\n    .dg.main .close-button {\n      /*opacity: 0;*/\n      -webkit-transition: opacity 0.1s linear;\n      -o-transition: opacity 0.1s linear;\n      -moz-transition: opacity 0.1s linear;\n      transition: opacity 0.1s linear;\n      border: 0;\n      line-height: 19px;\n      height: 20px;\n      /* TODO, these are style notes */\n      cursor: pointer;\n      text-align: center;\n      background-color: #000; }\n      .dg.main .close-button.close-top {\n        position: relative; }\n      .dg.main .close-button.close-bottom {\n        position: absolute; }\n      .dg.main .close-button:hover {\n        background-color: #111; }\n  .dg.a {\n    float: right;\n    margin-right: 15px;\n    overflow-y: visible; }\n    .dg.a.has-save > ul.close-top {\n      margin-top: 0; }\n    .dg.a.has-save > ul.close-bottom {\n      margin-top: 27px; }\n    .dg.a.has-save > ul.closed {\n      margin-top: 0; }\n    .dg.a .save-row {\n      top: 0;\n      z-index: 1002; }\n      .dg.a .save-row.close-top {\n        position: relative; }\n      .dg.a .save-row.close-bottom {\n        position: fixed; }\n  .dg li {\n    -webkit-transition: height 0.1s ease-out;\n    -o-transition: height 0.1s ease-out;\n    -moz-transition: height 0.1s ease-out;\n    transition: height 0.1s ease-out;\n    -webkit-transition: overflow 0.1s linear;\n    -o-transition: overflow 0.1s linear;\n    -moz-transition: overflow 0.1s linear;\n    transition: overflow 0.1s linear; }\n  .dg li:not(.folder) {\n    cursor: auto;\n    height: 27px;\n    line-height: 27px;\n    padding: 0 4px 0 5px; }\n  .dg li.folder {\n    padding: 0;\n    border-left: 4px solid transparent; }\n  .dg li.title {\n    cursor: pointer;\n    margin-left: -4px; }\n  .dg .closed li:not(.title),\n  .dg .closed ul li,\n  .dg .closed ul li > * {\n    height: 0;\n    overflow: hidden;\n    border: 0; }\n  .dg .cr {\n    clear: both;\n    padding-left: 3px;\n    height: 27px;\n    overflow: hidden; }\n  .dg .property-name {\n    cursor: default;\n    float: left;\n    clear: left;\n    width: 40%;\n    overflow: hidden;\n    text-overflow: ellipsis; }\n  .dg .c {\n    float: left;\n    width: 60%;\n    position: relative; }\n  .dg .c input[type=text] {\n    border: 0;\n    margin-top: 4px;\n    padding: 3px;\n    width: 100%;\n    float: right; }\n  .dg .has-slider input[type=text] {\n    width: 30%;\n    /*display: none;*/\n    margin-left: 0; }\n  .dg .slider {\n    float: left;\n    width: 66%;\n    margin-left: -5px;\n    margin-right: 0;\n    height: 19px;\n    margin-top: 4px; }\n  .dg .slider-fg {\n    height: 100%; }\n  .dg .c input[type=checkbox] {\n    margin-top: 7px; }\n  .dg .c select {\n    margin-top: 5px; }\n  .dg .cr.function,\n  .dg .cr.function .property-name,\n  .dg .cr.function *,\n  .dg .cr.boolean,\n  .dg .cr.boolean * {\n    cursor: pointer; }\n  .dg .cr.color {\n    overflow: visible; }\n  .dg .selector {\n    display: none;\n    position: absolute;\n    margin-left: -9px;\n    margin-top: 23px;\n    z-index: 10; }\n  .dg .c:hover .selector,\n  .dg .selector.drag {\n    display: block; }\n  .dg li.save-row {\n    padding: 0; }\n    .dg li.save-row .button {\n      display: inline-block;\n      padding: 0px 6px; }\n  .dg.dialogue {\n    background-color: #222;\n    width: 460px;\n    padding: 15px;\n    font-size: 13px;\n    line-height: 15px; }\n\n/* TODO Separate style and structure */\n#dg-new-constructor {\n  padding: 10px;\n  color: #222;\n  font-family: Monaco, monospace;\n  font-size: 10px;\n  border: 0;\n  resize: none;\n  box-shadow: inset 1px 1px 1px #888;\n  word-wrap: break-word;\n  margin: 12px 0;\n  display: block;\n  width: 440px;\n  overflow-y: scroll;\n  height: 100px;\n  position: relative; }\n\n#dg-local-explain {\n  display: none;\n  font-size: 11px;\n  line-height: 17px;\n  border-radius: 3px;\n  background-color: #333;\n  padding: 8px;\n  margin-top: 10px; }\n  #dg-local-explain code {\n    font-size: 10px; }\n\n#dat-gui-save-locally {\n  display: none; }\n\n/** Main type */\n.dg {\n  color: #eee;\n  font: 11px 'Lucida Grande', sans-serif;\n  text-shadow: 0 -1px 0 #111;\n  /** Auto place */\n  /* Controller row, <li> */\n  /** Controllers */ }\n  .dg.main {\n    /** Scrollbar */ }\n    .dg.main::-webkit-scrollbar {\n      width: 5px;\n      background: #1a1a1a; }\n    .dg.main::-webkit-scrollbar-corner {\n      height: 0;\n      display: none; }\n    .dg.main::-webkit-scrollbar-thumb {\n      border-radius: 5px;\n      background: #676767; }\n  .dg li:not(.folder) {\n    background: #1a1a1a;\n    border-bottom: 1px solid #2c2c2c; }\n  .dg li.save-row {\n    line-height: 25px;\n    background: #dad5cb;\n    border: 0; }\n    .dg li.save-row select {\n      margin-left: 5px;\n      width: 108px; }\n    .dg li.save-row .button {\n      margin-left: 5px;\n      margin-top: 1px;\n      border-radius: 2px;\n      font-size: 9px;\n      line-height: 7px;\n      padding: 4px 4px 5px 4px;\n      background: #c5bdad;\n      color: #fff;\n      text-shadow: 0 1px 0 #b0a58f;\n      box-shadow: 0 -1px 0 #b0a58f;\n      cursor: pointer; }\n      .dg li.save-row .button.gears {\n        background: #c5bdad url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAsAAAANCAYAAAB/9ZQ7AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAQJJREFUeNpiYKAU/P//PwGIC/ApCABiBSAW+I8AClAcgKxQ4T9hoMAEUrxx2QSGN6+egDX+/vWT4e7N82AMYoPAx/evwWoYoSYbACX2s7KxCxzcsezDh3evFoDEBYTEEqycggWAzA9AuUSQQgeYPa9fPv6/YWm/Acx5IPb7ty/fw+QZblw67vDs8R0YHyQhgObx+yAJkBqmG5dPPDh1aPOGR/eugW0G4vlIoTIfyFcA+QekhhHJhPdQxbiAIguMBTQZrPD7108M6roWYDFQiIAAv6Aow/1bFwXgis+f2LUAynwoIaNcz8XNx3Dl7MEJUDGQpx9gtQ8YCueB+D26OECAAQDadt7e46D42QAAAABJRU5ErkJggg==) 2px 1px no-repeat;\n        height: 7px;\n        width: 8px; }\n      .dg li.save-row .button:hover {\n        background-color: #bab19e;\n        box-shadow: 0 -1px 0 #b0a58f; }\n  .dg li.folder {\n    border-bottom: 0; }\n  .dg li.title {\n    padding-left: 16px;\n    background: #000 url(data:image/gif;base64,R0lGODlhBQAFAJEAAP////Pz8////////yH5BAEAAAIALAAAAAAFAAUAAAIIlI+hKgFxoCgAOw==) 6px 10px no-repeat;\n    cursor: pointer;\n    border-bottom: 1px solid rgba(255, 255, 255, 0.2); }\n  .dg .closed li.title {\n    background-image: url(data:image/gif;base64,R0lGODlhBQAFAJEAAP////Pz8////////yH5BAEAAAIALAAAAAAFAAUAAAIIlGIWqMCbWAEAOw==); }\n  .dg .cr.boolean {\n    border-left: 3px solid #806787; }\n  .dg .cr.color {\n    border-left: 3px solid; }\n  .dg .cr.function {\n    border-left: 3px solid #e61d5f; }\n  .dg .cr.number {\n    border-left: 3px solid #2FA1D6; }\n    .dg .cr.number input[type=text] {\n      color: #2FA1D6; }\n  .dg .cr.string {\n    border-left: 3px solid #1ed36f; }\n    .dg .cr.string input[type=text] {\n      color: #1ed36f; }\n  .dg .cr.function:hover, .dg .cr.boolean:hover {\n    background: #111; }\n  .dg .c input[type=text] {\n    background: #303030;\n    outline: none; }\n    .dg .c input[type=text]:hover {\n      background: #3c3c3c; }\n    .dg .c input[type=text]:focus {\n      background: #494949;\n      color: #fff; }\n  .dg .c .slider {\n    background: #303030;\n    cursor: ew-resize; }\n  .dg .c .slider-fg {\n    background: #2FA1D6;\n    max-width: 100%; }\n  .dg .c .slider:hover {\n    background: #3c3c3c; }\n    .dg .c .slider:hover .slider-fg {\n      background: #44abda; }\n",""])},function(e,t){e.exports=function(){var e=[];return e.toString=function(){for(var e=[],t=0;t<this.length;t++){var n=this[t];n[2]?e.push("@media "+n[2]+"{"+n[1]+"}"):e.push(n[1])}return e.join("")},e.i=function(t,n){"string"==typeof t&&(t=[[null,t,""]]);for(var r={},o=0;o<this.length;o++){var i=this[o][0];"number"==typeof i&&(r[i]=!0)}for(o=0;o<t.length;o++){var a=t[o];"number"==typeof a[0]&&r[a[0]]||(n&&!a[2]?a[2]=n:n&&(a[2]="("+a[2]+") and ("+n+")"),e.push(a))}},e}}])});
//# sourceMappingURL=vendors.min.js.map
