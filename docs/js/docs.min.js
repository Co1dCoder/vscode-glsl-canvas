!function(){"use strict";var e=function(){function e(){var e=this;e.mouse=new Float32Array([0,0]),e.history=[],e.trails=new Array(10).fill(null).map(function(){return new Float32Array([0,0])})}function n(e){for(var n=this,t=n.trails,r=n.history,a=n.mouse,o=0,i=t.length,u=r.length?r[0]:a;o<i;){var l=o>0?t[o-1]:u,s=t[o],c=1/(5+o);s[0]+=(l[0]-s[0])*c,s[1]+=(l[1]-s[1])*c,n.update(e,"2fv","vec2","u_trails["+o+"]",s),o++}r.length&&r.shift()}function t(e,n){var t=this,r=t.mouse;r[0]=e,r[1]=n,t.push()}function r(){var e=this;e.history.push(new Float32Array(e.mouse))}function a(e,n,t,r,a){try{var o=e.uniforms[r]=e.uniforms[r]||{};o.name=r,o.value=a,o.type=t,o.method="uniform"+n,o.location=e.gl.getUniformLocation(e.program,r),e.gl[o.method].apply(e.gl,[o.location].concat(o.value))}catch(e){console.log("fastUpdate",e)}}e.prototype={render:n,move:t,push:function(e,n,t){var r,a,i,u=null,l=0;t||(t={});var s=function(){l=!1===t.leading?0:o(),u=null,i=e.apply(r,a),u||(r=a=null)};return function(){var c=o();l||!1!==t.leading||(l=c);var f=n-(c-l);return r=this,a=arguments,f<=0||f>n?(u&&(clearTimeout(u),u=null),l=c,i=e.apply(r,a),u||(r=a=null)):u||!1===t.trailing||(u=setTimeout(s,f)),i}}(r,1e3/60),update:a};var o=Date.now||function(){return(new Date).getTime()};return e}();window.TrailsService=e}(),function(){"use strict";function e(e,n){var t=new XMLHttpRequest;t.open("GET",e,!0),t.addEventListener("load",function(){n(t.responseText)}),t.send()}function n(){return function(e){if(""==e)return{};for(var n={},t=0;t<e.length;++t){var r=e[t].split("=",2);1==r.length?n[r[0]]="":n[r[0]]=decodeURIComponent(r[1].replace(/\+/g," "))}return n}(window.location.search.substr(1).split("&"))}var t=new TrailsService;!function(){var r="";e("playgrounds/lib.glsl",function(a){r=a,e("playgrounds/"+(n().glsl||"main")+".glsl",function(e){var n=document.querySelector(".editor");n.innerHTML=e;var a=new GlslEditor(n,{canvas_size:400,canvas_draggable:!0,fileDrops:!1,frag_header:r,menu:!1,multipleBuffers:!1,theme:"monokai",watchHash:!1}),o=a.shader.canvas;o.uniformTexture("u_texture_0","https://rawgit.com/actarian/plausible-brdf-shader/master/textures/noise/cloud-1.png",{filtering:"mipmap",repeat:!0}),o.on("render",function(){t.render(o),o.forceRender=!0}),o.canvas.addEventListener("mousemove",function(e){t.move(e.x-a.shader.el.offsetLeft,a.shader.el.offsetTop+a.shader.el.offsetHeight-e.y)})})})}()}();
//# sourceMappingURL=docs.min.js.map
